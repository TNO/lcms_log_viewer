!function(){var __webpack_modules__={2240:function(ee,et,ei){ee=ei.nmd(ee),ee=ei.nmd(ee);var en=function ee(et,ei,en){null===et&&(et=Function.prototype);var es=Object.getOwnPropertyDescriptor(et,ei);if(void 0===es){var er=Object.getPrototypeOf(et);if(null===er)return;return ee(er,ei,en)}if("value"in es)return es.value;var eo=es.get;if(void 0!==eo)return eo.call(en)},es=function(){function ee(ee,et){for(var ei=0;ei<et.length;ei++){var en=et[ei];en.enumerable=en.enumerable||!1,en.configurable=!0,"value"in en&&(en.writable=!0),Object.defineProperty(ee,en.key,en)}}return function(et,ei,en){return ei&&ee(et.prototype,ei),en&&ee(et,en),et}}();function er(ee,et){if(!ee)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return et&&("object"==typeof et||"function"==typeof et)?et:ee}function eo(ee,et){if("function"!=typeof et&&null!==et)throw TypeError("Super expression must either be null or a function, not "+typeof et);ee.prototype=Object.create(et&&et.prototype,{constructor:{value:ee,enumerable:!1,writable:!0,configurable:!0}}),et&&(Object.setPrototypeOf?Object.setPrototypeOf(ee,et):ee.__proto__=et)}function eh(ee,et){if(!(ee instanceof et))throw TypeError("Cannot call a class as a function")}!function(ee){window.cash=ee()}(function(){var ee,et=document,ei=window,en=Array.prototype,es=en.slice,er=en.filter,eo=en.push,eh=function(){},ed=function(ee){return typeof ee==typeof eh&&ee.call},ec=function(ee){return"string"==typeof ee},eu=/^#[\w-]*$/,ep=/^\.[\w-]*$/,ef=/<.+>/,eg=/^\w+$/;function em(ee,ei){return ei=ei||et,ep.test(ee)?ei.getElementsByClassName(ee.slice(1)):eg.test(ee)?ei.getElementsByTagName(ee):ei.querySelectorAll(ee)}function ey(ei){if(!ee){var en=(ee=et.implementation.createHTMLDocument(null)).createElement("base");en.href=et.location.href,ee.head.appendChild(en)}return ee.body.innerHTML=ei,ee.body.childNodes}function eb(ee){"loading"!==et.readyState?ee():et.addEventListener("DOMContentLoaded",ee)}function e_(ee,en){if(!ee)return this;if(ee.cash&&ee!==ei)return ee;var es,er=ee,eo=0;if(ec(ee))er=eu.test(ee)?et.getElementById(ee.slice(1)):ef.test(ee)?ey(ee):em(ee,en);else if(ed(ee))return eb(ee),this;if(!er)return this;if(er.nodeType||er===ei)this[0]=er,this.length=1;else for(es=this.length=er.length;eo<es;eo++)this[eo]=er[eo];return this}function eA(ee,et){return new e_(ee,et)}var ew=eA.fn=eA.prototype=e_.prototype={cash:!0,length:0,push:eo,splice:en.splice,map:en.map,init:e_};function ek(ee,et){for(var ei=ee.length,en=0;en<ei&&!1!==et.call(ee[en],ee[en],en,ee);en++);}function eC(ee,et){var ei=ee&&(ee.matches||ee.webkitMatchesSelector||ee.mozMatchesSelector||ee.msMatchesSelector||ee.oMatchesSelector);return!!ei&&ei.call(ee,et)}function eE(ee){return ec(ee)?eC:ee.cash?function(et){return ee.is(et)}:function(ee,et){return ee===et}}function ex(ee){return eA(es.call(ee).filter(function(ee,et,ei){return ei.indexOf(ee)===et}))}Object.defineProperty(ew,"constructor",{value:eA}),eA.parseHTML=ey,eA.noop=eh,eA.isFunction=ed,eA.isString=ec,eA.extend=ew.extend=function(ee){ee=ee||{};var et=es.call(arguments),ei=et.length,en=1;for(1===et.length&&(ee=this,en=0);en<ei;en++)if(et[en])for(var er in et[en])et[en].hasOwnProperty(er)&&(ee[er]=et[en][er]);return ee},eA.extend({merge:function(ee,et){for(var ei=+et.length,en=ee.length,es=0;es<ei;en++,es++)ee[en]=et[es];return ee.length=en,ee},each:ek,matches:eC,unique:ex,isArray:Array.isArray,isNumeric:function(ee){return!isNaN(parseFloat(ee))&&isFinite(ee)}});var eS=eA.uid="_cash"+Date.now();function eM(ee){return ee[eS]=ee[eS]||{}}function eT(ee,et,ei){return eM(ee)[et]=ei}function eO(ee,et){var ei=eM(ee);return void 0===ei[et]&&(ei[et]=ee.dataset?ee.dataset[et]:eA(ee).attr("data-"+et)),ei[et]}function eP(ee,et){var ei=eM(ee);ei?delete ei[et]:ee.dataset?delete ee.dataset[et]:eA(ee).removeAttr("data-"+name)}ew.extend({data:function(ee,et){if(ec(ee))return void 0===et?eO(this[0],ee):this.each(function(ei){return eT(ei,ee,et)});for(var ei in ee)this.data(ei,ee[ei]);return this},removeData:function(ee){return this.each(function(et){return eP(et,ee)})}});var eL=/\S+/g;function eR(ee){return ec(ee)&&ee.match(eL)}function eD(ee,et){return ee.classList?ee.classList.contains(et):RegExp("(^| )"+et+"( |$)","gi").test(ee.className)}function eI(ee,et,ei){ee.classList?ee.classList.add(et):ei.indexOf(" "+et+" ")&&(ee.className+=" "+et)}function eF(ee,et){ee.classList?ee.classList.remove(et):ee.className=ee.className.replace(et,"")}ew.extend({addClass:function(ee){var et=eR(ee);return et?this.each(function(ee){var ei=" "+ee.className+" ";ek(et,function(et){eI(ee,et,ei)})}):this},attr:function(ee,et){if(ee){if(ec(ee))return void 0===et?this[0]?this[0].getAttribute?this[0].getAttribute(ee):this[0][ee]:void 0:this.each(function(ei){ei.setAttribute?ei.setAttribute(ee,et):ei[ee]=et});for(var ei in ee)this.attr(ei,ee[ei]);return this}},hasClass:function(ee){var et=!1,ei=eR(ee);return ei&&ei.length&&this.each(function(ee){return!(et=eD(ee,ei[0]))}),et},prop:function(ee,et){if(ec(ee))return void 0===et?this[0][ee]:this.each(function(ei){ei[ee]=et});for(var ei in ee)this.prop(ei,ee[ei]);return this},removeAttr:function(ee){return this.each(function(et){et.removeAttribute?et.removeAttribute(ee):delete et[ee]})},removeClass:function(ee){if(!arguments.length)return this.attr("class","");var et=eR(ee);return et?this.each(function(ee){ek(et,function(et){eF(ee,et)})}):this},removeProp:function(ee){return this.each(function(et){delete et[ee]})},toggleClass:function(ee,et){if(void 0!==et)return this[et?"addClass":"removeClass"](ee);var ei=eR(ee);return ei?this.each(function(ee){var et=" "+ee.className+" ";ek(ei,function(ei){eD(ee,ei)?eF(ee,ei):eI(ee,ei,et)})}):this}}),ew.extend({add:function(ee,et){return ex(eA.merge(this,eA(ee,et)))},each:function(ee){return ek(this,ee),this},eq:function(ee){return eA(this.get(ee))},filter:function(ee){if(!ee)return this;var et=ed(ee)?ee:eE(ee);return eA(er.call(this,function(ei){return et(ei,ee)}))},first:function(){return this.eq(0)},get:function(ee){return void 0===ee?es.call(this):ee<0?this[ee+this.length]:this[ee]},index:function(ee){var et=ee?eA(ee)[0]:this[0],ei=ee?this:eA(et).parent().children();return es.call(ei).indexOf(et)},last:function(){return this.eq(-1)}});var eB=function(){var ee=/(?:^\w|[A-Z]|\b\w)/g,et=/[\s-_]+/g;return function(ei){return ei.replace(ee,function(ee,et){return ee[0===et?"toLowerCase":"toUpperCase"]()}).replace(et,"")}}(),eN=function(){var ee={},et=document.createElement("div").style;return function(ei){if(ee[ei=eB(ei)])return ee[ei];var en=ei.charAt(0).toUpperCase()+ei.slice(1);return ek((ei+" "+["webkit","moz","ms","o"].join(en+" ")+en).split(" "),function(en){if(en in et)return ee[en]=ei=ee[ei]=en,!1}),ee[ei]}}();function e$(ee,et){return parseInt(ei.getComputedStyle(ee[0],null)[et],10)||0}function ej(ee,et,ei){var en=eO(ee,"_cashEvents")||eT(ee,"_cashEvents",{});en[et]=en[et]||[],en[et].push(ei),ee.addEventListener(et,ei)}function eH(ee,et,ei){var en,es=eO(ee,"_cashEvents"),er=es&&es[et];er&&(ei?(ee.removeEventListener(et,ei),(en=er.indexOf(ei))>=0&&er.splice(en,1)):(ek(er,function(ei){ee.removeEventListener(et,ei)}),er=[]))}function eW(ee,et){return"&"+encodeURIComponent(ee)+"="+encodeURIComponent(et).replace(/%20/g,"+")}function ez(ee){var et=[];return ek(ee.options,function(ee){ee.selected&&et.push(ee.value)}),et.length?et:null}function eU(ee){var et=ee.selectedIndex;return et>=0?ee.options[et].value:null}function eq(ee){var et=ee.type;if(!et)return null;switch(et.toLowerCase()){case"select-one":return eU(ee);case"select-multiple":return ez(ee);case"radio":case"checkbox":return ee.checked?ee.value:null;default:return ee.value?ee.value:null}}function eV(ee,et,ei){if(ei){var en=ee.childNodes[0];ee.insertBefore(et,en)}else ee.appendChild(et)}function eX(ee,et,ei){var en=ec(et);if(!en&&et.length){ek(et,function(et){return eX(ee,et,ei)});return}ek(ee,en?function(ee){return ee.insertAdjacentHTML(ei?"afterbegin":"beforeend",et)}:function(ee,en){return eV(ee,0===en?et:et.cloneNode(!0),ei)})}eA.prefixedProp=eN,eA.camelCase=eB,ew.extend({css:function(ee,et){if(ec(ee))return ee=eN(ee),arguments.length>1?this.each(function(ei){return ei.style[ee]=et}):ei.getComputedStyle(this[0])[ee];for(var en in ee)this.css(en,ee[en]);return this}}),ek(["Width","Height"],function(ee){var et=ee.toLowerCase();ew[et]=function(){return this[0].getBoundingClientRect()[et]},ew["inner"+ee]=function(){return this[0]["client"+ee]},ew["outer"+ee]=function(et){return this[0]["offset"+ee]+(et?e$(this,"margin"+("Width"===ee?"Left":"Top"))+e$(this,"margin"+("Width"===ee?"Right":"Bottom")):0)}}),ew.extend({off:function(ee,et){return this.each(function(ei){return eH(ei,ee,et)})},on:function(ee,et,ei,en){var es;if(!ec(ee)){for(var er in ee)this.on(er,et,ee[er]);return this}return(ed(et)&&(ei=et,et=null),"ready"===ee)?(eb(ei),this):(et&&(es=ei,ei=function(ee){for(var ei=ee.target;!eC(ei,et);){if(ei===this||null===ei)return!1;ei=ei.parentNode}ei&&es.call(ei,ee)}),this.each(function(et){var es=ei;en&&(es=function(){ei.apply(this,arguments),eH(et,ee,es)}),ej(et,ee,es)}))},one:function(ee,et,ei){return this.on(ee,et,ei,!0)},ready:eb,trigger:function(ee,et){if(document.createEvent){var ei=document.createEvent("HTMLEvents");return ei.initEvent(ee,!0,!1),ei=this.extend(ei,et),this.each(function(ee){return ee.dispatchEvent(ei)})}}}),ew.extend({serialize:function(){var ee="";return ek(this[0].elements||this,function(et){if(!et.disabled&&"FIELDSET"!==et.tagName){var ei=et.name;switch(et.type.toLowerCase()){case"file":case"reset":case"submit":case"button":break;case"select-multiple":var en=eq(et);null!==en&&ek(en,function(et){ee+=eW(ei,et)});break;default:var es=eq(et);null!==es&&(ee+=eW(ei,es))}}}),ee.substr(1)},val:function(ee){return void 0===ee?eq(this[0]):this.each(function(et){return et.value=ee})}}),ew.extend({after:function(ee){return eA(ee).insertAfter(this),this},append:function(ee){return eX(this,ee),this},appendTo:function(ee){return eX(eA(ee),this),this},before:function(ee){return eA(ee).insertBefore(this),this},clone:function(){return eA(this.map(function(ee){return ee.cloneNode(!0)}))},empty:function(){return this.html(""),this},html:function(ee){if(void 0===ee)return this[0].innerHTML;var et=ee.nodeType?ee[0].outerHTML:ee;return this.each(function(ee){return ee.innerHTML=et})},insertAfter:function(ee){var et=this;return eA(ee).each(function(ee,ei){var en=ee.parentNode,es=ee.nextSibling;et.each(function(ee){en.insertBefore(0===ei?ee:ee.cloneNode(!0),es)})}),this},insertBefore:function(ee){var et=this;return eA(ee).each(function(ee,ei){var en=ee.parentNode;et.each(function(et){en.insertBefore(0===ei?et:et.cloneNode(!0),ee)})}),this},prepend:function(ee){return eX(this,ee,!0),this},prependTo:function(ee){return eX(eA(ee),this,!0),this},remove:function(){return this.each(function(ee){if(ee.parentNode)return ee.parentNode.removeChild(ee)})},text:function(ee){return void 0===ee?this[0].textContent:this.each(function(et){return et.textContent=ee})}});var eG=et.documentElement;return ew.extend({position:function(){var ee=this[0];return{left:ee.offsetLeft,top:ee.offsetTop}},offset:function(){var ee=this[0].getBoundingClientRect();return{top:ee.top+ei.pageYOffset-eG.clientTop,left:ee.left+ei.pageXOffset-eG.clientLeft}},offsetParent:function(){return eA(this[0].offsetParent)}}),ew.extend({children:function(ee){var et=[];return this.each(function(ee){eo.apply(et,ee.children)}),et=ex(et),ee?et.filter(function(et){return eC(et,ee)}):et},closest:function(ee){return!ee||this.length<1?eA():this.is(ee)?this.filter(ee):this.parent().closest(ee)},is:function(ee){if(!ee)return!1;var et=!1,ei=eE(ee);return this.each(function(en){return!(et=ei(en,ee))}),et},find:function(ee){if(!ee||ee.nodeType)return eA(ee&&this.has(ee).length?ee:null);var et=[];return this.each(function(ei){eo.apply(et,em(ee,ei))}),ex(et)},has:function(ee){var et=ec(ee)?function(et){return 0!==em(ee,et).length}:function(et){return et.contains(ee)};return this.filter(et)},next:function(){return eA(this[0].nextElementSibling)},not:function(ee){if(!ee)return this;var et=eE(ee);return this.filter(function(ei){return!et(ei,ee)})},parent:function(){var ee=[];return this.each(function(et){et&&et.parentNode&&ee.push(et.parentNode)}),ex(ee)},parents:function(ee){var ei,en=[];return this.each(function(es){for(ei=es;ei&&ei.parentNode&&ei!==et.body.parentNode;)ei=ei.parentNode,(!ee||ee&&eC(ei,ee))&&en.push(ei)}),ex(en)},prev:function(){return eA(this[0].previousElementSibling)},siblings:function(ee){var et=this.parent().children(ee),ei=this[0];return et.filter(function(ee){return ee!==ei})}}),eA});var ed=function(){function ee(et,ei,en){eh(this,ee),ei instanceof Element||console.error(Error(ei+" is not an HTML Element"));var es=et.getInstance(ei);es&&es.destroy(),this.el=ei,this.$el=cash(ei)}return es(ee,null,[{key:"init",value:function(ee,et,ei){var en=null;if(et instanceof Element)en=new ee(et,ei);else if(et&&(et.jquery||et.cash||et instanceof NodeList)){for(var es=[],er=0;er<et.length;er++)es.push(new ee(et[er],ei));en=es}return en}}]),ee}();!function(ee){ee.Package?M={}:ee.M={},M.jQueryLoaded=!!ee.jQuery}(window),"function"==typeof define&&define.amd?define("M",[],function(){return M}):void 0===et||et.nodeType||(void 0!==ee&&!ee.nodeType&&ee.exports&&(et=ee.exports=M),et.default=M),M.version="1.0.0",M.keys={TAB:9,ENTER:13,ESC:27,ARROW_UP:38,ARROW_DOWN:40},M.tabPressed=!1,M.keyDown=!1;var ec=function(ee){M.keyDown=!0,(ee.which===M.keys.TAB||ee.which===M.keys.ARROW_DOWN||ee.which===M.keys.ARROW_UP)&&(M.tabPressed=!0)},eu=function(ee){M.keyDown=!1,(ee.which===M.keys.TAB||ee.which===M.keys.ARROW_DOWN||ee.which===M.keys.ARROW_UP)&&(M.tabPressed=!1)},ep=function(ee){M.keyDown&&document.body.classList.add("keyboard-focused")},ef=function(ee){document.body.classList.remove("keyboard-focused")};document.addEventListener("keydown",ec,!0),document.addEventListener("keyup",eu,!0),document.addEventListener("focus",ep,!0),document.addEventListener("blur",ef,!0),M.initializeJqueryWrapper=function(ee,et,ei){jQuery.fn[et]=function(en){if(ee.prototype[en]){var es=Array.prototype.slice.call(arguments,1);if("get"===en.slice(0,3)){var er=this.first()[0][ei];return er[en].apply(er,es)}return this.each(function(){var ee=this[ei];ee[en].apply(ee,es)})}if("object"==typeof en||!en)return ee.init(this,arguments[0]),this;jQuery.error("Method "+en+" does not exist on jQuery."+et)}},M.AutoInit=function(ee){var et=ee||document.body,ei={Autocomplete:et.querySelectorAll(".autocomplete:not(.no-autoinit)"),Carousel:et.querySelectorAll(".carousel:not(.no-autoinit)"),Chips:et.querySelectorAll(".chips:not(.no-autoinit)"),Collapsible:et.querySelectorAll(".collapsible:not(.no-autoinit)"),Datepicker:et.querySelectorAll(".datepicker:not(.no-autoinit)"),Dropdown:et.querySelectorAll(".dropdown-trigger:not(.no-autoinit)"),Materialbox:et.querySelectorAll(".materialboxed:not(.no-autoinit)"),Modal:et.querySelectorAll(".modal:not(.no-autoinit)"),Parallax:et.querySelectorAll(".parallax:not(.no-autoinit)"),Pushpin:et.querySelectorAll(".pushpin:not(.no-autoinit)"),ScrollSpy:et.querySelectorAll(".scrollspy:not(.no-autoinit)"),FormSelect:et.querySelectorAll("select:not(.no-autoinit)"),Sidenav:et.querySelectorAll(".sidenav:not(.no-autoinit)"),Tabs:et.querySelectorAll(".tabs:not(.no-autoinit)"),TapTarget:et.querySelectorAll(".tap-target:not(.no-autoinit)"),Timepicker:et.querySelectorAll(".timepicker:not(.no-autoinit)"),Tooltip:et.querySelectorAll(".tooltipped:not(.no-autoinit)"),FloatingActionButton:et.querySelectorAll(".fixed-action-btn:not(.no-autoinit)")};for(var en in ei)M[en].init(ei[en])},M.objectSelectorString=function(ee){return((ee.prop("tagName")||"")+(ee.attr("id")||"")+(ee.attr("class")||"")).replace(/\s/g,"")},M.guid=function(){function ee(){return Math.floor((1+Math.random())*65536).toString(16).substring(1)}return function(){return ee()+ee()+"-"+ee()+"-"+ee()+"-"+ee()+"-"+ee()+ee()+ee()}}(),M.escapeHash=function(ee){return ee.replace(/(:|\.|\[|\]|,|=|\/)/g,"\\$1")},M.elementOrParentIsFixed=function(ee){var et=$(ee),ei=et.add(et.parents()),en=!1;return ei.each(function(){if("fixed"===$(this).css("position"))return en=!0,!1}),en},M.checkWithinContainer=function(ee,et,ei){var en={top:!1,right:!1,bottom:!1,left:!1},es=ee.getBoundingClientRect(),er=ee===document.body?Math.max(es.bottom,window.innerHeight):es.bottom,eo=ee.scrollLeft,eh=ee.scrollTop,ed=et.left-eo,ec=et.top-eh;return(ed<es.left+ei||ed<ei)&&(en.left=!0),(ed+et.width>es.right-ei||ed+et.width>window.innerWidth-ei)&&(en.right=!0),(ec<es.top+ei||ec<ei)&&(en.top=!0),(ec+et.height>er-ei||ec+et.height>window.innerHeight-ei)&&(en.bottom=!0),en},M.checkPossibleAlignments=function(ee,et,ei,en){var es={top:!0,right:!0,bottom:!0,left:!0,spaceOnTop:null,spaceOnRight:null,spaceOnBottom:null,spaceOnLeft:null},er="visible"===getComputedStyle(et).overflow,eo=et.getBoundingClientRect(),eh=Math.min(eo.height,window.innerHeight),ed=Math.min(eo.width,window.innerWidth),ec=ee.getBoundingClientRect(),eu=et.scrollLeft,ep=et.scrollTop,ef=ei.left-eu,eg=ei.top-ep,em=ei.top+ec.height-ep;return es.spaceOnRight=er?window.innerWidth-(ec.left+ei.width):ed-(ef+ei.width),es.spaceOnRight<0&&(es.left=!1),es.spaceOnLeft=er?ec.right-ei.width:ef-ei.width+ec.width,es.spaceOnLeft<0&&(es.right=!1),es.spaceOnBottom=er?window.innerHeight-(ec.top+ei.height+en):eh-(eg+ei.height+en),es.spaceOnBottom<0&&(es.top=!1),es.spaceOnTop=er?ec.bottom-(ei.height+en):em-(ei.height-en),es.spaceOnTop<0&&(es.bottom=!1),es},M.getOverflowParent=function(ee){return null==ee?null:ee===document.body||"visible"!==getComputedStyle(ee).overflow?ee:M.getOverflowParent(ee.parentElement)},M.getIdFromTrigger=function(ee){var et=ee.getAttribute("data-target");return et||(et=(et=ee.getAttribute("href"))?et.slice(1):""),et},M.getDocumentScrollTop=function(){return window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0},M.getDocumentScrollLeft=function(){return window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0};var eg=Date.now||function(){return new Date().getTime()};M.throttle=function(ee,et,ei){var en=void 0,es=void 0,er=void 0,eo=null,eh=0;ei||(ei={});var ed=function(){eh=!1===ei.leading?0:eg(),eo=null,er=ee.apply(en,es),en=es=null};return function(){var ec=eg();eh||!1!==ei.leading||(eh=ec);var eu=et-(ec-eh);return en=this,es=arguments,eu<=0?(clearTimeout(eo),eo=null,eh=ec,er=ee.apply(en,es),en=es=null):eo||!1===ei.trailing||(eo=setTimeout(ed,eu)),er}};var em={scope:{}};em.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(ee,et,ei){if(ei.get||ei.set)throw TypeError("ES3 does not support getters and setters.");ee!=Array.prototype&&ee!=Object.prototype&&(ee[et]=ei.value)},em.getGlobal=function(ee){return"undefined"!=typeof window&&window===ee?ee:void 0!==ei.g&&null!=ei.g?ei.g:ee},em.global=em.getGlobal(this),em.SYMBOL_PREFIX="jscomp_symbol_",em.initSymbol=function(){em.initSymbol=function(){},em.global.Symbol||(em.global.Symbol=em.Symbol)},em.symbolCounter_=0,em.Symbol=function(ee){return em.SYMBOL_PREFIX+(ee||"")+em.symbolCounter_++},em.initSymbolIterator=function(){em.initSymbol();var ee=em.global.Symbol.iterator;ee||(ee=em.global.Symbol.iterator=em.global.Symbol("iterator")),"function"!=typeof Array.prototype[ee]&&em.defineProperty(Array.prototype,ee,{configurable:!0,writable:!0,value:function(){return em.arrayIterator(this)}}),em.initSymbolIterator=function(){}},em.arrayIterator=function(ee){var et=0;return em.iteratorPrototype(function(){return et<ee.length?{done:!1,value:ee[et++]}:{done:!0}})},em.iteratorPrototype=function(ee){return em.initSymbolIterator(),(ee={next:ee})[em.global.Symbol.iterator]=function(){return this},ee},em.array=em.array||{},em.iteratorFromArray=function(ee,et){em.initSymbolIterator(),ee instanceof String&&(ee+="");var ei=0,en={next:function(){if(ei<ee.length){var es=ei++;return{value:et(es,ee[es]),done:!1}}return en.next=function(){return{done:!0,value:void 0}},en.next()}};return en[Symbol.iterator]=function(){return en},en},em.polyfill=function(ee,et,ei,en){if(et){for(en=0,ei=em.global,ee=ee.split(".");en<ee.length-1;en++){var es=ee[en];es in ei||(ei[es]={}),ei=ei[es]}(et=et(en=ei[ee=ee[ee.length-1]]))!=en&&null!=et&&em.defineProperty(ei,ee,{configurable:!0,writable:!0,value:et})}},em.polyfill("Array.prototype.keys",function(ee){return ee||function(){return em.iteratorFromArray(this,function(ee){return ee})}},"es6-impl","es3");var ey=this;!function(ee){M.anime=ee()}(function(){function ee(ee){if(!eH.col(ee))try{return document.querySelectorAll(ee)}catch(ee){}}function et(ee,et){for(var ei=ee.length,en=2<=arguments.length?arguments[1]:void 0,es=[],er=0;er<ei;er++)if(er in ee){var eo=ee[er];et.call(en,eo,er,ee)&&es.push(eo)}return es}function ei(ee){return ee.reduce(function(ee,et){return ee.concat(eH.arr(et)?ei(et):et)},[])}function en(et){return eH.arr(et)?et:(eH.str(et)&&(et=ee(et)||et),et instanceof NodeList||et instanceof HTMLCollection?[].slice.call(et):[et])}function es(ee,et){return ee.some(function(ee){return ee===et})}function er(ee){var et,ei={};for(et in ee)ei[et]=ee[et];return ei}function eo(ee,et){var ei,en=er(ee);for(ei in ee)en[ei]=et.hasOwnProperty(ei)?et[ei]:ee[ei];return en}function eh(ee,et){var ei,en=er(ee);for(ei in et)en[ei]=eH.und(ee[ei])?et[ei]:ee[ei];return en}function ed(ee){ee=ee.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(ee,et,ei,en){return et+et+ei+ei+en+en});var et=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(ee);ee=parseInt(et[1],16);var ei=parseInt(et[2],16),et=parseInt(et[3],16);return"rgba("+ee+","+ei+","+et+",1)"}function ec(ee){function et(ee,et,ei){return 0>ei&&(ei+=1),1<ei&&--ei,ei<1/6?ee+6*(et-ee)*ei:.5>ei?et:ei<2/3?ee+(et-ee)*(2/3-ei)*6:ee}var ei=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(ee)||/hsla\((\d+),\s*([\d.]+)%,\s*([\d.]+)%,\s*([\d.]+)\)/g.exec(ee);ee=parseInt(ei[1])/360;var en=parseInt(ei[2])/100,es=parseInt(ei[3])/100,ei=ei[4]||1;if(0==en)es=en=ee=es;else{var er=.5>es?es*(1+en):es+en-es*en,eo=2*es-er,es=et(eo,er,ee+1/3),en=et(eo,er,ee);ee=et(eo,er,ee-1/3)}return"rgba("+255*es+","+255*en+","+255*ee+","+ei+")"}function eu(ee){if(ee=/([\+\-]?[0-9#\.]+)(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/.exec(ee))return ee[2]}function ep(ee){return -1<ee.indexOf("translate")||"perspective"===ee?"px":-1<ee.indexOf("rotate")||-1<ee.indexOf("skew")?"deg":void 0}function ef(ee,et){return eH.fnc(ee)?ee(et.target,et.id,et.total):ee}function eg(ee,et){if(et in ee.style)return getComputedStyle(ee).getPropertyValue(et.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase())||"0"}function em(ee,et){return eH.dom(ee)&&es(ej,et)?"transform":eH.dom(ee)&&(ee.getAttribute(et)||eH.svg(ee)&&ee[et])?"attribute":eH.dom(ee)&&"transform"!==et&&eg(ee,et)?"css":null!=ee[et]?"object":void 0}function eb(ee,ei){var en=ep(ei),en=-1<ei.indexOf("scale")?1:0+en;if(!(ee=ee.style.transform))return en;for(var es=[],er=[],eo=[],eh=/(\w+)\((.+?)\)/g;es=eh.exec(ee);)er.push(es[1]),eo.push(es[2]);return(ee=et(eo,function(ee,et){return er[et]===ei})).length?ee[0]:en}function e_(ee,et){switch(em(ee,et)){case"transform":return eb(ee,et);case"css":return eg(ee,et);case"attribute":return ee.getAttribute(et)}return ee[et]||0}function eA(ee,et){var ei=/^(\*=|\+=|-=)/.exec(ee);if(!ei)return ee;var en=eu(ee)||0;switch(et=parseFloat(et),ee=parseFloat(ee.replace(ei[0],"")),ei[0][0]){case"+":return et+ee+en;case"-":return et-ee+en;case"*":return et*ee+en}}function ew(ee,et){return Math.sqrt(Math.pow(et.x-ee.x,2)+Math.pow(et.y-ee.y,2))}function ek(ee){ee=ee.points;for(var et,ei=0,en=0;en<ee.numberOfItems;en++){var es=ee.getItem(en);0<en&&(ei+=ew(et,es)),et=es}return ei}function eC(ee){if(ee.getTotalLength)return ee.getTotalLength();switch(ee.tagName.toLowerCase()){case"circle":return 2*Math.PI*ee.getAttribute("r");case"rect":return 2*ee.getAttribute("width")+2*ee.getAttribute("height");case"line":return ew({x:ee.getAttribute("x1"),y:ee.getAttribute("y1")},{x:ee.getAttribute("x2"),y:ee.getAttribute("y2")});case"polyline":return ek(ee);case"polygon":var et=ee.points;return ek(ee)+ew(et.getItem(et.numberOfItems-1),et.getItem(0))}}function eE(ee,et){function ei(ei){return ei=void 0===ei?0:ei,ee.el.getPointAtLength(1<=et+ei?et+ei:0)}var en=ei(),es=ei(-1),er=ei(1);switch(ee.property){case"x":return en.x;case"y":return en.y;case"angle":return 180*Math.atan2(er.y-es.y,er.x-es.x)/Math.PI}}function ex(ee,et){var ei,en=/-?\d*\.?\d+/g;if(ei=eH.pth(ee)?ee.totalLength:ee,eH.col(ei)){if(eH.rgb(ei)){var es=/rgb\((\d+,\s*[\d]+,\s*[\d]+)\)/g.exec(ei);ei=es?"rgba("+es[1]+",1)":ei}else ei=eH.hex(ei)?ed(ei):eH.hsl(ei)?ec(ei):void 0}else es=(es=eu(ei))?ei.substr(0,ei.length-es.length):ei,ei=et&&!/\s/g.test(ei)?es+et:es;return{original:ei+="",numbers:ei.match(en)?ei.match(en).map(Number):[0],strings:eH.str(ee)||et?ei.split(en):[]}}function eS(ee){return et(ee=ee?ei(eH.arr(ee)?ee.map(en):en(ee)):[],function(ee,et,ei){return ei.indexOf(ee)===et})}function eM(ee){var et=eS(ee);return et.map(function(ee,ei){return{target:ee,id:ei,total:et.length}})}function eT(ee,et){var ei=er(et);if(eH.arr(ee)){var es=ee.length;2!==es||eH.obj(ee[0])?eH.fnc(et.duration)||(ei.duration=et.duration/es):ee={value:ee}}return en(ee).map(function(ee,ei){return ei=ei?0:et.delay,ee=eH.obj(ee)&&!eH.pth(ee)?ee:{value:ee},eH.und(ee.delay)&&(ee.delay=ei),ee}).map(function(ee){return eh(ee,ei)})}function eO(ee,et){var ei,en={};for(ei in ee){var es=ef(ee[ei],et);eH.arr(es)&&1===(es=es.map(function(ee){return ef(ee,et)})).length&&(es=es[0]),en[ei]=es}return en.duration=parseFloat(en.duration),en.delay=parseFloat(en.delay),en}function eP(ee){return eH.arr(ee)?eW.apply(this,ee):ez[ee]}function eL(ee,et){var ei;return ee.tweens.map(function(en){var es=(en=eO(en,et)).value,er=e_(et.target,ee.name),eo=ei?ei.to.original:er,eo=eH.arr(es)?es[0]:eo,eh=eA(eH.arr(es)?es[1]:es,eo),er=eu(eh)||eu(eo)||eu(er);return en.from=ex(eo,er),en.to=ex(eh,er),en.start=ei?ei.end:ee.offset,en.end=en.start+en.delay+en.duration,en.easing=eP(en.easing),en.elasticity=(1e3-Math.min(Math.max(en.elasticity,1),999))/1e3,en.isPath=eH.pth(es),en.isColor=eH.col(en.from.original),en.isColor&&(en.round=1),ei=en})}function eR(ee,en){return et(ei(ee.map(function(ee){return en.map(function(et){var ei=em(ee.target,et.name);if(ei){var en=eL(et,ee);et={type:ei,property:et.name,animatable:ee,tweens:en,duration:en[en.length-1].end,delay:en[0].delay}}else et=void 0;return et})})),function(ee){return!eH.und(ee)})}function eD(ee,et,ei,en){var es="delay"===ee;return et.length?(es?Math.min:Math.max).apply(Math,et.map(function(et){return et[ee]})):es?en.delay:ei.offset+en.delay+en.duration}function eI(ee){var et,ei=eo(eN,ee),en=eo(e$,ee),es=eM(ee.targets),er=[],ed=eh(ei,en);for(et in ee)ed.hasOwnProperty(et)||"targets"===et||er.push({name:et,offset:ed.offset,tweens:eT(ee[et],en)});return ee=eR(es,er),eh(ei,{children:[],animatables:es,animations:ee,duration:eD("duration",ee,ei,en),delay:eD("delay",ee,ei,en)})}function eF(ee){function ei(){return window.Promise&&new Promise(function(ee){return ep=ee})}function en(ee){return em.reversed?em.duration-ee:ee}function es(ee){for(var ei=0,en={},es=em.animations,er=es.length;ei<er;){var eo=es[ei],eh=eo.animatable,ed=eo.tweens,ec=ed.length-1,eu=ed[ec];ec&&(eu=et(ed,function(et){return ee<et.end})[0]||eu);for(var ed=Math.min(Math.max(ee-eu.start-eu.delay,0),eu.duration)/eu.duration,ep=isNaN(ed)?1:eu.easing(ed,eu.elasticity),ed=eu.to.strings,ef=eu.round,ec=[],ey=void 0,ey=eu.to.numbers.length,eb=0;eb<ey;eb++){var e_=eu.to.numbers[eb],eA=eu.from.numbers[eb],e_=eu.isPath?eE(eu.value,ep*e_):eA+ep*(e_-eA);ef&&(eu.isColor&&2<eb||(e_=Math.round(e_*ef)/ef)),ec.push(e_)}if(eu=ed.length)for(ey=ed[0],ep=0;ep<eu;ep++)ef=ed[ep+1],isNaN(eb=ec[ep])||(ey=ef?ey+(eb+ef):ey+(eb+" "));else ey=ec[0];eU[eo.type](eh.target,eo.property,ey,en,eh.id),eo.currentValue=ey,ei++}if(ei=Object.keys(en).length)for(es=0;es<ei;es++)eB||(eB=eg(document.body,"transform")?"transform":"-webkit-transform"),em.animatables[es].target.style[eB]=en[es].join(" ");em.currentTime=ee,em.progress=ee/em.duration*100}function er(ee){em[ee]&&em[ee](em)}function eo(){em.remaining&&!0!==em.remaining&&em.remaining--}function eh(ee){var et=em.duration,eh=em.offset,eg=eh+em.delay,ey=em.currentTime,eb=em.reversed,e_=en(ee);if(em.children.length){var eA=em.children,ew=eA.length;if(e_>=em.currentTime)for(var ek=0;ek<ew;ek++)eA[ek].seek(e_);else for(;ew--;)eA[ew].seek(e_)}(e_>=eg||!et)&&(em.began||(em.began=!0,er("begin")),er("run")),e_>eh&&e_<et?es(e_):(e_<=eh&&0!==ey&&(es(0),eb&&eo()),(e_>=et&&ey!==et||!et)&&(es(et),eb||eo())),er("update"),ee>=et&&(em.remaining?(ec=ed,"alternate"===em.direction&&(em.reversed=!em.reversed)):(em.pause(),em.completed||(em.completed=!0,er("complete"),"Promise"in window&&(ep(),ef=ei()))),eu=0)}ee=void 0===ee?{}:ee;var ed,ec,eu=0,ep=null,ef=ei(),em=eI(ee);return em.reset=function(){var ee=em.direction,et=em.loop;for(em.currentTime=0,em.progress=0,em.paused=!0,em.began=!1,em.completed=!1,em.reversed="reverse"===ee,em.remaining="alternate"===ee&&1===et?2:et,es(0),ee=em.children.length;ee--;)em.children[ee].reset()},em.tick=function(ee){ed=ee,ec||(ec=ed),eh((eu+ed-ec)*eF.speed)},em.seek=function(ee){eh(en(ee))},em.pause=function(){var ee=eq.indexOf(em);-1<ee&&eq.splice(ee,1),em.paused=!0},em.play=function(){em.paused&&(em.paused=!1,ec=0,eu=en(em.currentTime),eq.push(em),eV||eX())},em.reverse=function(){em.reversed=!em.reversed,ec=0,eu=en(em.currentTime)},em.restart=function(){em.pause(),em.reset(),em.play()},em.finished=ef,em.reset(),em.autoplay&&em.play(),em}var eB,eN={update:void 0,begin:void 0,run:void 0,complete:void 0,loop:1,direction:"normal",autoplay:!0,offset:0},e$={duration:1e3,delay:0,easing:"easeOutElastic",elasticity:500,round:0},ej="translateX translateY translateZ rotate rotateX rotateY rotateZ scale scaleX scaleY scaleZ skewX skewY perspective".split(" "),eH={arr:function(ee){return Array.isArray(ee)},obj:function(ee){return -1<Object.prototype.toString.call(ee).indexOf("Object")},pth:function(ee){return eH.obj(ee)&&ee.hasOwnProperty("totalLength")},svg:function(ee){return ee instanceof SVGElement},dom:function(ee){return ee.nodeType||eH.svg(ee)},str:function(ee){return"string"==typeof ee},fnc:function(ee){return"function"==typeof ee},und:function(ee){return void 0===ee},hex:function(ee){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(ee)},rgb:function(ee){return/^rgb/.test(ee)},hsl:function(ee){return/^hsl/.test(ee)},col:function(ee){return eH.hex(ee)||eH.rgb(ee)||eH.hsl(ee)}},eW=function(){function ee(ee,et,ei){return(((1-3*ei+3*et)*ee+(3*ei-6*et))*ee+3*et)*ee}return function(et,ei,en,es){if(0<=et&&1>=et&&0<=en&&1>=en){var er=new Float32Array(11);if(et!==ei||en!==es)for(var eo=0;11>eo;++eo)er[eo]=ee(.1*eo,et,en);return function(eo){if(et===ei&&en===es)return eo;if(0===eo)return 0;if(1===eo)return 1;for(var eh=0,ed=1;10!==ed&&er[ed]<=eo;++ed)eh+=.1;var ed=eh+(eo-er[--ed])/(er[ed+1]-er[ed])*.1,ec=3*(1-3*en+3*et)*ed*ed+2*(3*en-6*et)*ed+3*et;if(.001<=ec){for(eh=0;4>eh&&0!=(ec=3*(1-3*en+3*et)*ed*ed+2*(3*en-6*et)*ed+3*et);++eh)var eu=ee(ed,et,en)-eo,ed=ed-eu/ec;eo=ed}else if(0===ec)eo=ed;else{var ed=eh,eh=eh+.1,ep=0;do 0<(ec=ee(eu=ed+(eh-ed)/2,et,en)-eo)?eh=eu:ed=eu;while(1e-7<Math.abs(ec)&&10>++ep);eo=eu}return ee(eo,ei,es)}}}}(),ez=function(){function ee(ee,et){return 0===ee||1===ee?ee:-Math.pow(2,10*(ee-1))*Math.sin(2*(ee-1-et/(2*Math.PI)*Math.asin(1))*Math.PI/et)}var et,ei="Quad Cubic Quart Quint Sine Expo Circ Back Elastic".split(" "),en={In:[[.55,.085,.68,.53],[.55,.055,.675,.19],[.895,.03,.685,.22],[.755,.05,.855,.06],[.47,0,.745,.715],[.95,.05,.795,.035],[.6,.04,.98,.335],[.6,-.28,.735,.045],ee],Out:[[.25,.46,.45,.94],[.215,.61,.355,1],[.165,.84,.44,1],[.23,1,.32,1],[.39,.575,.565,1],[.19,1,.22,1],[.075,.82,.165,1],[.175,.885,.32,1.275],function(et,ei){return 1-ee(1-et,ei)}],InOut:[[.455,.03,.515,.955],[.645,.045,.355,1],[.77,0,.175,1],[.86,0,.07,1],[.445,.05,.55,.95],[1,0,0,1],[.785,.135,.15,.86],[.68,-.55,.265,1.55],function(et,ei){return .5>et?ee(2*et,ei)/2:1-ee(-2*et+2,ei)/2}]},es={linear:eW(.25,.25,.75,.75)},er={};for(et in en)er.type=et,en[er.type].forEach(function(ee){return function(et,en){es["ease"+ee.type+ei[en]]=eH.fnc(et)?et:eW.apply(ey,et)}}(er)),er={type:er.type};return es}(),eU={css:function(ee,et,ei){return ee.style[et]=ei},attribute:function(ee,et,ei){return ee.setAttribute(et,ei)},object:function(ee,et,ei){return ee[et]=ei},transform:function(ee,et,ei,en,es){en[es]||(en[es]=[]),en[es].push(et+"("+ei+")")}},eq=[],eV=0,eX=function(){function ee(){eV=requestAnimationFrame(et)}function et(et){var ei=eq.length;if(ei){for(var en=0;en<ei;)eq[en]&&eq[en].tick(et),en++;ee()}else cancelAnimationFrame(eV),eV=0}return ee}();return eF.version="2.2.0",eF.speed=1,eF.running=eq,eF.remove=function(ee){ee=eS(ee);for(var et=eq.length;et--;)for(var ei=eq[et],en=ei.animations,er=en.length;er--;)es(ee,en[er].animatable.target)&&(en.splice(er,1),en.length||ei.pause())},eF.getValue=e_,eF.path=function(et,ei){var en=eH.str(et)?ee(et)[0]:et,es=ei||100;return function(ee){return{el:en,property:ee,totalLength:eC(en)*(es/100)}}},eF.setDashoffset=function(ee){var et=eC(ee);return ee.setAttribute("stroke-dasharray",et),et},eF.bezier=eW,eF.easings=ez,eF.timeline=function(ee){var et=eF(ee);return et.pause(),et.duration=0,et.add=function(ei){return et.children.forEach(function(ee){ee.began=!0,ee.completed=!0}),en(ei).forEach(function(ei){var en=eh(ei,eo(e$,ee||{}));en.targets=en.targets||ee.targets,ei=et.duration;var es=en.offset;en.autoplay=!1,en.direction=et.direction,en.offset=eH.und(es)?ei:eA(es,ei),et.began=!0,et.completed=!0,et.seek(en.offset),(en=eF(en)).began=!0,en.completed=!0,en.duration>ei&&(et.duration=en.duration),et.children.push(en)}),et.seek(0),et.reset(),et.autoplay&&et.restart(),et},et},eF.random=function(ee,et){return Math.floor(Math.random()*(et-ee+1))+ee},eF}),function(ee,et){"use strict";var ei={accordion:!0,onOpenStart:void 0,onOpenEnd:void 0,onCloseStart:void 0,onCloseEnd:void 0,inDuration:300,outDuration:300},ec=function(ed){function ec(et,ei){eh(this,ec);var en=er(this,(ec.__proto__||Object.getPrototypeOf(ec)).call(this,ec,et,ei));en.el.M_Collapsible=en,en.options=ee.extend({},ec.defaults,ei),en.$headers=en.$el.children("li").children(".collapsible-header"),en.$headers.attr("tabindex",0),en._setupEventHandlers();var es=en.$el.children("li.active").children(".collapsible-body");return en.options.accordion?es.first().css("display","block"):es.css("display","block"),en}return eo(ec,ed),es(ec,[{key:"destroy",value:function(){this._removeEventHandlers(),this.el.M_Collapsible=void 0}},{key:"_setupEventHandlers",value:function(){var ee=this;this._handleCollapsibleClickBound=this._handleCollapsibleClick.bind(this),this._handleCollapsibleKeydownBound=this._handleCollapsibleKeydown.bind(this),this.el.addEventListener("click",this._handleCollapsibleClickBound),this.$headers.each(function(et){et.addEventListener("keydown",ee._handleCollapsibleKeydownBound)})}},{key:"_removeEventHandlers",value:function(){var ee=this;this.el.removeEventListener("click",this._handleCollapsibleClickBound),this.$headers.each(function(et){et.removeEventListener("keydown",ee._handleCollapsibleKeydownBound)})}},{key:"_handleCollapsibleClick",value:function(et){var ei=ee(et.target).closest(".collapsible-header");if(et.target&&ei.length){var en=ei.closest(".collapsible");if(en[0]===this.el){var es=ei.closest("li"),er=en.children("li"),eo=es[0].classList.contains("active"),eh=er.index(es);eo?this.close(eh):this.open(eh)}}}},{key:"_handleCollapsibleKeydown",value:function(ee){13===ee.keyCode&&this._handleCollapsibleClickBound(ee)}},{key:"_animateIn",value:function(ee){var ei=this,en=this.$el.children("li").eq(ee);if(en.length){var es=en.children(".collapsible-body");et.remove(es[0]),es.css({display:"block",overflow:"hidden",height:0,paddingTop:"",paddingBottom:""});var er=es.css("padding-top"),eo=es.css("padding-bottom"),eh=es[0].scrollHeight;es.css({paddingTop:0,paddingBottom:0}),et({targets:es[0],height:eh,paddingTop:er,paddingBottom:eo,duration:this.options.inDuration,easing:"easeInOutCubic",complete:function(ee){es.css({overflow:"",paddingTop:"",paddingBottom:"",height:""}),"function"==typeof ei.options.onOpenEnd&&ei.options.onOpenEnd.call(ei,en[0])}})}}},{key:"_animateOut",value:function(ee){var ei=this,en=this.$el.children("li").eq(ee);if(en.length){var es=en.children(".collapsible-body");et.remove(es[0]),es.css("overflow","hidden"),et({targets:es[0],height:0,paddingTop:0,paddingBottom:0,duration:this.options.outDuration,easing:"easeInOutCubic",complete:function(){es.css({height:"",overflow:"",padding:"",display:""}),"function"==typeof ei.options.onCloseEnd&&ei.options.onCloseEnd.call(ei,en[0])}})}}},{key:"open",value:function(et){var ei=this,en=this.$el.children("li").eq(et);if(en.length&&!en[0].classList.contains("active")){if("function"==typeof this.options.onOpenStart&&this.options.onOpenStart.call(this,en[0]),this.options.accordion){var es=this.$el.children("li");this.$el.children("li.active").each(function(et){var en=es.index(ee(et));ei.close(en)})}en[0].classList.add("active"),this._animateIn(et)}}},{key:"close",value:function(ee){var et=this.$el.children("li").eq(ee);et.length&&et[0].classList.contains("active")&&("function"==typeof this.options.onCloseStart&&this.options.onCloseStart.call(this,et[0]),et[0].classList.remove("active"),this._animateOut(ee))}}],[{key:"init",value:function(ee,et){return en(ec.__proto__||Object.getPrototypeOf(ec),"init",this).call(this,this,ee,et)}},{key:"getInstance",value:function(ee){return(ee.jquery?ee[0]:ee).M_Collapsible}},{key:"defaults",get:function(){return ei}}]),ec}(ed);M.Collapsible=ec,M.jQueryLoaded&&M.initializeJqueryWrapper(ec,"collapsible","M_Collapsible")}(cash,M.anime),function(ee,et){"use strict";var ei={alignment:"left",autoFocus:!0,constrainWidth:!0,container:null,coverTrigger:!0,closeOnClick:!0,hover:!1,inDuration:150,outDuration:250,onOpenStart:null,onOpenEnd:null,onCloseStart:null,onCloseEnd:null,onItemClick:null},ec=function(ed){function ec(et,ei){eh(this,ec);var en=er(this,(ec.__proto__||Object.getPrototypeOf(ec)).call(this,ec,et,ei));return en.el.M_Dropdown=en,ec._dropdowns.push(en),en.id=M.getIdFromTrigger(et),en.dropdownEl=document.getElementById(en.id),en.$dropdownEl=ee(en.dropdownEl),en.options=ee.extend({},ec.defaults,ei),en.isOpen=!1,en.isScrollable=!1,en.isTouchMoving=!1,en.focusedIndex=-1,en.filterQuery=[],en.options.container?ee(en.options.container).append(en.dropdownEl):en.$el.after(en.dropdownEl),en._makeDropdownFocusable(),en._resetFilterQueryBound=en._resetFilterQuery.bind(en),en._handleDocumentClickBound=en._handleDocumentClick.bind(en),en._handleDocumentTouchmoveBound=en._handleDocumentTouchmove.bind(en),en._handleDropdownClickBound=en._handleDropdownClick.bind(en),en._handleDropdownKeydownBound=en._handleDropdownKeydown.bind(en),en._handleTriggerKeydownBound=en._handleTriggerKeydown.bind(en),en._setupEventHandlers(),en}return eo(ec,ed),es(ec,[{key:"destroy",value:function(){this._resetDropdownStyles(),this._removeEventHandlers(),ec._dropdowns.splice(ec._dropdowns.indexOf(this),1),this.el.M_Dropdown=void 0}},{key:"_setupEventHandlers",value:function(){this.el.addEventListener("keydown",this._handleTriggerKeydownBound),this.dropdownEl.addEventListener("click",this._handleDropdownClickBound),this.options.hover?(this._handleMouseEnterBound=this._handleMouseEnter.bind(this),this.el.addEventListener("mouseenter",this._handleMouseEnterBound),this._handleMouseLeaveBound=this._handleMouseLeave.bind(this),this.el.addEventListener("mouseleave",this._handleMouseLeaveBound),this.dropdownEl.addEventListener("mouseleave",this._handleMouseLeaveBound)):(this._handleClickBound=this._handleClick.bind(this),this.el.addEventListener("click",this._handleClickBound))}},{key:"_removeEventHandlers",value:function(){this.el.removeEventListener("keydown",this._handleTriggerKeydownBound),this.dropdownEl.removeEventListener("click",this._handleDropdownClickBound),this.options.hover?(this.el.removeEventListener("mouseenter",this._handleMouseEnterBound),this.el.removeEventListener("mouseleave",this._handleMouseLeaveBound),this.dropdownEl.removeEventListener("mouseleave",this._handleMouseLeaveBound)):this.el.removeEventListener("click",this._handleClickBound)}},{key:"_setupTemporaryEventHandlers",value:function(){document.body.addEventListener("click",this._handleDocumentClickBound,!0),document.body.addEventListener("touchend",this._handleDocumentClickBound),document.body.addEventListener("touchmove",this._handleDocumentTouchmoveBound),this.dropdownEl.addEventListener("keydown",this._handleDropdownKeydownBound)}},{key:"_removeTemporaryEventHandlers",value:function(){document.body.removeEventListener("click",this._handleDocumentClickBound,!0),document.body.removeEventListener("touchend",this._handleDocumentClickBound),document.body.removeEventListener("touchmove",this._handleDocumentTouchmoveBound),this.dropdownEl.removeEventListener("keydown",this._handleDropdownKeydownBound)}},{key:"_handleClick",value:function(ee){ee.preventDefault(),this.open()}},{key:"_handleMouseEnter",value:function(){this.open()}},{key:"_handleMouseLeave",value:function(et){var ei=et.toElement||et.relatedTarget,en=!!ee(ei).closest(".dropdown-content").length,es=!1,er=ee(ei).closest(".dropdown-trigger");er.length&&er[0].M_Dropdown&&er[0].M_Dropdown.isOpen&&(es=!0),es||en||this.close()}},{key:"_handleDocumentClick",value:function(et){var ei=this,en=ee(et.target);this.options.closeOnClick&&en.closest(".dropdown-content").length&&!this.isTouchMoving?setTimeout(function(){ei.close()},0):(en.closest(".dropdown-trigger").length||!en.closest(".dropdown-content").length)&&setTimeout(function(){ei.close()},0),this.isTouchMoving=!1}},{key:"_handleTriggerKeydown",value:function(ee){ee.which!==M.keys.ARROW_DOWN&&ee.which!==M.keys.ENTER||this.isOpen||(ee.preventDefault(),this.open())}},{key:"_handleDocumentTouchmove",value:function(et){ee(et.target).closest(".dropdown-content").length&&(this.isTouchMoving=!0)}},{key:"_handleDropdownClick",value:function(et){if("function"==typeof this.options.onItemClick){var ei=ee(et.target).closest("li")[0];this.options.onItemClick.call(this,ei)}}},{key:"_handleDropdownKeydown",value:function(et){if(et.which===M.keys.TAB)et.preventDefault(),this.close();else if((et.which===M.keys.ARROW_DOWN||et.which===M.keys.ARROW_UP)&&this.isOpen){et.preventDefault();var ei=et.which===M.keys.ARROW_DOWN?1:-1,en=this.focusedIndex,es=!1;do if(en+=ei,this.dropdownEl.children[en]&&-1!==this.dropdownEl.children[en].tabIndex){es=!0;break}while(en<this.dropdownEl.children.length&&en>=0);es&&(this.focusedIndex=en,this._focusFocusedItem())}else if(et.which===M.keys.ENTER&&this.isOpen){var er=this.dropdownEl.children[this.focusedIndex],eo=ee(er).find("a, button").first();eo.length?eo[0].click():er&&er.click()}else et.which===M.keys.ESC&&this.isOpen&&(et.preventDefault(),this.close());var eh=String.fromCharCode(et.which).toLowerCase(),ed=[9,13,27,38,40];if(eh&&-1===ed.indexOf(et.which)){this.filterQuery.push(eh);var ec=this.filterQuery.join(""),eu=ee(this.dropdownEl).find("li").filter(function(et){return 0===ee(et).text().toLowerCase().indexOf(ec)})[0];eu&&(this.focusedIndex=ee(eu).index(),this._focusFocusedItem())}this.filterTimeout=setTimeout(this._resetFilterQueryBound,1e3)}},{key:"_resetFilterQuery",value:function(){this.filterQuery=[]}},{key:"_resetDropdownStyles",value:function(){this.$dropdownEl.css({display:"",width:"",height:"",left:"",top:"","transform-origin":"",transform:"",opacity:""})}},{key:"_makeDropdownFocusable",value:function(){this.dropdownEl.tabIndex=0,ee(this.dropdownEl).children().each(function(ee){ee.getAttribute("tabindex")||ee.setAttribute("tabindex",0)})}},{key:"_focusFocusedItem",value:function(){this.focusedIndex>=0&&this.focusedIndex<this.dropdownEl.children.length&&this.options.autoFocus&&this.dropdownEl.children[this.focusedIndex].focus()}},{key:"_getDropdownPosition",value:function(){this.el.offsetParent.getBoundingClientRect();var ee=this.el.getBoundingClientRect(),et=this.dropdownEl.getBoundingClientRect(),ei=et.height,en=et.width,es=ee.left-et.left,er=ee.top-et.top,eo={left:es,top:er,height:ei,width:en},eh=this.dropdownEl.offsetParent?this.dropdownEl.offsetParent:this.dropdownEl.parentNode,ed=M.checkPossibleAlignments(this.el,eh,eo,this.options.coverTrigger?0:ee.height),ec="top",eu=this.options.alignment;if(er+=this.options.coverTrigger?0:ee.height,this.isScrollable=!1,ed.top||(ed.bottom?ec="bottom":(this.isScrollable=!0,ed.spaceOnTop>ed.spaceOnBottom?(ec="bottom",ei+=ed.spaceOnTop,er-=ed.spaceOnTop):ei+=ed.spaceOnBottom)),!ed[eu]){var ep="left"===eu?"right":"left";ed[ep]?eu=ep:ed.spaceOnLeft>ed.spaceOnRight?(eu="right",en+=ed.spaceOnLeft,es-=ed.spaceOnLeft):(eu="left",en+=ed.spaceOnRight)}return"bottom"===ec&&(er=er-et.height+(this.options.coverTrigger?ee.height:0)),"right"===eu&&(es=es-et.width+ee.width),{x:es,y:er,verticalAlignment:ec,horizontalAlignment:eu,height:ei,width:en}}},{key:"_animateIn",value:function(){var ee=this;et.remove(this.dropdownEl),et({targets:this.dropdownEl,opacity:{value:[0,1],easing:"easeOutQuad"},scaleX:[.3,1],scaleY:[.3,1],duration:this.options.inDuration,easing:"easeOutQuint",complete:function(et){ee.options.autoFocus&&ee.dropdownEl.focus(),"function"==typeof ee.options.onOpenEnd&&ee.options.onOpenEnd.call(ee,ee.el)}})}},{key:"_animateOut",value:function(){var ee=this;et.remove(this.dropdownEl),et({targets:this.dropdownEl,opacity:{value:0,easing:"easeOutQuint"},scaleX:.3,scaleY:.3,duration:this.options.outDuration,easing:"easeOutQuint",complete:function(et){ee._resetDropdownStyles(),"function"==typeof ee.options.onCloseEnd&&ee.options.onCloseEnd.call(ee,ee.el)}})}},{key:"_placeDropdown",value:function(){var ee=this.options.constrainWidth?this.el.getBoundingClientRect().width:this.dropdownEl.getBoundingClientRect().width;this.dropdownEl.style.width=ee+"px";var et=this._getDropdownPosition();this.dropdownEl.style.left=et.x+"px",this.dropdownEl.style.top=et.y+"px",this.dropdownEl.style.height=et.height+"px",this.dropdownEl.style.width=et.width+"px",this.dropdownEl.style.transformOrigin=("left"===et.horizontalAlignment?"0":"100%")+" "+("top"===et.verticalAlignment?"0":"100%")}},{key:"open",value:function(){this.isOpen||(this.isOpen=!0,"function"==typeof this.options.onOpenStart&&this.options.onOpenStart.call(this,this.el),this._resetDropdownStyles(),this.dropdownEl.style.display="block",this._placeDropdown(),this._animateIn(),this._setupTemporaryEventHandlers())}},{key:"close",value:function(){this.isOpen&&(this.isOpen=!1,this.focusedIndex=-1,"function"==typeof this.options.onCloseStart&&this.options.onCloseStart.call(this,this.el),this._animateOut(),this._removeTemporaryEventHandlers(),this.options.autoFocus&&this.el.focus())}},{key:"recalculateDimensions",value:function(){this.isOpen&&(this.$dropdownEl.css({width:"",height:"",left:"",top:"","transform-origin":""}),this._placeDropdown())}}],[{key:"init",value:function(ee,et){return en(ec.__proto__||Object.getPrototypeOf(ec),"init",this).call(this,this,ee,et)}},{key:"getInstance",value:function(ee){return(ee.jquery?ee[0]:ee).M_Dropdown}},{key:"defaults",get:function(){return ei}}]),ec}(ed);ec._dropdowns=[],M.Dropdown=ec,M.jQueryLoaded&&M.initializeJqueryWrapper(ec,"dropdown","M_Dropdown")}(cash,M.anime),function(ee,et){"use strict";var ei={opacity:.5,inDuration:250,outDuration:250,onOpenStart:null,onOpenEnd:null,onCloseStart:null,onCloseEnd:null,preventScrolling:!0,dismissible:!0,startingTop:"4%",endingTop:"10%"},ec=function(ed){function ec(et,ei){eh(this,ec);var en=er(this,(ec.__proto__||Object.getPrototypeOf(ec)).call(this,ec,et,ei));return en.el.M_Modal=en,en.options=ee.extend({},ec.defaults,ei),en.isOpen=!1,en.id=en.$el.attr("id"),en._openingTrigger=void 0,en.$overlay=ee('<div class="modal-overlay"></div>'),en.el.tabIndex=0,en._nthModalOpened=0,ec._count++,en._setupEventHandlers(),en}return eo(ec,ed),es(ec,[{key:"destroy",value:function(){ec._count--,this._removeEventHandlers(),this.el.removeAttribute("style"),this.$overlay.remove(),this.el.M_Modal=void 0}},{key:"_setupEventHandlers",value:function(){this._handleOverlayClickBound=this._handleOverlayClick.bind(this),this._handleModalCloseClickBound=this._handleModalCloseClick.bind(this),1===ec._count&&document.body.addEventListener("click",this._handleTriggerClick),this.$overlay[0].addEventListener("click",this._handleOverlayClickBound),this.el.addEventListener("click",this._handleModalCloseClickBound)}},{key:"_removeEventHandlers",value:function(){0===ec._count&&document.body.removeEventListener("click",this._handleTriggerClick),this.$overlay[0].removeEventListener("click",this._handleOverlayClickBound),this.el.removeEventListener("click",this._handleModalCloseClickBound)}},{key:"_handleTriggerClick",value:function(et){var ei=ee(et.target).closest(".modal-trigger");if(ei.length){var en=M.getIdFromTrigger(ei[0]),es=document.getElementById(en).M_Modal;es&&es.open(ei),et.preventDefault()}}},{key:"_handleOverlayClick",value:function(){this.options.dismissible&&this.close()}},{key:"_handleModalCloseClick",value:function(et){ee(et.target).closest(".modal-close").length&&this.close()}},{key:"_handleKeydown",value:function(ee){27===ee.keyCode&&this.options.dismissible&&this.close()}},{key:"_handleFocus",value:function(ee){this.el.contains(ee.target)||this._nthModalOpened!==ec._modalsOpen||this.el.focus()}},{key:"_animateIn",value:function(){var ei=this;ee.extend(this.el.style,{display:"block",opacity:0}),ee.extend(this.$overlay[0].style,{display:"block",opacity:0}),et({targets:this.$overlay[0],opacity:this.options.opacity,duration:this.options.inDuration,easing:"easeOutQuad"});var en={targets:this.el,duration:this.options.inDuration,easing:"easeOutCubic",complete:function(){"function"==typeof ei.options.onOpenEnd&&ei.options.onOpenEnd.call(ei,ei.el,ei._openingTrigger)}};this.el.classList.contains("bottom-sheet")?ee.extend(en,{bottom:0,opacity:1}):ee.extend(en,{top:[this.options.startingTop,this.options.endingTop],opacity:1,scaleX:[.8,1],scaleY:[.8,1]}),et(en)}},{key:"_animateOut",value:function(){var ei=this;et({targets:this.$overlay[0],opacity:0,duration:this.options.outDuration,easing:"easeOutQuart"});var en={targets:this.el,duration:this.options.outDuration,easing:"easeOutCubic",complete:function(){ei.el.style.display="none",ei.$overlay.remove(),"function"==typeof ei.options.onCloseEnd&&ei.options.onCloseEnd.call(ei,ei.el)}};this.el.classList.contains("bottom-sheet")?ee.extend(en,{bottom:"-100%",opacity:0}):ee.extend(en,{top:[this.options.endingTop,this.options.startingTop],opacity:0,scaleX:.8,scaleY:.8}),et(en)}},{key:"open",value:function(ee){if(!this.isOpen)return this.isOpen=!0,ec._modalsOpen++,this._nthModalOpened=ec._modalsOpen,this.$overlay[0].style.zIndex=1e3+2*ec._modalsOpen,this.el.style.zIndex=1e3+2*ec._modalsOpen+1,this._openingTrigger=ee?ee[0]:void 0,"function"==typeof this.options.onOpenStart&&this.options.onOpenStart.call(this,this.el,this._openingTrigger),this.options.preventScrolling&&(document.body.style.overflow="hidden"),this.el.classList.add("open"),this.el.insertAdjacentElement("afterend",this.$overlay[0]),this.options.dismissible&&(this._handleKeydownBound=this._handleKeydown.bind(this),this._handleFocusBound=this._handleFocus.bind(this),document.addEventListener("keydown",this._handleKeydownBound),document.addEventListener("focus",this._handleFocusBound,!0)),et.remove(this.el),et.remove(this.$overlay[0]),this._animateIn(),this.el.focus(),this}},{key:"close",value:function(){if(this.isOpen)return this.isOpen=!1,ec._modalsOpen--,this._nthModalOpened=0,"function"==typeof this.options.onCloseStart&&this.options.onCloseStart.call(this,this.el),this.el.classList.remove("open"),0===ec._modalsOpen&&(document.body.style.overflow=""),this.options.dismissible&&(document.removeEventListener("keydown",this._handleKeydownBound),document.removeEventListener("focus",this._handleFocusBound,!0)),et.remove(this.el),et.remove(this.$overlay[0]),this._animateOut(),this}}],[{key:"init",value:function(ee,et){return en(ec.__proto__||Object.getPrototypeOf(ec),"init",this).call(this,this,ee,et)}},{key:"getInstance",value:function(ee){return(ee.jquery?ee[0]:ee).M_Modal}},{key:"defaults",get:function(){return ei}}]),ec}(ed);ec._modalsOpen=0,ec._count=0,M.Modal=ec,M.jQueryLoaded&&M.initializeJqueryWrapper(ec,"modal","M_Modal")}(cash,M.anime),function(ee,et){"use strict";var ei={inDuration:275,outDuration:200,onOpenStart:null,onOpenEnd:null,onCloseStart:null,onCloseEnd:null},ec=function(ed){function ec(et,ei){eh(this,ec);var en=er(this,(ec.__proto__||Object.getPrototypeOf(ec)).call(this,ec,et,ei));return en.el.M_Materialbox=en,en.options=ee.extend({},ec.defaults,ei),en.overlayActive=!1,en.doneAnimating=!0,en.placeholder=ee("<div></div>").addClass("material-placeholder"),en.originalWidth=0,en.originalHeight=0,en.originInlineStyles=en.$el.attr("style"),en.caption=en.el.getAttribute("data-caption")||"",en.$el.before(en.placeholder),en.placeholder.append(en.$el),en._setupEventHandlers(),en}return eo(ec,ed),es(ec,[{key:"destroy",value:function(){this._removeEventHandlers(),this.el.M_Materialbox=void 0,ee(this.placeholder).after(this.el).remove(),this.$el.removeAttr("style")}},{key:"_setupEventHandlers",value:function(){this._handleMaterialboxClickBound=this._handleMaterialboxClick.bind(this),this.el.addEventListener("click",this._handleMaterialboxClickBound)}},{key:"_removeEventHandlers",value:function(){this.el.removeEventListener("click",this._handleMaterialboxClickBound)}},{key:"_handleMaterialboxClick",value:function(ee){!1===this.doneAnimating||this.overlayActive&&this.doneAnimating?this.close():this.open()}},{key:"_handleWindowScroll",value:function(){this.overlayActive&&this.close()}},{key:"_handleWindowResize",value:function(){this.overlayActive&&this.close()}},{key:"_handleWindowEscape",value:function(ee){27===ee.keyCode&&this.doneAnimating&&this.overlayActive&&this.close()}},{key:"_makeAncestorsOverflowVisible",value:function(){this.ancestorsChanged=ee();for(var et=this.placeholder[0].parentNode;null!==et&&!ee(et).is(document);){var ei=ee(et);"visible"!==ei.css("overflow")&&(ei.css("overflow","visible"),void 0===this.ancestorsChanged?this.ancestorsChanged=ei:this.ancestorsChanged=this.ancestorsChanged.add(ei)),et=et.parentNode}}},{key:"_animateImageIn",value:function(){var ee=this,ei={targets:this.el,height:[this.originalHeight,this.newHeight],width:[this.originalWidth,this.newWidth],left:M.getDocumentScrollLeft()+this.windowWidth/2-this.placeholder.offset().left-this.newWidth/2,top:M.getDocumentScrollTop()+this.windowHeight/2-this.placeholder.offset().top-this.newHeight/2,duration:this.options.inDuration,easing:"easeOutQuad",complete:function(){ee.doneAnimating=!0,"function"==typeof ee.options.onOpenEnd&&ee.options.onOpenEnd.call(ee,ee.el)}};this.maxWidth=this.$el.css("max-width"),this.maxHeight=this.$el.css("max-height"),"none"!==this.maxWidth&&(ei.maxWidth=this.newWidth),"none"!==this.maxHeight&&(ei.maxHeight=this.newHeight),et(ei)}},{key:"_animateImageOut",value:function(){var ee=this;et({targets:this.el,width:this.originalWidth,height:this.originalHeight,left:0,top:0,duration:this.options.outDuration,easing:"easeOutQuad",complete:function(){ee.placeholder.css({height:"",width:"",position:"",top:"",left:""}),ee.attrWidth&&ee.$el.attr("width",ee.attrWidth),ee.attrHeight&&ee.$el.attr("height",ee.attrHeight),ee.$el.removeAttr("style"),ee.originInlineStyles&&ee.$el.attr("style",ee.originInlineStyles),ee.$el.removeClass("active"),ee.doneAnimating=!0,ee.ancestorsChanged.length&&ee.ancestorsChanged.css("overflow",""),"function"==typeof ee.options.onCloseEnd&&ee.options.onCloseEnd.call(ee,ee.el)}})}},{key:"_updateVars",value:function(){this.windowWidth=window.innerWidth,this.windowHeight=window.innerHeight,this.caption=this.el.getAttribute("data-caption")||""}},{key:"open",value:function(){var ei=this;this._updateVars(),this.originalWidth=this.el.getBoundingClientRect().width,this.originalHeight=this.el.getBoundingClientRect().height,this.doneAnimating=!1,this.$el.addClass("active"),this.overlayActive=!0,"function"==typeof this.options.onOpenStart&&this.options.onOpenStart.call(this,this.el),this.placeholder.css({width:this.placeholder[0].getBoundingClientRect().width+"px",height:this.placeholder[0].getBoundingClientRect().height+"px",position:"relative",top:0,left:0}),this._makeAncestorsOverflowVisible(),this.$el.css({position:"absolute","z-index":1e3,"will-change":"left, top, width, height"}),this.attrWidth=this.$el.attr("width"),this.attrHeight=this.$el.attr("height"),this.attrWidth&&(this.$el.css("width",this.attrWidth+"px"),this.$el.removeAttr("width")),this.attrHeight&&(this.$el.css("width",this.attrHeight+"px"),this.$el.removeAttr("height")),this.$overlay=ee('<div id="materialbox-overlay"></div>').css({opacity:0}).one("click",function(){ei.doneAnimating&&ei.close()}),this.$el.before(this.$overlay);var en=this.$overlay[0].getBoundingClientRect();this.$overlay.css({width:this.windowWidth+"px",height:this.windowHeight+"px",left:-1*en.left+"px",top:-1*en.top+"px"}),et.remove(this.el),et.remove(this.$overlay[0]),et({targets:this.$overlay[0],opacity:1,duration:this.options.inDuration,easing:"easeOutQuad"}),""!==this.caption&&(this.$photocaption&&et.remove(this.$photoCaption[0]),this.$photoCaption=ee('<div class="materialbox-caption"></div>'),this.$photoCaption.text(this.caption),ee("body").append(this.$photoCaption),this.$photoCaption.css({display:"inline"}),et({targets:this.$photoCaption[0],opacity:1,duration:this.options.inDuration,easing:"easeOutQuad"}));var es=0,er=this.originalWidth/this.windowWidth,eo=this.originalHeight/this.windowHeight;this.newWidth=0,this.newHeight=0,er>eo?(es=this.originalHeight/this.originalWidth,this.newWidth=.9*this.windowWidth,this.newHeight=.9*this.windowWidth*es):(es=this.originalWidth/this.originalHeight,this.newWidth=.9*this.windowHeight*es,this.newHeight=.9*this.windowHeight),this._animateImageIn(),this._handleWindowScrollBound=this._handleWindowScroll.bind(this),this._handleWindowResizeBound=this._handleWindowResize.bind(this),this._handleWindowEscapeBound=this._handleWindowEscape.bind(this),window.addEventListener("scroll",this._handleWindowScrollBound),window.addEventListener("resize",this._handleWindowResizeBound),window.addEventListener("keyup",this._handleWindowEscapeBound)}},{key:"close",value:function(){var ee=this;this._updateVars(),this.doneAnimating=!1,"function"==typeof this.options.onCloseStart&&this.options.onCloseStart.call(this,this.el),et.remove(this.el),et.remove(this.$overlay[0]),""!==this.caption&&et.remove(this.$photoCaption[0]),window.removeEventListener("scroll",this._handleWindowScrollBound),window.removeEventListener("resize",this._handleWindowResizeBound),window.removeEventListener("keyup",this._handleWindowEscapeBound),et({targets:this.$overlay[0],opacity:0,duration:this.options.outDuration,easing:"easeOutQuad",complete:function(){ee.overlayActive=!1,ee.$overlay.remove()}}),this._animateImageOut(),""!==this.caption&&et({targets:this.$photoCaption[0],opacity:0,duration:this.options.outDuration,easing:"easeOutQuad",complete:function(){ee.$photoCaption.remove()}})}}],[{key:"init",value:function(ee,et){return en(ec.__proto__||Object.getPrototypeOf(ec),"init",this).call(this,this,ee,et)}},{key:"getInstance",value:function(ee){return(ee.jquery?ee[0]:ee).M_Materialbox}},{key:"defaults",get:function(){return ei}}]),ec}(ed);M.Materialbox=ec,M.jQueryLoaded&&M.initializeJqueryWrapper(ec,"materialbox","M_Materialbox")}(cash,M.anime),function(ee){"use strict";var et={responsiveThreshold:0},ei=function(ei){function ed(et,ei){eh(this,ed);var en=er(this,(ed.__proto__||Object.getPrototypeOf(ed)).call(this,ed,et,ei));return en.el.M_Parallax=en,en.options=ee.extend({},ed.defaults,ei),en._enabled=window.innerWidth>en.options.responsiveThreshold,en.$img=en.$el.find("img").first(),en.$img.each(function(){var et=this;et.complete&&ee(et).trigger("load")}),en._updateParallax(),en._setupEventHandlers(),en._setupStyles(),ed._parallaxes.push(en),en}return eo(ed,ei),es(ed,[{key:"destroy",value:function(){ed._parallaxes.splice(ed._parallaxes.indexOf(this),1),this.$img[0].style.transform="",this._removeEventHandlers(),this.$el[0].M_Parallax=void 0}},{key:"_setupEventHandlers",value:function(){this._handleImageLoadBound=this._handleImageLoad.bind(this),this.$img[0].addEventListener("load",this._handleImageLoadBound),0===ed._parallaxes.length&&(ed._handleScrollThrottled=M.throttle(ed._handleScroll,5),window.addEventListener("scroll",ed._handleScrollThrottled),ed._handleWindowResizeThrottled=M.throttle(ed._handleWindowResize,5),window.addEventListener("resize",ed._handleWindowResizeThrottled))}},{key:"_removeEventHandlers",value:function(){this.$img[0].removeEventListener("load",this._handleImageLoadBound),0===ed._parallaxes.length&&(window.removeEventListener("scroll",ed._handleScrollThrottled),window.removeEventListener("resize",ed._handleWindowResizeThrottled))}},{key:"_setupStyles",value:function(){this.$img[0].style.opacity=1}},{key:"_handleImageLoad",value:function(){this._updateParallax()}},{key:"_updateParallax",value:function(){var ee=this.$el.height()>0?this.el.parentNode.offsetHeight:500,et=this.$img[0].offsetHeight-ee,ei=this.$el.offset().top+ee,en=this.$el.offset().top,es=M.getDocumentScrollTop(),er=window.innerHeight,eo=et*((es+er-en)/(ee+er));this._enabled?ei>es&&en<es+er&&(this.$img[0].style.transform="translate3D(-50%, "+eo+"px, 0)"):this.$img[0].style.transform=""}}],[{key:"init",value:function(ee,et){return en(ed.__proto__||Object.getPrototypeOf(ed),"init",this).call(this,this,ee,et)}},{key:"getInstance",value:function(ee){return(ee.jquery?ee[0]:ee).M_Parallax}},{key:"_handleScroll",value:function(){for(var ee=0;ee<ed._parallaxes.length;ee++){var et=ed._parallaxes[ee];et._updateParallax.call(et)}}},{key:"_handleWindowResize",value:function(){for(var ee=0;ee<ed._parallaxes.length;ee++){var et=ed._parallaxes[ee];et._enabled=window.innerWidth>et.options.responsiveThreshold}}},{key:"defaults",get:function(){return et}}]),ed}(ed);ei._parallaxes=[],M.Parallax=ei,M.jQueryLoaded&&M.initializeJqueryWrapper(ei,"parallax","M_Parallax")}(cash),function(ee,et){"use strict";var ei={duration:300,onShow:null,swipeable:!1,responsiveThreshold:1/0},ec=function(ed){function ec(et,ei){eh(this,ec);var en=er(this,(ec.__proto__||Object.getPrototypeOf(ec)).call(this,ec,et,ei));return en.el.M_Tabs=en,en.options=ee.extend({},ec.defaults,ei),en.$tabLinks=en.$el.children("li.tab").children("a"),en.index=0,en._setupActiveTabLink(),en.options.swipeable?en._setupSwipeableTabs():en._setupNormalTabs(),en._setTabsAndTabWidth(),en._createIndicator(),en._setupEventHandlers(),en}return eo(ec,ed),es(ec,[{key:"destroy",value:function(){this._removeEventHandlers(),this._indicator.parentNode.removeChild(this._indicator),this.options.swipeable?this._teardownSwipeableTabs():this._teardownNormalTabs(),this.$el[0].M_Tabs=void 0}},{key:"_setupEventHandlers",value:function(){this._handleWindowResizeBound=this._handleWindowResize.bind(this),window.addEventListener("resize",this._handleWindowResizeBound),this._handleTabClickBound=this._handleTabClick.bind(this),this.el.addEventListener("click",this._handleTabClickBound)}},{key:"_removeEventHandlers",value:function(){window.removeEventListener("resize",this._handleWindowResizeBound),this.el.removeEventListener("click",this._handleTabClickBound)}},{key:"_handleWindowResize",value:function(){this._setTabsAndTabWidth(),0!==this.tabWidth&&0!==this.tabsWidth&&(this._indicator.style.left=this._calcLeftPos(this.$activeTabLink)+"px",this._indicator.style.right=this._calcRightPos(this.$activeTabLink)+"px")}},{key:"_handleTabClick",value:function(et){var ei=this,en=ee(et.target).closest("li.tab"),es=ee(et.target).closest("a");if(es.length&&es.parent().hasClass("tab")){if(en.hasClass("disabled")){et.preventDefault();return}if(!es.attr("target")){this.$activeTabLink.removeClass("active");var er=this.$content;this.$activeTabLink=es,this.$content=ee(M.escapeHash(es[0].hash)),this.$tabLinks=this.$el.children("li.tab").children("a"),this.$activeTabLink.addClass("active");var eo=this.index;this.index=Math.max(this.$tabLinks.index(es),0),this.options.swipeable?this._tabsCarousel&&this._tabsCarousel.set(this.index,function(){"function"==typeof ei.options.onShow&&ei.options.onShow.call(ei,ei.$content[0])}):this.$content.length&&(this.$content[0].style.display="block",this.$content.addClass("active"),"function"==typeof this.options.onShow&&this.options.onShow.call(this,this.$content[0]),er.length&&!er.is(this.$content)&&(er[0].style.display="none",er.removeClass("active"))),this._setTabsAndTabWidth(),this._animateIndicator(eo),et.preventDefault()}}}},{key:"_createIndicator",value:function(){var ee=this,et=document.createElement("li");et.classList.add("indicator"),this.el.appendChild(et),this._indicator=et,setTimeout(function(){ee._indicator.style.left=ee._calcLeftPos(ee.$activeTabLink)+"px",ee._indicator.style.right=ee._calcRightPos(ee.$activeTabLink)+"px"},0)}},{key:"_setupActiveTabLink",value:function(){this.$activeTabLink=ee(this.$tabLinks.filter('[href="'+location.hash+'"]')),0===this.$activeTabLink.length&&(this.$activeTabLink=this.$el.children("li.tab").children("a.active").first()),0===this.$activeTabLink.length&&(this.$activeTabLink=this.$el.children("li.tab").children("a").first()),this.$tabLinks.removeClass("active"),this.$activeTabLink[0].classList.add("active"),this.index=Math.max(this.$tabLinks.index(this.$activeTabLink),0),this.$activeTabLink.length&&(this.$content=ee(M.escapeHash(this.$activeTabLink[0].hash)),this.$content.addClass("active"))}},{key:"_setupSwipeableTabs",value:function(){var et=this;window.innerWidth>this.options.responsiveThreshold&&(this.options.swipeable=!1);var ei=ee();this.$tabLinks.each(function(et){var en=ee(M.escapeHash(et.hash));en.addClass("carousel-item"),ei=ei.add(en)});var en=ee('<div class="tabs-content carousel carousel-slider"></div>');ei.first().before(en),en.append(ei),ei[0].style.display="";var es=this.$activeTabLink.closest(".tab").index();this._tabsCarousel=M.Carousel.init(en[0],{fullWidth:!0,noWrap:!0,onCycleTo:function(ei){var en=et.index;et.index=ee(ei).index(),et.$activeTabLink.removeClass("active"),et.$activeTabLink=et.$tabLinks.eq(et.index),et.$activeTabLink.addClass("active"),et._animateIndicator(en),"function"==typeof et.options.onShow&&et.options.onShow.call(et,et.$content[0])}}),this._tabsCarousel.set(es)}},{key:"_teardownSwipeableTabs",value:function(){var ee=this._tabsCarousel.$el;this._tabsCarousel.destroy(),ee.after(ee.children()),ee.remove()}},{key:"_setupNormalTabs",value:function(){this.$tabLinks.not(this.$activeTabLink).each(function(et){if(et.hash){var ei=ee(M.escapeHash(et.hash));ei.length&&(ei[0].style.display="none")}})}},{key:"_teardownNormalTabs",value:function(){this.$tabLinks.each(function(et){if(et.hash){var ei=ee(M.escapeHash(et.hash));ei.length&&(ei[0].style.display="")}})}},{key:"_setTabsAndTabWidth",value:function(){this.tabsWidth=this.$el.width(),this.tabWidth=Math.max(this.tabsWidth,this.el.scrollWidth)/this.$tabLinks.length}},{key:"_calcRightPos",value:function(ee){return Math.ceil(this.tabsWidth-ee.position().left-ee[0].getBoundingClientRect().width)}},{key:"_calcLeftPos",value:function(ee){return Math.floor(ee.position().left)}},{key:"updateTabIndicator",value:function(){this._setTabsAndTabWidth(),this._animateIndicator(this.index)}},{key:"_animateIndicator",value:function(ee){var ei=0,en=0;this.index-ee>=0?ei=90:en=90;var es={targets:this._indicator,left:{value:this._calcLeftPos(this.$activeTabLink),delay:ei},right:{value:this._calcRightPos(this.$activeTabLink),delay:en},duration:this.options.duration,easing:"easeOutQuad"};et.remove(this._indicator),et(es)}},{key:"select",value:function(ee){var et=this.$tabLinks.filter('[href="#'+ee+'"]');et.length&&et.trigger("click")}}],[{key:"init",value:function(ee,et){return en(ec.__proto__||Object.getPrototypeOf(ec),"init",this).call(this,this,ee,et)}},{key:"getInstance",value:function(ee){return(ee.jquery?ee[0]:ee).M_Tabs}},{key:"defaults",get:function(){return ei}}]),ec}(ed);M.Tabs=ec,M.jQueryLoaded&&M.initializeJqueryWrapper(ec,"tabs","M_Tabs")}(cash,M.anime),function(ee,et){"use strict";var ei={exitDelay:200,enterDelay:0,html:null,margin:5,inDuration:250,outDuration:200,position:"bottom",transitionMovement:10},ec=function(ed){function ec(et,ei){eh(this,ec);var en=er(this,(ec.__proto__||Object.getPrototypeOf(ec)).call(this,ec,et,ei));return en.el.M_Tooltip=en,en.options=ee.extend({},ec.defaults,ei),en.isOpen=!1,en.isHovered=!1,en.isFocused=!1,en._appendTooltipEl(),en._setupEventHandlers(),en}return eo(ec,ed),es(ec,[{key:"destroy",value:function(){ee(this.tooltipEl).remove(),this._removeEventHandlers(),this.el.M_Tooltip=void 0}},{key:"_appendTooltipEl",value:function(){var ee=document.createElement("div");ee.classList.add("material-tooltip"),this.tooltipEl=ee;var et=document.createElement("div");et.classList.add("tooltip-content"),et.innerHTML=this.options.html,ee.appendChild(et),document.body.appendChild(ee)}},{key:"_updateTooltipContent",value:function(){this.tooltipEl.querySelector(".tooltip-content").innerHTML=this.options.html}},{key:"_setupEventHandlers",value:function(){this._handleMouseEnterBound=this._handleMouseEnter.bind(this),this._handleMouseLeaveBound=this._handleMouseLeave.bind(this),this._handleFocusBound=this._handleFocus.bind(this),this._handleBlurBound=this._handleBlur.bind(this),this.el.addEventListener("mouseenter",this._handleMouseEnterBound),this.el.addEventListener("mouseleave",this._handleMouseLeaveBound),this.el.addEventListener("focus",this._handleFocusBound,!0),this.el.addEventListener("blur",this._handleBlurBound,!0)}},{key:"_removeEventHandlers",value:function(){this.el.removeEventListener("mouseenter",this._handleMouseEnterBound),this.el.removeEventListener("mouseleave",this._handleMouseLeaveBound),this.el.removeEventListener("focus",this._handleFocusBound,!0),this.el.removeEventListener("blur",this._handleBlurBound,!0)}},{key:"open",value:function(et){this.isOpen||(et=void 0===et||void 0,this.isOpen=!0,this.options=ee.extend({},this.options,this._getAttributeOptions()),this._updateTooltipContent(),this._setEnterDelayTimeout(et))}},{key:"close",value:function(){this.isOpen&&(this.isHovered=!1,this.isFocused=!1,this.isOpen=!1,this._setExitDelayTimeout())}},{key:"_setExitDelayTimeout",value:function(){var ee=this;clearTimeout(this._exitDelayTimeout),this._exitDelayTimeout=setTimeout(function(){ee.isHovered||ee.isFocused||ee._animateOut()},this.options.exitDelay)}},{key:"_setEnterDelayTimeout",value:function(ee){var et=this;clearTimeout(this._enterDelayTimeout),this._enterDelayTimeout=setTimeout(function(){(et.isHovered||et.isFocused||ee)&&et._animateIn()},this.options.enterDelay)}},{key:"_positionTooltip",value:function(){var et=this.el,ei=this.tooltipEl,en=et.offsetHeight,es=et.offsetWidth,er=ei.offsetHeight,eo=ei.offsetWidth,eh=void 0,ed=this.options.margin,ec=void 0,eu=void 0;this.xMovement=0,this.yMovement=0,ec=et.getBoundingClientRect().top+M.getDocumentScrollTop(),eu=et.getBoundingClientRect().left+M.getDocumentScrollLeft(),"top"===this.options.position?(ec+=-er-ed,eu+=es/2-eo/2,this.yMovement=-this.options.transitionMovement):"right"===this.options.position?(ec+=en/2-er/2,eu+=es+ed,this.xMovement=this.options.transitionMovement):"left"===this.options.position?(ec+=en/2-er/2,eu+=-eo-ed,this.xMovement=-this.options.transitionMovement):(ec+=en+ed,eu+=es/2-eo/2,this.yMovement=this.options.transitionMovement),eh=this._repositionWithinScreen(eu,ec,eo,er),ee(ei).css({top:eh.y+"px",left:eh.x+"px"})}},{key:"_repositionWithinScreen",value:function(ee,et,ei,en){var es=M.getDocumentScrollLeft(),er=M.getDocumentScrollTop(),eo=ee-es,eh=et-er,ed={left:eo,top:eh,width:ei,height:en},ec=this.options.margin+this.options.transitionMovement,eu=M.checkWithinContainer(document.body,ed,ec);return eu.left?eo=ec:eu.right&&(eo-=eo+ei-window.innerWidth),eu.top?eh=ec:eu.bottom&&(eh-=eh+en-window.innerHeight),{x:eo+es,y:eh+er}}},{key:"_animateIn",value:function(){this._positionTooltip(),this.tooltipEl.style.visibility="visible",et.remove(this.tooltipEl),et({targets:this.tooltipEl,opacity:1,translateX:this.xMovement,translateY:this.yMovement,duration:this.options.inDuration,easing:"easeOutCubic"})}},{key:"_animateOut",value:function(){et.remove(this.tooltipEl),et({targets:this.tooltipEl,opacity:0,translateX:0,translateY:0,duration:this.options.outDuration,easing:"easeOutCubic"})}},{key:"_handleMouseEnter",value:function(){this.isHovered=!0,this.isFocused=!1,this.open(!1)}},{key:"_handleMouseLeave",value:function(){this.isHovered=!1,this.isFocused=!1,this.close()}},{key:"_handleFocus",value:function(){M.tabPressed&&(this.isFocused=!0,this.open(!1))}},{key:"_handleBlur",value:function(){this.isFocused=!1,this.close()}},{key:"_getAttributeOptions",value:function(){var ee={},et=this.el.getAttribute("data-tooltip"),ei=this.el.getAttribute("data-position");return et&&(ee.html=et),ei&&(ee.position=ei),ee}}],[{key:"init",value:function(ee,et){return en(ec.__proto__||Object.getPrototypeOf(ec),"init",this).call(this,this,ee,et)}},{key:"getInstance",value:function(ee){return(ee.jquery?ee[0]:ee).M_Tooltip}},{key:"defaults",get:function(){return ei}}]),ec}(ed);M.Tooltip=ec,M.jQueryLoaded&&M.initializeJqueryWrapper(ec,"tooltip","M_Tooltip")}(cash,M.anime),function(ee){"use strict";var et=et||{},ei=document.querySelectorAll.bind(document);function en(ee){return null!==ee&&ee===ee.window}function es(ee){return en(ee)?ee:9===ee.nodeType&&ee.defaultView}function er(ee){var et,ei,en={top:0,left:0},er=ee&&ee.ownerDocument;return et=er.documentElement,void 0!==ee.getBoundingClientRect&&(en=ee.getBoundingClientRect()),ei=es(er),{top:en.top+ei.pageYOffset-et.clientTop,left:en.left+ei.pageXOffset-et.clientLeft}}function eo(ee){var et="";for(var ei in ee)ee.hasOwnProperty(ei)&&(et+=ei+":"+ee[ei]+";");return et}var eh={duration:750,show:function(ee,et){if(2===ee.button)return!1;var ei=et||this,en=document.createElement("div");en.className="waves-ripple",ei.appendChild(en);var es=er(ei),ed=ee.pageY-es.top,ec=ee.pageX-es.left,eu="scale("+ei.clientWidth/100*10+")";"touches"in ee&&(ed=ee.touches[0].pageY-es.top,ec=ee.touches[0].pageX-es.left),en.setAttribute("data-hold",Date.now()),en.setAttribute("data-scale",eu),en.setAttribute("data-x",ec),en.setAttribute("data-y",ed);var ep={top:ed+"px",left:ec+"px"};en.className=en.className+" waves-notransition",en.setAttribute("style",eo(ep)),en.className=en.className.replace("waves-notransition",""),ep["-webkit-transform"]=eu,ep["-moz-transform"]=eu,ep["-ms-transform"]=eu,ep["-o-transform"]=eu,ep.transform=eu,ep.opacity="1",ep["-webkit-transition-duration"]=eh.duration+"ms",ep["-moz-transition-duration"]=eh.duration+"ms",ep["-o-transition-duration"]=eh.duration+"ms",ep["transition-duration"]=eh.duration+"ms",ep["-webkit-transition-timing-function"]="cubic-bezier(0.250, 0.460, 0.450, 0.940)",ep["-moz-transition-timing-function"]="cubic-bezier(0.250, 0.460, 0.450, 0.940)",ep["-o-transition-timing-function"]="cubic-bezier(0.250, 0.460, 0.450, 0.940)",ep["transition-timing-function"]="cubic-bezier(0.250, 0.460, 0.450, 0.940)",en.setAttribute("style",eo(ep))},hide:function(ee){ed.touchup(ee);var et=this;et.clientWidth;var ei=null,en=et.getElementsByClassName("waves-ripple");if(!(en.length>0))return!1;var es=(ei=en[en.length-1]).getAttribute("data-x"),er=ei.getAttribute("data-y"),ec=ei.getAttribute("data-scale"),eu=350-(Date.now()-Number(ei.getAttribute("data-hold")));eu<0&&(eu=0),setTimeout(function(){var ee={top:er+"px",left:es+"px",opacity:"0","-webkit-transition-duration":eh.duration+"ms","-moz-transition-duration":eh.duration+"ms","-o-transition-duration":eh.duration+"ms","transition-duration":eh.duration+"ms","-webkit-transform":ec,"-moz-transform":ec,"-ms-transform":ec,"-o-transform":ec,transform:ec};ei.setAttribute("style",eo(ee)),setTimeout(function(){try{et.removeChild(ei)}catch(ee){return!1}},eh.duration)},eu)},wrapInput:function(ee){for(var et=0;et<ee.length;et++){var ei=ee[et];if("input"===ei.tagName.toLowerCase()){var en=ei.parentNode;if("i"===en.tagName.toLowerCase()&&-1!==en.className.indexOf("waves-effect"))continue;var es=document.createElement("i");es.className=ei.className+" waves-input-wrapper";var er=ei.getAttribute("style");er||(er=""),es.setAttribute("style",er),ei.className="waves-button-input",ei.removeAttribute("style"),en.replaceChild(es,ei),es.appendChild(ei)}}}},ed={touches:0,allowEvent:function(ee){var et=!0;return"touchstart"===ee.type?ed.touches+=1:"touchend"===ee.type||"touchcancel"===ee.type?setTimeout(function(){ed.touches>0&&(ed.touches-=1)},500):"mousedown"===ee.type&&ed.touches>0&&(et=!1),et},touchup:function(ee){ed.allowEvent(ee)}};function ec(ee){if(!1===ed.allowEvent(ee))return null;for(var et=null,ei=ee.target||ee.srcElement;null!==ei.parentNode;){if(!(ei instanceof SVGElement)&&-1!==ei.className.indexOf("waves-effect")){et=ei;break}ei=ei.parentNode}return et}function eu(et){var ei=ec(et);null!==ei&&(eh.show(et,ei),"ontouchstart"in ee&&(ei.addEventListener("touchend",eh.hide,!1),ei.addEventListener("touchcancel",eh.hide,!1)),ei.addEventListener("mouseup",eh.hide,!1),ei.addEventListener("mouseleave",eh.hide,!1),ei.addEventListener("dragend",eh.hide,!1))}et.displayEffect=function(et){"duration"in(et=et||{})&&(eh.duration=et.duration),eh.wrapInput(ei(".waves-effect")),"ontouchstart"in ee&&document.body.addEventListener("touchstart",eu,!1),document.body.addEventListener("mousedown",eu,!1)},et.attach=function(et){"input"===et.tagName.toLowerCase()&&(eh.wrapInput([et]),et=et.parentNode),"ontouchstart"in ee&&et.addEventListener("touchstart",eu,!1),et.addEventListener("mousedown",eu,!1)},ee.Waves=et,document.addEventListener("DOMContentLoaded",function(){et.displayEffect()},!1)}(window),function(ee,et){"use strict";var ei={html:"",displayLength:4e3,inDuration:300,outDuration:375,classes:"",completeCallback:null,activationPercent:.8},en=function(){function en(et){eh(this,en),this.options=ee.extend({},en.defaults,et),this.message=this.options.html,this.panning=!1,this.timeRemaining=this.options.displayLength,0===en._toasts.length&&en._createContainer(),en._toasts.push(this);var ei=this._createToast();ei.M_Toast=this,this.el=ei,this.$el=ee(ei),this._animateIn(),this._setTimer()}return es(en,[{key:"_createToast",value:function(){var et=document.createElement("div");return et.classList.add("toast"),this.options.classes.length&&ee(et).addClass(this.options.classes),("object"==typeof HTMLElement?this.message instanceof HTMLElement:this.message&&"object"==typeof this.message&&null!==this.message&&1===this.message.nodeType&&"string"==typeof this.message.nodeName)?et.appendChild(this.message):this.message.jquery?ee(et).append(this.message[0]):et.innerHTML=this.message,en._container.appendChild(et),et}},{key:"_animateIn",value:function(){et({targets:this.el,top:0,opacity:1,duration:this.options.inDuration,easing:"easeOutCubic"})}},{key:"_setTimer",value:function(){var ee=this;this.timeRemaining!==1/0&&(this.counterInterval=setInterval(function(){ee.panning||(ee.timeRemaining-=20),ee.timeRemaining<=0&&ee.dismiss()},20))}},{key:"dismiss",value:function(){var ee=this;window.clearInterval(this.counterInterval);var ei=this.el.offsetWidth*this.options.activationPercent;this.wasSwiped&&(this.el.style.transition="transform .05s, opacity .05s",this.el.style.transform="translateX("+ei+"px)",this.el.style.opacity=0),et({targets:this.el,opacity:0,marginTop:-40,duration:this.options.outDuration,easing:"easeOutExpo",complete:function(){"function"==typeof ee.options.completeCallback&&ee.options.completeCallback(),ee.$el.remove(),en._toasts.splice(en._toasts.indexOf(ee),1),0===en._toasts.length&&en._removeContainer()}})}}],[{key:"getInstance",value:function(ee){return(ee.jquery?ee[0]:ee).M_Toast}},{key:"_createContainer",value:function(){var ee=document.createElement("div");ee.setAttribute("id","toast-container"),ee.addEventListener("touchstart",en._onDragStart),ee.addEventListener("touchmove",en._onDragMove),ee.addEventListener("touchend",en._onDragEnd),ee.addEventListener("mousedown",en._onDragStart),document.addEventListener("mousemove",en._onDragMove),document.addEventListener("mouseup",en._onDragEnd),document.body.appendChild(ee),en._container=ee}},{key:"_removeContainer",value:function(){document.removeEventListener("mousemove",en._onDragMove),document.removeEventListener("mouseup",en._onDragEnd),ee(en._container).remove(),en._container=null}},{key:"_onDragStart",value:function(et){if(et.target&&ee(et.target).closest(".toast").length){var ei=ee(et.target).closest(".toast")[0].M_Toast;ei.panning=!0,en._draggedToast=ei,ei.el.classList.add("panning"),ei.el.style.transition="",ei.startingXPos=en._xPos(et),ei.time=Date.now(),ei.xPos=en._xPos(et)}}},{key:"_onDragMove",value:function(ee){if(en._draggedToast){ee.preventDefault();var et=en._draggedToast;et.deltaX=Math.abs(et.xPos-en._xPos(ee)),et.xPos=en._xPos(ee),et.velocityX=et.deltaX/(Date.now()-et.time),et.time=Date.now();var ei=et.xPos-et.startingXPos,es=et.el.offsetWidth*et.options.activationPercent;et.el.style.transform="translateX("+ei+"px)",et.el.style.opacity=1-Math.abs(ei/es)}}},{key:"_onDragEnd",value:function(){if(en._draggedToast){var ee=en._draggedToast;ee.panning=!1,ee.el.classList.remove("panning"),Math.abs(ee.xPos-ee.startingXPos)>ee.el.offsetWidth*ee.options.activationPercent||ee.velocityX>1?(ee.wasSwiped=!0,ee.dismiss()):(ee.el.style.transition="transform .2s, opacity .2s",ee.el.style.transform="",ee.el.style.opacity=""),en._draggedToast=null}}},{key:"_xPos",value:function(ee){return ee.targetTouches&&ee.targetTouches.length>=1?ee.targetTouches[0].clientX:ee.clientX}},{key:"dismissAll",value:function(){for(var ee in en._toasts)en._toasts[ee].dismiss()}},{key:"defaults",get:function(){return ei}}]),en}();en._toasts=[],en._container=null,en._draggedToast=null,M.Toast=en,M.toast=function(ee){return new en(ee)}}(cash,M.anime),function(ee,et){"use strict";var ei={edge:"left",draggable:!0,inDuration:250,outDuration:200,onOpenStart:null,onOpenEnd:null,onCloseStart:null,onCloseEnd:null,preventScrolling:!0},ec=function(ed){function ec(et,ei){eh(this,ec);var en=er(this,(ec.__proto__||Object.getPrototypeOf(ec)).call(this,ec,et,ei));return en.el.M_Sidenav=en,en.id=en.$el.attr("id"),en.options=ee.extend({},ec.defaults,ei),en.isOpen=!1,en.isFixed=en.el.classList.contains("sidenav-fixed"),en.isDragged=!1,en.lastWindowWidth=window.innerWidth,en.lastWindowHeight=window.innerHeight,en._createOverlay(),en._createDragTarget(),en._setupEventHandlers(),en._setupClasses(),en._setupFixed(),ec._sidenavs.push(en),en}return eo(ec,ed),es(ec,[{key:"destroy",value:function(){this._removeEventHandlers(),this._enableBodyScrolling(),this._overlay.parentNode.removeChild(this._overlay),this.dragTarget.parentNode.removeChild(this.dragTarget),this.el.M_Sidenav=void 0,this.el.style.transform="";var ee=ec._sidenavs.indexOf(this);ee>=0&&ec._sidenavs.splice(ee,1)}},{key:"_createOverlay",value:function(){var ee=document.createElement("div");this._closeBound=this.close.bind(this),ee.classList.add("sidenav-overlay"),ee.addEventListener("click",this._closeBound),document.body.appendChild(ee),this._overlay=ee}},{key:"_setupEventHandlers",value:function(){0===ec._sidenavs.length&&document.body.addEventListener("click",this._handleTriggerClick),this._handleDragTargetDragBound=this._handleDragTargetDrag.bind(this),this._handleDragTargetReleaseBound=this._handleDragTargetRelease.bind(this),this._handleCloseDragBound=this._handleCloseDrag.bind(this),this._handleCloseReleaseBound=this._handleCloseRelease.bind(this),this._handleCloseTriggerClickBound=this._handleCloseTriggerClick.bind(this),this.dragTarget.addEventListener("touchmove",this._handleDragTargetDragBound),this.dragTarget.addEventListener("touchend",this._handleDragTargetReleaseBound),this._overlay.addEventListener("touchmove",this._handleCloseDragBound),this._overlay.addEventListener("touchend",this._handleCloseReleaseBound),this.el.addEventListener("touchmove",this._handleCloseDragBound),this.el.addEventListener("touchend",this._handleCloseReleaseBound),this.el.addEventListener("click",this._handleCloseTriggerClickBound),this.isFixed&&(this._handleWindowResizeBound=this._handleWindowResize.bind(this),window.addEventListener("resize",this._handleWindowResizeBound))}},{key:"_removeEventHandlers",value:function(){1===ec._sidenavs.length&&document.body.removeEventListener("click",this._handleTriggerClick),this.dragTarget.removeEventListener("touchmove",this._handleDragTargetDragBound),this.dragTarget.removeEventListener("touchend",this._handleDragTargetReleaseBound),this._overlay.removeEventListener("touchmove",this._handleCloseDragBound),this._overlay.removeEventListener("touchend",this._handleCloseReleaseBound),this.el.removeEventListener("touchmove",this._handleCloseDragBound),this.el.removeEventListener("touchend",this._handleCloseReleaseBound),this.el.removeEventListener("click",this._handleCloseTriggerClickBound),this.isFixed&&window.removeEventListener("resize",this._handleWindowResizeBound)}},{key:"_handleTriggerClick",value:function(et){var ei=ee(et.target).closest(".sidenav-trigger");if(et.target&&ei.length){var en=M.getIdFromTrigger(ei[0]),es=document.getElementById(en).M_Sidenav;es&&es.open(ei),et.preventDefault()}}},{key:"_startDrag",value:function(ee){var ei=ee.targetTouches[0].clientX;this.isDragged=!0,this._startingXpos=ei,this._xPos=this._startingXpos,this._time=Date.now(),this._width=this.el.getBoundingClientRect().width,this._overlay.style.display="block",this._initialScrollTop=this.isOpen?this.el.scrollTop:M.getDocumentScrollTop(),this._verticallyScrolling=!1,et.remove(this.el),et.remove(this._overlay)}},{key:"_dragMoveUpdate",value:function(ee){var et=ee.targetTouches[0].clientX,ei=this.isOpen?this.el.scrollTop:M.getDocumentScrollTop();this.deltaX=Math.abs(this._xPos-et),this._xPos=et,this.velocityX=this.deltaX/(Date.now()-this._time),this._time=Date.now(),this._initialScrollTop!==ei&&(this._verticallyScrolling=!0)}},{key:"_handleDragTargetDrag",value:function(ee){if(!(!this.options.draggable||this._isCurrentlyFixed())&&!this._verticallyScrolling){this.isDragged||this._startDrag(ee),this._dragMoveUpdate(ee);var et=this._xPos-this._startingXpos,ei=et>0?"right":"left";et=Math.min(this._width,Math.abs(et)),this.options.edge===ei&&(et=0);var en=et,es="translateX(-100%)";"right"===this.options.edge&&(es="translateX(100%)",en=-en),this.percentOpen=Math.min(1,et/this._width),this.el.style.transform=es+" translateX("+en+"px)",this._overlay.style.opacity=this.percentOpen}}},{key:"_handleDragTargetRelease",value:function(){this.isDragged&&(this.percentOpen>.2?this.open():this._animateOut(),this.isDragged=!1,this._verticallyScrolling=!1)}},{key:"_handleCloseDrag",value:function(ee){if(this.isOpen&&!(!this.options.draggable||this._isCurrentlyFixed())&&!this._verticallyScrolling){this.isDragged||this._startDrag(ee),this._dragMoveUpdate(ee);var et=this._xPos-this._startingXpos,ei=et>0?"right":"left";et=Math.min(this._width,Math.abs(et)),this.options.edge!==ei&&(et=0);var en=-et;"right"===this.options.edge&&(en=-en),this.percentOpen=Math.min(1,1-et/this._width),this.el.style.transform="translateX("+en+"px)",this._overlay.style.opacity=this.percentOpen}}},{key:"_handleCloseRelease",value:function(){this.isOpen&&this.isDragged&&(this.percentOpen>.8?this._animateIn():this.close(),this.isDragged=!1,this._verticallyScrolling=!1)}},{key:"_handleCloseTriggerClick",value:function(et){ee(et.target).closest(".sidenav-close").length&&!this._isCurrentlyFixed()&&this.close()}},{key:"_handleWindowResize",value:function(){this.lastWindowWidth!==window.innerWidth&&(window.innerWidth>992?this.open():this.close()),this.lastWindowWidth=window.innerWidth,this.lastWindowHeight=window.innerHeight}},{key:"_setupClasses",value:function(){"right"===this.options.edge&&(this.el.classList.add("right-aligned"),this.dragTarget.classList.add("right-aligned"))}},{key:"_removeClasses",value:function(){this.el.classList.remove("right-aligned"),this.dragTarget.classList.remove("right-aligned")}},{key:"_setupFixed",value:function(){this._isCurrentlyFixed()&&this.open()}},{key:"_isCurrentlyFixed",value:function(){return this.isFixed&&window.innerWidth>992}},{key:"_createDragTarget",value:function(){var ee=document.createElement("div");ee.classList.add("drag-target"),document.body.appendChild(ee),this.dragTarget=ee}},{key:"_preventBodyScrolling",value:function(){document.body.style.overflow="hidden"}},{key:"_enableBodyScrolling",value:function(){document.body.style.overflow=""}},{key:"open",value:function(){!0===this.isOpen||(this.isOpen=!0,"function"==typeof this.options.onOpenStart&&this.options.onOpenStart.call(this,this.el),this._isCurrentlyFixed()?(et.remove(this.el),et({targets:this.el,translateX:0,duration:0,easing:"easeOutQuad"}),this._enableBodyScrolling(),this._overlay.style.display="none"):(this.options.preventScrolling&&this._preventBodyScrolling(),this.isDragged&&1==this.percentOpen||this._animateIn()))}},{key:"close",value:function(){if(!1!==this.isOpen){if(this.isOpen=!1,"function"==typeof this.options.onCloseStart&&this.options.onCloseStart.call(this,this.el),this._isCurrentlyFixed()){var ee="left"===this.options.edge?"-105%":"105%";this.el.style.transform="translateX("+ee+")"}else this._enableBodyScrolling(),this.isDragged&&0==this.percentOpen?this._overlay.style.display="none":this._animateOut()}}},{key:"_animateIn",value:function(){this._animateSidenavIn(),this._animateOverlayIn()}},{key:"_animateSidenavIn",value:function(){var ee=this,ei="left"===this.options.edge?-1:1;this.isDragged&&(ei="left"===this.options.edge?ei+this.percentOpen:ei-this.percentOpen),et.remove(this.el),et({targets:this.el,translateX:[100*ei+"%",0],duration:this.options.inDuration,easing:"easeOutQuad",complete:function(){"function"==typeof ee.options.onOpenEnd&&ee.options.onOpenEnd.call(ee,ee.el)}})}},{key:"_animateOverlayIn",value:function(){var ei=0;this.isDragged?ei=this.percentOpen:ee(this._overlay).css({display:"block"}),et.remove(this._overlay),et({targets:this._overlay,opacity:[ei,1],duration:this.options.inDuration,easing:"easeOutQuad"})}},{key:"_animateOut",value:function(){this._animateSidenavOut(),this._animateOverlayOut()}},{key:"_animateSidenavOut",value:function(){var ee=this,ei="left"===this.options.edge?-1:1,en=0;this.isDragged&&(en="left"===this.options.edge?ei+this.percentOpen:ei-this.percentOpen),et.remove(this.el),et({targets:this.el,translateX:[100*en+"%",105*ei+"%"],duration:this.options.outDuration,easing:"easeOutQuad",complete:function(){"function"==typeof ee.options.onCloseEnd&&ee.options.onCloseEnd.call(ee,ee.el)}})}},{key:"_animateOverlayOut",value:function(){var ei=this;et.remove(this._overlay),et({targets:this._overlay,opacity:0,duration:this.options.outDuration,easing:"easeOutQuad",complete:function(){ee(ei._overlay).css("display","none")}})}}],[{key:"init",value:function(ee,et){return en(ec.__proto__||Object.getPrototypeOf(ec),"init",this).call(this,this,ee,et)}},{key:"getInstance",value:function(ee){return(ee.jquery?ee[0]:ee).M_Sidenav}},{key:"defaults",get:function(){return ei}}]),ec}(ed);ec._sidenavs=[],M.Sidenav=ec,M.jQueryLoaded&&M.initializeJqueryWrapper(ec,"sidenav","M_Sidenav")}(cash,M.anime),function(ee,et){"use strict";var ei={throttle:100,scrollOffset:200,activeClass:"active",getActiveElement:function(ee){return'a[href="#'+ee+'"]'}},ec=function(ed){function ec(et,ei){eh(this,ec);var en=er(this,(ec.__proto__||Object.getPrototypeOf(ec)).call(this,ec,et,ei));return en.el.M_ScrollSpy=en,en.options=ee.extend({},ec.defaults,ei),ec._elements.push(en),ec._count++,ec._increment++,en.tickId=-1,en.id=ec._increment,en._setupEventHandlers(),en._handleWindowScroll(),en}return eo(ec,ed),es(ec,[{key:"destroy",value:function(){ec._elements.splice(ec._elements.indexOf(this),1),ec._elementsInView.splice(ec._elementsInView.indexOf(this),1),ec._visibleElements.splice(ec._visibleElements.indexOf(this.$el),1),ec._count--,this._removeEventHandlers(),ee(this.options.getActiveElement(this.$el.attr("id"))).removeClass(this.options.activeClass),this.el.M_ScrollSpy=void 0}},{key:"_setupEventHandlers",value:function(){var ee=M.throttle(this._handleWindowScroll,200);this._handleThrottledResizeBound=ee.bind(this),this._handleWindowScrollBound=this._handleWindowScroll.bind(this),1===ec._count&&(window.addEventListener("scroll",this._handleWindowScrollBound),window.addEventListener("resize",this._handleThrottledResizeBound),document.body.addEventListener("click",this._handleTriggerClick))}},{key:"_removeEventHandlers",value:function(){0===ec._count&&(window.removeEventListener("scroll",this._handleWindowScrollBound),window.removeEventListener("resize",this._handleThrottledResizeBound),document.body.removeEventListener("click",this._handleTriggerClick))}},{key:"_handleTriggerClick",value:function(ei){for(var en=ee(ei.target),es=ec._elements.length-1;es>=0;es--){var er=ec._elements[es];if(en.is('a[href="#'+er.$el.attr("id")+'"]')){ei.preventDefault();var eo=er.$el.offset().top+1;et({targets:[document.documentElement,document.body],scrollTop:eo-er.options.scrollOffset,duration:400,easing:"easeOutCubic"});break}}}},{key:"_handleWindowScroll",value:function(){ec._ticks++;for(var ee=M.getDocumentScrollTop(),et=M.getDocumentScrollLeft(),ei=et+window.innerWidth,en=ee+window.innerHeight,es=ec._findElements(ee,ei,en,et),er=0;er<es.length;er++){var eo=es[er];eo.tickId<0&&eo._enter(),eo.tickId=ec._ticks}for(var eh=0;eh<ec._elementsInView.length;eh++){var ed=ec._elementsInView[eh],eu=ed.tickId;eu>=0&&eu!==ec._ticks&&(ed._exit(),ed.tickId=-1)}ec._elementsInView=es}},{key:"_enter",value:function(){ec._visibleElements=ec._visibleElements.filter(function(ee){return 0!=ee.height()}),ec._visibleElements[0]?(ee(this.options.getActiveElement(ec._visibleElements[0].attr("id"))).removeClass(this.options.activeClass),ec._visibleElements[0][0].M_ScrollSpy&&this.id<ec._visibleElements[0][0].M_ScrollSpy.id?ec._visibleElements.unshift(this.$el):ec._visibleElements.push(this.$el)):ec._visibleElements.push(this.$el),ee(this.options.getActiveElement(ec._visibleElements[0].attr("id"))).addClass(this.options.activeClass)}},{key:"_exit",value:function(){var et=this;ec._visibleElements=ec._visibleElements.filter(function(ee){return 0!=ee.height()}),ec._visibleElements[0]&&(ee(this.options.getActiveElement(ec._visibleElements[0].attr("id"))).removeClass(this.options.activeClass),ec._visibleElements=ec._visibleElements.filter(function(ee){return ee.attr("id")!=et.$el.attr("id")}),ec._visibleElements[0]&&ee(this.options.getActiveElement(ec._visibleElements[0].attr("id"))).addClass(this.options.activeClass))}}],[{key:"init",value:function(ee,et){return en(ec.__proto__||Object.getPrototypeOf(ec),"init",this).call(this,this,ee,et)}},{key:"getInstance",value:function(ee){return(ee.jquery?ee[0]:ee).M_ScrollSpy}},{key:"_findElements",value:function(ee,et,ei,en){for(var es=[],er=0;er<ec._elements.length;er++){var eo=ec._elements[er],eh=ee+eo.options.scrollOffset||200;if(eo.$el.height()>0){var ed=eo.$el.offset().top,eu=eo.$el.offset().left,ep=eu+eo.$el.width(),ef=ed+eo.$el.height();eu>et||ep<en||ed>ei||ef<eh||es.push(eo)}}return es}},{key:"defaults",get:function(){return ei}}]),ec}(ed);ec._elements=[],ec._elementsInView=[],ec._visibleElements=[],ec._count=0,ec._increment=0,ec._ticks=0,M.ScrollSpy=ec,M.jQueryLoaded&&M.initializeJqueryWrapper(ec,"scrollSpy","M_ScrollSpy")}(cash,M.anime),function(ee){"use strict";var et={data:{},limit:1/0,onAutocomplete:null,minLength:1,sortFunction:function(ee,et,ei){return ee.indexOf(ei)-et.indexOf(ei)}},ei=function(ei){function ed(et,ei){eh(this,ed);var en=er(this,(ed.__proto__||Object.getPrototypeOf(ed)).call(this,ed,et,ei));return en.el.M_Autocomplete=en,en.options=ee.extend({},ed.defaults,ei),en.isOpen=!1,en.count=0,en.activeIndex=-1,en.oldVal,en.$inputField=en.$el.closest(".input-field"),en.$active=ee(),en._mousedown=!1,en._setupDropdown(),en._setupEventHandlers(),en}return eo(ed,ei),es(ed,[{key:"destroy",value:function(){this._removeEventHandlers(),this._removeDropdown(),this.el.M_Autocomplete=void 0}},{key:"_setupEventHandlers",value:function(){this._handleInputBlurBound=this._handleInputBlur.bind(this),this._handleInputKeyupAndFocusBound=this._handleInputKeyupAndFocus.bind(this),this._handleInputKeydownBound=this._handleInputKeydown.bind(this),this._handleInputClickBound=this._handleInputClick.bind(this),this._handleContainerMousedownAndTouchstartBound=this._handleContainerMousedownAndTouchstart.bind(this),this._handleContainerMouseupAndTouchendBound=this._handleContainerMouseupAndTouchend.bind(this),this.el.addEventListener("blur",this._handleInputBlurBound),this.el.addEventListener("keyup",this._handleInputKeyupAndFocusBound),this.el.addEventListener("focus",this._handleInputKeyupAndFocusBound),this.el.addEventListener("keydown",this._handleInputKeydownBound),this.el.addEventListener("click",this._handleInputClickBound),this.container.addEventListener("mousedown",this._handleContainerMousedownAndTouchstartBound),this.container.addEventListener("mouseup",this._handleContainerMouseupAndTouchendBound),void 0!==window.ontouchstart&&(this.container.addEventListener("touchstart",this._handleContainerMousedownAndTouchstartBound),this.container.addEventListener("touchend",this._handleContainerMouseupAndTouchendBound))}},{key:"_removeEventHandlers",value:function(){this.el.removeEventListener("blur",this._handleInputBlurBound),this.el.removeEventListener("keyup",this._handleInputKeyupAndFocusBound),this.el.removeEventListener("focus",this._handleInputKeyupAndFocusBound),this.el.removeEventListener("keydown",this._handleInputKeydownBound),this.el.removeEventListener("click",this._handleInputClickBound),this.container.removeEventListener("mousedown",this._handleContainerMousedownAndTouchstartBound),this.container.removeEventListener("mouseup",this._handleContainerMouseupAndTouchendBound),void 0!==window.ontouchstart&&(this.container.removeEventListener("touchstart",this._handleContainerMousedownAndTouchstartBound),this.container.removeEventListener("touchend",this._handleContainerMouseupAndTouchendBound))}},{key:"_setupDropdown",value:function(){var et=this;this.container=document.createElement("ul"),this.container.id="autocomplete-options-"+M.guid(),ee(this.container).addClass("autocomplete-content dropdown-content"),this.$inputField.append(this.container),this.el.setAttribute("data-target",this.container.id),this.dropdown=M.Dropdown.init(this.el,{autoFocus:!1,closeOnClick:!1,coverTrigger:!1,onItemClick:function(ei){et.selectOption(ee(ei))}}),this.el.removeEventListener("click",this.dropdown._handleClickBound)}},{key:"_removeDropdown",value:function(){this.container.parentNode.removeChild(this.container)}},{key:"_handleInputBlur",value:function(){this._mousedown||(this.close(),this._resetAutocomplete())}},{key:"_handleInputKeyupAndFocus",value:function(ee){"keyup"===ee.type&&(ed._keydown=!1),this.count=0;var et=this.el.value.toLowerCase();13!==ee.keyCode&&38!==ee.keyCode&&40!==ee.keyCode&&(this.oldVal!==et&&(M.tabPressed||"focus"!==ee.type)&&this.open(),this.oldVal=et)}},{key:"_handleInputKeydown",value:function(et){ed._keydown=!0;var ei=et.keyCode,en=void 0,es=ee(this.container).children("li").length;if(ei===M.keys.ENTER&&this.activeIndex>=0){(en=ee(this.container).children("li").eq(this.activeIndex)).length&&(this.selectOption(en),et.preventDefault());return}(ei===M.keys.ARROW_UP||ei===M.keys.ARROW_DOWN)&&(et.preventDefault(),ei===M.keys.ARROW_UP&&this.activeIndex>0&&this.activeIndex--,ei===M.keys.ARROW_DOWN&&this.activeIndex<es-1&&this.activeIndex++,this.$active.removeClass("active"),this.activeIndex>=0&&(this.$active=ee(this.container).children("li").eq(this.activeIndex),this.$active.addClass("active")))}},{key:"_handleInputClick",value:function(ee){this.open()}},{key:"_handleContainerMousedownAndTouchstart",value:function(ee){this._mousedown=!0}},{key:"_handleContainerMouseupAndTouchend",value:function(ee){this._mousedown=!1}},{key:"_highlight",value:function(ee,et){var ei=et.find("img"),en=et.text().toLowerCase().indexOf(""+ee.toLowerCase()),es=en+ee.length-1,er=et.text().slice(0,en),eo=et.text().slice(en,es+1),eh=et.text().slice(es+1);et.html("<span>"+er+"<span class='highlight'>"+eo+"</span>"+eh+"</span>"),ei.length&&et.prepend(ei)}},{key:"_resetCurrentElement",value:function(){this.activeIndex=-1,this.$active.removeClass("active")}},{key:"_resetAutocomplete",value:function(){ee(this.container).empty(),this._resetCurrentElement(),this.oldVal=null,this.isOpen=!1,this._mousedown=!1}},{key:"selectOption",value:function(ee){var et=ee.text().trim();this.el.value=et,this.$el.trigger("change"),this._resetAutocomplete(),this.close(),"function"==typeof this.options.onAutocomplete&&this.options.onAutocomplete.call(this,et)}},{key:"_renderDropdown",value:function(et,ei){var en=this;this._resetAutocomplete();var es=[];for(var er in et)if(et.hasOwnProperty(er)&&-1!==er.toLowerCase().indexOf(ei)){if(this.count>=this.options.limit)break;var eo={data:et[er],key:er};es.push(eo),this.count++}if(this.options.sortFunction){var eh=function(ee,et){return en.options.sortFunction(ee.key.toLowerCase(),et.key.toLowerCase(),ei.toLowerCase())};es.sort(eh)}for(var ed=0;ed<es.length;ed++){var ec=es[ed],eu=ee("<li></li>");ec.data?eu.append('<img src="'+ec.data+'" class="right circle"><span>'+ec.key+"</span>"):eu.append("<span>"+ec.key+"</span>"),ee(this.container).append(eu),this._highlight(ei,eu)}}},{key:"open",value:function(){var ee=this.el.value.toLowerCase();this._resetAutocomplete(),ee.length>=this.options.minLength&&(this.isOpen=!0,this._renderDropdown(this.options.data,ee)),this.dropdown.isOpen?this.dropdown.recalculateDimensions():this.dropdown.open()}},{key:"close",value:function(){this.dropdown.close()}},{key:"updateData",value:function(ee){var et=this.el.value.toLowerCase();this.options.data=ee,this.isOpen&&this._renderDropdown(ee,et)}}],[{key:"init",value:function(ee,et){return en(ed.__proto__||Object.getPrototypeOf(ed),"init",this).call(this,this,ee,et)}},{key:"getInstance",value:function(ee){return(ee.jquery?ee[0]:ee).M_Autocomplete}},{key:"defaults",get:function(){return et}}]),ed}(ed);ei._keydown=!1,M.Autocomplete=ei,M.jQueryLoaded&&M.initializeJqueryWrapper(ei,"autocomplete","M_Autocomplete")}(cash),function(ee){M.updateTextFields=function(){ee("input[type=text], input[type=password], input[type=email], input[type=url], input[type=tel], input[type=number], input[type=search], input[type=date], input[type=time], textarea").each(function(et,ei){var en=ee(this);et.value.length>0||ee(et).is(":focus")||et.autofocus||null!==en.attr("placeholder")?en.siblings("label").addClass("active"):et.validity?en.siblings("label").toggleClass("active",!0===et.validity.badInput):en.siblings("label").removeClass("active")})},M.validate_field=function(ee){var et=null!==ee.attr("data-length"),ei=parseInt(ee.attr("data-length")),en=ee[0].value.length;0!==en||!1!==ee[0].validity.badInput||ee.is(":required")?ee.hasClass("validate")&&(ee.is(":valid")&&et&&en<=ei||ee.is(":valid")&&!et?(ee.removeClass("invalid"),ee.addClass("valid")):(ee.removeClass("valid"),ee.addClass("invalid"))):ee.hasClass("validate")&&(ee.removeClass("valid"),ee.removeClass("invalid"))},M.textareaAutoResize=function(et){if(et instanceof Element&&(et=ee(et)),!et.length){console.error("No textarea element found");return}var ei=ee(".hiddendiv").first();ei.length||(ei=ee('<div class="hiddendiv common"></div>'),ee("body").append(ei));var en=et.css("font-family"),es=et.css("font-size"),er=et.css("line-height"),eo=et.css("padding-top"),eh=et.css("padding-right"),ed=et.css("padding-bottom"),ec=et.css("padding-left");es&&ei.css("font-size",es),en&&ei.css("font-family",en),er&&ei.css("line-height",er),eo&&ei.css("padding-top",eo),eh&&ei.css("padding-right",eh),ed&&ei.css("padding-bottom",ed),ec&&ei.css("padding-left",ec),et.data("original-height")||et.data("original-height",et.height()),"off"===et.attr("wrap")&&ei.css("overflow-wrap","normal").css("white-space","pre"),ei.text(et[0].value+"\n");var eu=ei.html().replace(/\n/g,"<br>");ei.html(eu),et[0].offsetWidth>0&&et[0].offsetHeight>0?ei.css("width",et.width()+"px"):ei.css("width",window.innerWidth/2+"px"),et.data("original-height")<=ei.innerHeight()?et.css("height",ei.innerHeight()+"px"):et[0].value.length<et.data("previous-length")&&et.css("height",et.data("original-height")+"px"),et.data("previous-length",et[0].value.length)},ee(document).ready(function(){var et="input[type=text], input[type=password], input[type=email], input[type=url], input[type=tel], input[type=number], input[type=search], input[type=date], input[type=time], textarea";ee(document).on("change",et,function(){(0!==this.value.length||null!==ee(this).attr("placeholder"))&&ee(this).siblings("label").addClass("active"),M.validate_field(ee(this))}),ee(document).ready(function(){M.updateTextFields()}),ee(document).on("reset",function(ei){var en=ee(ei.target);en.is("form")&&(en.find(et).removeClass("valid").removeClass("invalid"),en.find(et).each(function(et){this.value.length&&ee(this).siblings("label").removeClass("active")}),setTimeout(function(){en.find("select").each(function(){this.M_FormSelect&&ee(this).trigger("change")})},0))}),document.addEventListener("focus",function(ei){ee(ei.target).is(et)&&ee(ei.target).siblings("label, .prefix").addClass("active")},!0),document.addEventListener("blur",function(ei){var en=ee(ei.target);if(en.is(et)){var es=".prefix";0===en[0].value.length&&!0!==en[0].validity.badInput&&null===en.attr("placeholder")&&(es+=", label"),en.siblings(es).removeClass("active"),M.validate_field(en)}},!0);var ei="input[type=radio], input[type=checkbox]";ee(document).on("keyup",ei,function(et){if(et.which===M.keys.TAB){ee(this).addClass("tabbed"),ee(this).one("blur",function(et){ee(this).removeClass("tabbed")});return}});var en=".materialize-textarea";ee(en).each(function(){var et=ee(this);et.data("original-height",et.height()),et.data("previous-length",this.value.length),M.textareaAutoResize(et)}),ee(document).on("keyup",en,function(){M.textareaAutoResize(ee(this))}),ee(document).on("keydown",en,function(){M.textareaAutoResize(ee(this))}),ee(document).on("change",'.file-field input[type="file"]',function(){for(var et=ee(this).closest(".file-field").find("input.file-path"),ei=ee(this)[0].files,en=[],es=0;es<ei.length;es++)en.push(ei[es].name);et[0].value=en.join(", "),et.trigger("change")})})}(cash),function(ee,et){"use strict";var ei={indicators:!0,height:400,duration:500,interval:6e3},ec=function(ed){function ec(ei,en){eh(this,ec);var es=er(this,(ec.__proto__||Object.getPrototypeOf(ec)).call(this,ec,ei,en));return es.el.M_Slider=es,es.options=ee.extend({},ec.defaults,en),es.$slider=es.$el.find(".slides"),es.$slides=es.$slider.children("li"),es.activeIndex=es.$slides.filter(function(et){return ee(et).hasClass("active")}).first().index(),-1!=es.activeIndex&&(es.$active=es.$slides.eq(es.activeIndex)),es._setSliderHeight(),es.$slides.find(".caption").each(function(ee){es._animateCaptionIn(ee,0)}),es.$slides.find("img").each(function(et){var ei="data:image/gif;base64,R0lGODlhAQABAIABAP///wAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==";ee(et).attr("src")!==ei&&(ee(et).css("background-image",'url("'+ee(et).attr("src")+'")'),ee(et).attr("src",ei))}),es._setupIndicators(),es.$active?es.$active.css("display","block"):(es.$slides.first().addClass("active"),et({targets:es.$slides.first()[0],opacity:1,duration:es.options.duration,easing:"easeOutQuad"}),es.activeIndex=0,es.$active=es.$slides.eq(es.activeIndex),es.options.indicators&&es.$indicators.eq(es.activeIndex).addClass("active")),es.$active.find("img").each(function(ee){et({targets:es.$active.find(".caption")[0],opacity:1,translateX:0,translateY:0,duration:es.options.duration,easing:"easeOutQuad"})}),es._setupEventHandlers(),es.start(),es}return eo(ec,ed),es(ec,[{key:"destroy",value:function(){this.pause(),this._removeIndicators(),this._removeEventHandlers(),this.el.M_Slider=void 0}},{key:"_setupEventHandlers",value:function(){var ee=this;this._handleIntervalBound=this._handleInterval.bind(this),this._handleIndicatorClickBound=this._handleIndicatorClick.bind(this),this.options.indicators&&this.$indicators.each(function(et){et.addEventListener("click",ee._handleIndicatorClickBound)})}},{key:"_removeEventHandlers",value:function(){var ee=this;this.options.indicators&&this.$indicators.each(function(et){et.removeEventListener("click",ee._handleIndicatorClickBound)})}},{key:"_handleIndicatorClick",value:function(et){var ei=ee(et.target).index();this.set(ei)}},{key:"_handleInterval",value:function(){var ee=this.$slider.find(".active").index();this.$slides.length===ee+1?ee=0:ee+=1,this.set(ee)}},{key:"_animateCaptionIn",value:function(ei,en){var es={targets:ei,opacity:0,duration:en,easing:"easeOutQuad"};ee(ei).hasClass("center-align")?es.translateY=-100:ee(ei).hasClass("right-align")?es.translateX=100:ee(ei).hasClass("left-align")&&(es.translateX=-100),et(es)}},{key:"_setSliderHeight",value:function(){this.$el.hasClass("fullscreen")||(this.options.indicators?this.$el.css("height",this.options.height+40+"px"):this.$el.css("height",this.options.height+"px"),this.$slider.css("height",this.options.height+"px"))}},{key:"_setupIndicators",value:function(){var et=this;this.options.indicators&&(this.$indicators=ee('<ul class="indicators"></ul>'),this.$slides.each(function(ei,en){var es=ee('<li class="indicator-item"></li>');et.$indicators.append(es[0])}),this.$el.append(this.$indicators[0]),this.$indicators=this.$indicators.children("li.indicator-item"))}},{key:"_removeIndicators",value:function(){this.$el.find("ul.indicators").remove()}},{key:"set",value:function(ee){var ei=this;if(ee>=this.$slides.length?ee=0:ee<0&&(ee=this.$slides.length-1),this.activeIndex!=ee){this.$active=this.$slides.eq(this.activeIndex);var en=this.$active.find(".caption");this.$active.removeClass("active"),et({targets:this.$active[0],opacity:0,duration:this.options.duration,easing:"easeOutQuad",complete:function(){ei.$slides.not(".active").each(function(ee){et({targets:ee,opacity:0,translateX:0,translateY:0,duration:0,easing:"easeOutQuad"})})}}),this._animateCaptionIn(en[0],this.options.duration),this.options.indicators&&(this.$indicators.eq(this.activeIndex).removeClass("active"),this.$indicators.eq(ee).addClass("active")),et({targets:this.$slides.eq(ee)[0],opacity:1,duration:this.options.duration,easing:"easeOutQuad"}),et({targets:this.$slides.eq(ee).find(".caption")[0],opacity:1,translateX:0,translateY:0,duration:this.options.duration,delay:this.options.duration,easing:"easeOutQuad"}),this.$slides.eq(ee).addClass("active"),this.activeIndex=ee,this.start()}}},{key:"pause",value:function(){clearInterval(this.interval)}},{key:"start",value:function(){clearInterval(this.interval),this.interval=setInterval(this._handleIntervalBound,this.options.duration+this.options.interval)}},{key:"next",value:function(){var ee=this.activeIndex+1;ee>=this.$slides.length?ee=0:ee<0&&(ee=this.$slides.length-1),this.set(ee)}},{key:"prev",value:function(){var ee=this.activeIndex-1;ee>=this.$slides.length?ee=0:ee<0&&(ee=this.$slides.length-1),this.set(ee)}}],[{key:"init",value:function(ee,et){return en(ec.__proto__||Object.getPrototypeOf(ec),"init",this).call(this,this,ee,et)}},{key:"getInstance",value:function(ee){return(ee.jquery?ee[0]:ee).M_Slider}},{key:"defaults",get:function(){return ei}}]),ec}(ed);M.Slider=ec,M.jQueryLoaded&&M.initializeJqueryWrapper(ec,"slider","M_Slider")}(cash,M.anime),function(ee,et){ee(document).on("click",".card",function(ei){if(ee(this).children(".card-reveal").length){var en=ee(ei.target).closest(".card");void 0===en.data("initialOverflow")&&en.data("initialOverflow",void 0===en.css("overflow")?"":en.css("overflow"));var es=ee(this).find(".card-reveal");ee(ei.target).is(ee(".card-reveal .card-title"))||ee(ei.target).is(ee(".card-reveal .card-title i"))?et({targets:es[0],translateY:0,duration:225,easing:"easeInOutQuad",complete:function(et){ee(et.animatables[0].target).css({display:"none"}),en.css("overflow",en.data("initialOverflow"))}}):(ee(ei.target).is(ee(".card .activator"))||ee(ei.target).is(ee(".card .activator i")))&&(en.css("overflow","hidden"),es.css({display:"block"}),et({targets:es[0],translateY:"-100%",duration:300,easing:"easeInOutQuad"}))}})}(cash,M.anime),function(ee){"use strict";var et={data:[],placeholder:"",secondaryPlaceholder:"",autocompleteOptions:{},limit:1/0,onChipAdd:null,onChipSelect:null,onChipDelete:null},ei=function(ei){function ed(et,ei){eh(this,ed);var en=er(this,(ed.__proto__||Object.getPrototypeOf(ed)).call(this,ed,et,ei));return en.el.M_Chips=en,en.options=ee.extend({},ed.defaults,ei),en.$el.addClass("chips input-field"),en.chipsData=[],en.$chips=ee(),en._setupInput(),en.hasAutocomplete=Object.keys(en.options.autocompleteOptions).length>0,en.$input.attr("id")||en.$input.attr("id",M.guid()),en.options.data.length&&(en.chipsData=en.options.data,en._renderChips(en.chipsData)),en.hasAutocomplete&&en._setupAutocomplete(),en._setPlaceholder(),en._setupLabel(),en._setupEventHandlers(),en}return eo(ed,ei),es(ed,[{key:"getData",value:function(){return this.chipsData}},{key:"destroy",value:function(){this._removeEventHandlers(),this.$chips.remove(),this.el.M_Chips=void 0}},{key:"_setupEventHandlers",value:function(){this._handleChipClickBound=this._handleChipClick.bind(this),this._handleInputKeydownBound=this._handleInputKeydown.bind(this),this._handleInputFocusBound=this._handleInputFocus.bind(this),this._handleInputBlurBound=this._handleInputBlur.bind(this),this.el.addEventListener("click",this._handleChipClickBound),document.addEventListener("keydown",ed._handleChipsKeydown),document.addEventListener("keyup",ed._handleChipsKeyup),this.el.addEventListener("blur",ed._handleChipsBlur,!0),this.$input[0].addEventListener("focus",this._handleInputFocusBound),this.$input[0].addEventListener("blur",this._handleInputBlurBound),this.$input[0].addEventListener("keydown",this._handleInputKeydownBound)}},{key:"_removeEventHandlers",value:function(){this.el.removeEventListener("click",this._handleChipClickBound),document.removeEventListener("keydown",ed._handleChipsKeydown),document.removeEventListener("keyup",ed._handleChipsKeyup),this.el.removeEventListener("blur",ed._handleChipsBlur,!0),this.$input[0].removeEventListener("focus",this._handleInputFocusBound),this.$input[0].removeEventListener("blur",this._handleInputBlurBound),this.$input[0].removeEventListener("keydown",this._handleInputKeydownBound)}},{key:"_handleChipClick",value:function(et){var ei=ee(et.target).closest(".chip"),en=ee(et.target).is(".close");if(ei.length){var es=ei.index();en?(this.deleteChip(es),this.$input[0].focus()):this.selectChip(es)}else this.$input[0].focus()}},{key:"_handleInputFocus",value:function(){this.$el.addClass("focus")}},{key:"_handleInputBlur",value:function(){this.$el.removeClass("focus")}},{key:"_handleInputKeydown",value:function(ee){(ed._keydown=!0,13===ee.keyCode)?this.hasAutocomplete&&this.autocomplete&&this.autocomplete.isOpen||(ee.preventDefault(),this.addChip({tag:this.$input[0].value}),this.$input[0].value=""):(8===ee.keyCode||37===ee.keyCode)&&""===this.$input[0].value&&this.chipsData.length&&(ee.preventDefault(),this.selectChip(this.chipsData.length-1))}},{key:"_renderChip",value:function(et){if(et.tag){var ei=document.createElement("div"),en=document.createElement("i");if(ei.classList.add("chip"),ei.textContent=et.tag,ei.setAttribute("tabindex",0),ee(en).addClass("material-icons close"),en.textContent="close",et.image){var es=document.createElement("img");es.setAttribute("src",et.image),ei.insertBefore(es,ei.firstChild)}return ei.appendChild(en),ei}}},{key:"_renderChips",value:function(){this.$chips.remove();for(var ee=0;ee<this.chipsData.length;ee++){var et=this._renderChip(this.chipsData[ee]);this.$el.append(et),this.$chips.add(et)}this.$el.append(this.$input[0])}},{key:"_setupAutocomplete",value:function(){var ee=this;this.options.autocompleteOptions.onAutocomplete=function(et){ee.addChip({tag:et}),ee.$input[0].value="",ee.$input[0].focus()},this.autocomplete=M.Autocomplete.init(this.$input[0],this.options.autocompleteOptions)}},{key:"_setupInput",value:function(){this.$input=this.$el.find("input"),this.$input.length||(this.$input=ee("<input></input>"),this.$el.append(this.$input)),this.$input.addClass("input")}},{key:"_setupLabel",value:function(){this.$label=this.$el.find("label"),this.$label.length&&this.$label.setAttribute("for",this.$input.attr("id"))}},{key:"_setPlaceholder",value:function(){void 0!==this.chipsData&&!this.chipsData.length&&this.options.placeholder?ee(this.$input).prop("placeholder",this.options.placeholder):(void 0===this.chipsData||this.chipsData.length)&&this.options.secondaryPlaceholder&&ee(this.$input).prop("placeholder",this.options.secondaryPlaceholder)}},{key:"_isValid",value:function(ee){if(ee.hasOwnProperty("tag")&&""!==ee.tag){for(var et=!1,ei=0;ei<this.chipsData.length;ei++)if(this.chipsData[ei].tag===ee.tag){et=!0;break}return!et}return!1}},{key:"addChip",value:function(et){if(this._isValid(et)&&!(this.chipsData.length>=this.options.limit)){var ei=this._renderChip(et);this.$chips.add(ei),this.chipsData.push(et),ee(this.$input).before(ei),this._setPlaceholder(),"function"==typeof this.options.onChipAdd&&this.options.onChipAdd.call(this,this.$el,ei)}}},{key:"deleteChip",value:function(et){var ei=this.$chips.eq(et);this.$chips.eq(et).remove(),this.$chips=this.$chips.filter(function(et){return ee(et).index()>=0}),this.chipsData.splice(et,1),this._setPlaceholder(),"function"==typeof this.options.onChipDelete&&this.options.onChipDelete.call(this,this.$el,ei[0])}},{key:"selectChip",value:function(ee){var et=this.$chips.eq(ee);this._selectedChip=et,et[0].focus(),"function"==typeof this.options.onChipSelect&&this.options.onChipSelect.call(this,this.$el,et[0])}}],[{key:"init",value:function(ee,et){return en(ed.__proto__||Object.getPrototypeOf(ed),"init",this).call(this,this,ee,et)}},{key:"getInstance",value:function(ee){return(ee.jquery?ee[0]:ee).M_Chips}},{key:"_handleChipsKeydown",value:function(et){ed._keydown=!0;var ei=ee(et.target).closest(".chips"),en=et.target&&ei.length;if(!ee(et.target).is("input, textarea")&&en){var es=ei[0].M_Chips;if(8===et.keyCode||46===et.keyCode){et.preventDefault();var er=es.chipsData.length;if(es._selectedChip){var eo=es._selectedChip.index();es.deleteChip(eo),es._selectedChip=null,er=Math.max(eo-1,0)}es.chipsData.length&&es.selectChip(er)}else if(37===et.keyCode){if(es._selectedChip){var eh=es._selectedChip.index()-1;if(eh<0)return;es.selectChip(eh)}}else if(39===et.keyCode&&es._selectedChip){var ec=es._selectedChip.index()+1;ec>=es.chipsData.length?es.$input[0].focus():es.selectChip(ec)}}}},{key:"_handleChipsKeyup",value:function(ee){ed._keydown=!1}},{key:"_handleChipsBlur",value:function(et){ed._keydown||(ee(et.target).closest(".chips")[0].M_Chips._selectedChip=null)}},{key:"defaults",get:function(){return et}}]),ed}(ed);ei._keydown=!1,M.Chips=ei,M.jQueryLoaded&&M.initializeJqueryWrapper(ei,"chips","M_Chips"),ee(document).ready(function(){ee(document.body).on("click",".chip .close",function(){var et=ee(this).closest(".chips");et.length&&et[0].M_Chips||ee(this).closest(".chip").remove()})})}(cash),function(ee){"use strict";var et={top:0,bottom:1/0,offset:0,onPositionChange:null},ei=function(ei){function ed(et,ei){eh(this,ed);var en=er(this,(ed.__proto__||Object.getPrototypeOf(ed)).call(this,ed,et,ei));return en.el.M_Pushpin=en,en.options=ee.extend({},ed.defaults,ei),en.originalOffset=en.el.offsetTop,ed._pushpins.push(en),en._setupEventHandlers(),en._updatePosition(),en}return eo(ed,ei),es(ed,[{key:"destroy",value:function(){this.el.style.top=null,this._removePinClasses(),this._removeEventHandlers();var ee=ed._pushpins.indexOf(this);ed._pushpins.splice(ee,1)}},{key:"_setupEventHandlers",value:function(){document.addEventListener("scroll",ed._updateElements)}},{key:"_removeEventHandlers",value:function(){document.removeEventListener("scroll",ed._updateElements)}},{key:"_updatePosition",value:function(){var ee=M.getDocumentScrollTop()+this.options.offset;this.options.top<=ee&&this.options.bottom>=ee&&!this.el.classList.contains("pinned")&&(this._removePinClasses(),this.el.style.top=this.options.offset+"px",this.el.classList.add("pinned"),"function"==typeof this.options.onPositionChange&&this.options.onPositionChange.call(this,"pinned")),ee<this.options.top&&!this.el.classList.contains("pin-top")&&(this._removePinClasses(),this.el.style.top=0,this.el.classList.add("pin-top"),"function"==typeof this.options.onPositionChange&&this.options.onPositionChange.call(this,"pin-top")),ee>this.options.bottom&&!this.el.classList.contains("pin-bottom")&&(this._removePinClasses(),this.el.classList.add("pin-bottom"),this.el.style.top=this.options.bottom-this.originalOffset+"px","function"==typeof this.options.onPositionChange&&this.options.onPositionChange.call(this,"pin-bottom"))}},{key:"_removePinClasses",value:function(){this.el.classList.remove("pin-top"),this.el.classList.remove("pinned"),this.el.classList.remove("pin-bottom")}}],[{key:"init",value:function(ee,et){return en(ed.__proto__||Object.getPrototypeOf(ed),"init",this).call(this,this,ee,et)}},{key:"getInstance",value:function(ee){return(ee.jquery?ee[0]:ee).M_Pushpin}},{key:"_updateElements",value:function(){for(var ee in ed._pushpins)ed._pushpins[ee]._updatePosition()}},{key:"defaults",get:function(){return et}}]),ed}(ed);ei._pushpins=[],M.Pushpin=ei,M.jQueryLoaded&&M.initializeJqueryWrapper(ei,"pushpin","M_Pushpin")}(cash),function(ee,et){"use strict";var ei={direction:"top",hoverEnabled:!0,toolbarEnabled:!1};ee.fn.reverse=[].reverse;var ec=function(ed){function ec(et,ei){eh(this,ec);var en=er(this,(ec.__proto__||Object.getPrototypeOf(ec)).call(this,ec,et,ei));return en.el.M_FloatingActionButton=en,en.options=ee.extend({},ec.defaults,ei),en.isOpen=!1,en.$anchor=en.$el.children("a").first(),en.$menu=en.$el.children("ul").first(),en.$floatingBtns=en.$el.find("ul .btn-floating"),en.$floatingBtnsReverse=en.$el.find("ul .btn-floating").reverse(),en.offsetY=0,en.offsetX=0,en.$el.addClass("direction-"+en.options.direction),"top"===en.options.direction?en.offsetY=40:"right"===en.options.direction?en.offsetX=-40:"bottom"===en.options.direction?en.offsetY=-40:en.offsetX=40,en._setupEventHandlers(),en}return eo(ec,ed),es(ec,[{key:"destroy",value:function(){this._removeEventHandlers(),this.el.M_FloatingActionButton=void 0}},{key:"_setupEventHandlers",value:function(){this._handleFABClickBound=this._handleFABClick.bind(this),this._handleOpenBound=this.open.bind(this),this._handleCloseBound=this.close.bind(this),this.options.hoverEnabled&&!this.options.toolbarEnabled?(this.el.addEventListener("mouseenter",this._handleOpenBound),this.el.addEventListener("mouseleave",this._handleCloseBound)):this.el.addEventListener("click",this._handleFABClickBound)}},{key:"_removeEventHandlers",value:function(){this.options.hoverEnabled&&!this.options.toolbarEnabled?(this.el.removeEventListener("mouseenter",this._handleOpenBound),this.el.removeEventListener("mouseleave",this._handleCloseBound)):this.el.removeEventListener("click",this._handleFABClickBound)}},{key:"_handleFABClick",value:function(){this.isOpen?this.close():this.open()}},{key:"_handleDocumentClick",value:function(et){ee(et.target).closest(this.$menu).length||this.close()}},{key:"open",value:function(){this.isOpen||(this.options.toolbarEnabled?this._animateInToolbar():this._animateInFAB(),this.isOpen=!0)}},{key:"close",value:function(){this.isOpen&&(this.options.toolbarEnabled?(window.removeEventListener("scroll",this._handleCloseBound,!0),document.body.removeEventListener("click",this._handleDocumentClickBound,!0),this._animateOutToolbar()):this._animateOutFAB(),this.isOpen=!1)}},{key:"_animateInFAB",value:function(){var ee=this;this.$el.addClass("active");var ei=0;this.$floatingBtnsReverse.each(function(en){et({targets:en,opacity:1,scale:[.4,1],translateY:[ee.offsetY,0],translateX:[ee.offsetX,0],duration:275,delay:ei,easing:"easeInOutQuad"}),ei+=40})}},{key:"_animateOutFAB",value:function(){var ee=this;this.$floatingBtnsReverse.each(function(ei){et.remove(ei),et({targets:ei,opacity:0,scale:.4,translateY:ee.offsetY,translateX:ee.offsetX,duration:175,easing:"easeOutQuad",complete:function(){ee.$el.removeClass("active")}})})}},{key:"_animateInToolbar",value:function(){var et=this,ei=void 0,en=window.innerWidth,es=window.innerHeight,er=this.el.getBoundingClientRect(),eo=ee('<div class="fab-backdrop"></div>'),eh=this.$anchor.css("background-color");this.$anchor.append(eo),this.offsetX=er.left-en/2+er.width/2,this.offsetY=es-er.bottom,ei=en/eo[0].clientWidth,this.btnBottom=er.bottom,this.btnLeft=er.left,this.btnWidth=er.width,this.$el.addClass("active"),this.$el.css({"text-align":"center",width:"100%",bottom:0,left:0,transform:"translateX("+this.offsetX+"px)",transition:"none"}),this.$anchor.css({transform:"translateY("+-this.offsetY+"px)",transition:"none"}),eo.css({"background-color":eh}),setTimeout(function(){et.$el.css({transform:"",transition:"transform .2s cubic-bezier(0.550, 0.085, 0.680, 0.530), background-color 0s linear .2s"}),et.$anchor.css({overflow:"visible",transform:"",transition:"transform .2s"}),setTimeout(function(){et.$el.css({overflow:"hidden","background-color":eh}),eo.css({transform:"scale("+ei+")",transition:"transform .2s cubic-bezier(0.550, 0.055, 0.675, 0.190)"}),et.$menu.children("li").children("a").css({opacity:1}),et._handleDocumentClickBound=et._handleDocumentClick.bind(et),window.addEventListener("scroll",et._handleCloseBound,!0),document.body.addEventListener("click",et._handleDocumentClickBound,!0)},100)},0)}},{key:"_animateOutToolbar",value:function(){var ee=this,et=window.innerWidth,ei=window.innerHeight,en=this.$el.find(".fab-backdrop"),es=this.$anchor.css("background-color");this.offsetX=this.btnLeft-et/2+this.btnWidth/2,this.offsetY=ei-this.btnBottom,this.$el.removeClass("active"),this.$el.css({"background-color":"transparent",transition:"none"}),this.$anchor.css({transition:"none"}),en.css({transform:"scale(0)","background-color":es}),this.$menu.children("li").children("a").css({opacity:""}),setTimeout(function(){en.remove(),ee.$el.css({"text-align":"",width:"",bottom:"",left:"",overflow:"","background-color":"",transform:"translate3d("+-ee.offsetX+"px,0,0)"}),ee.$anchor.css({overflow:"",transform:"translate3d(0,"+ee.offsetY+"px,0)"}),setTimeout(function(){ee.$el.css({transform:"translate3d(0,0,0)",transition:"transform .2s"}),ee.$anchor.css({transform:"translate3d(0,0,0)",transition:"transform .2s cubic-bezier(0.550, 0.055, 0.675, 0.190)"})},20)},200)}}],[{key:"init",value:function(ee,et){return en(ec.__proto__||Object.getPrototypeOf(ec),"init",this).call(this,this,ee,et)}},{key:"getInstance",value:function(ee){return(ee.jquery?ee[0]:ee).M_FloatingActionButton}},{key:"defaults",get:function(){return ei}}]),ec}(ed);M.FloatingActionButton=ec,M.jQueryLoaded&&M.initializeJqueryWrapper(ec,"floatingActionButton","M_FloatingActionButton")}(cash,M.anime),function(ee){"use strict";var et={autoClose:!1,format:"mmm dd, yyyy",parse:null,defaultDate:null,setDefaultDate:!1,disableWeekends:!1,disableDayFn:null,firstDay:0,minDate:null,maxDate:null,yearRange:10,minYear:0,maxYear:9999,minMonth:void 0,maxMonth:void 0,startRange:null,endRange:null,isRTL:!1,showMonthAfterYear:!1,showDaysInNextAndPreviousMonths:!1,container:null,showClearBtn:!1,i18n:{cancel:"Cancel",clear:"Clear",done:"Ok",previousMonth:"‹",nextMonth:"›",months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekdaysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],weekdaysAbbrev:["S","M","T","W","T","F","S"]},events:[],onSelect:null,onOpen:null,onClose:null,onDraw:null},ei=function(ei){function ed(et,ei){eh(this,ed);var en=er(this,(ed.__proto__||Object.getPrototypeOf(ed)).call(this,ed,et,ei));en.el.M_Datepicker=en,en.options=ee.extend({},ed.defaults,ei),ei&&ei.hasOwnProperty("i18n")&&"object"==typeof ei.i18n&&(en.options.i18n=ee.extend({},ed.defaults.i18n,ei.i18n)),en.options.minDate&&en.options.minDate.setHours(0,0,0,0),en.options.maxDate&&en.options.maxDate.setHours(0,0,0,0),en.id=M.guid(),en._setupVariables(),en._insertHTMLIntoDOM(),en._setupModal(),en._setupEventHandlers(),en.options.defaultDate||(en.options.defaultDate=new Date(Date.parse(en.el.value)));var es=en.options.defaultDate;return ed._isDate(es)?en.options.setDefaultDate?(en.setDate(es,!0),en.setInputValue()):en.gotoDate(es):en.gotoDate(new Date),en.isOpen=!1,en}return eo(ed,ei),es(ed,[{key:"destroy",value:function(){this._removeEventHandlers(),this.modal.destroy(),ee(this.modalEl).remove(),this.destroySelects(),this.el.M_Datepicker=void 0}},{key:"destroySelects",value:function(){var ee=this.calendarEl.querySelector(".orig-select-year");ee&&M.FormSelect.getInstance(ee).destroy();var et=this.calendarEl.querySelector(".orig-select-month");et&&M.FormSelect.getInstance(et).destroy()}},{key:"_insertHTMLIntoDOM",value:function(){this.options.showClearBtn&&(ee(this.clearBtn).css({visibility:""}),this.clearBtn.innerHTML=this.options.i18n.clear),this.doneBtn.innerHTML=this.options.i18n.done,this.cancelBtn.innerHTML=this.options.i18n.cancel,this.options.container?this.$modalEl.appendTo(this.options.container):this.$modalEl.insertBefore(this.el)}},{key:"_setupModal",value:function(){var ee=this;this.modalEl.id="modal-"+this.id,this.modal=M.Modal.init(this.modalEl,{onCloseEnd:function(){ee.isOpen=!1}})}},{key:"toString",value:function(ee){var et=this;return(ee=ee||this.options.format,ed._isDate(this.date))?ee.split(/(d{1,4}|m{1,4}|y{4}|yy|!.)/g).map(function(ee){return et.formats[ee]?et.formats[ee]():ee}).join(""):""}},{key:"setDate",value:function(ee,et){if(!ee)return this.date=null,this._renderDateDisplay(),this.draw();if("string"==typeof ee&&(ee=new Date(Date.parse(ee))),ed._isDate(ee)){var ei=this.options.minDate,en=this.options.maxDate;ed._isDate(ei)&&ee<ei?ee=ei:ed._isDate(en)&&ee>en&&(ee=en),this.date=new Date(ee.getTime()),this._renderDateDisplay(),ed._setToStartOfDay(this.date),this.gotoDate(this.date),et||"function"!=typeof this.options.onSelect||this.options.onSelect.call(this,this.date)}}},{key:"setInputValue",value:function(){this.el.value=this.toString(),this.$el.trigger("change",{firedBy:this})}},{key:"_renderDateDisplay",value:function(){var ee=ed._isDate(this.date)?this.date:new Date,et=this.options.i18n,ei=et.weekdaysShort[ee.getDay()],en=et.monthsShort[ee.getMonth()],es=ee.getDate();this.yearTextEl.innerHTML=ee.getFullYear(),this.dateTextEl.innerHTML=ei+", "+en+" "+es}},{key:"gotoDate",value:function(ee){var et=!0;if(ed._isDate(ee)){if(this.calendars){var ei=new Date(this.calendars[0].year,this.calendars[0].month,1),en=new Date(this.calendars[this.calendars.length-1].year,this.calendars[this.calendars.length-1].month,1),es=ee.getTime();en.setMonth(en.getMonth()+1),en.setDate(en.getDate()-1),et=es<ei.getTime()||en.getTime()<es}et&&(this.calendars=[{month:ee.getMonth(),year:ee.getFullYear()}]),this.adjustCalendars()}}},{key:"adjustCalendars",value:function(){this.calendars[0]=this.adjustCalendar(this.calendars[0]),this.draw()}},{key:"adjustCalendar",value:function(ee){return ee.month<0&&(ee.year-=Math.ceil(Math.abs(ee.month)/12),ee.month+=12),ee.month>11&&(ee.year+=Math.floor(Math.abs(ee.month)/12),ee.month-=12),ee}},{key:"nextMonth",value:function(){this.calendars[0].month++,this.adjustCalendars()}},{key:"prevMonth",value:function(){this.calendars[0].month--,this.adjustCalendars()}},{key:"render",value:function(ee,et,ei){var en=this.options,es=new Date,er=ed._getDaysInMonth(ee,et),eo=new Date(ee,et,1).getDay(),eh=[],ec=[];ed._setToStartOfDay(es),en.firstDay>0&&(eo-=en.firstDay)<0&&(eo+=7);for(var eu=0===et?11:et-1,ep=11===et?0:et+1,ef=0===et?ee-1:ee,eg=11===et?ee+1:ee,em=ed._getDaysInMonth(ef,eu),ey=er+eo,eb=ey;eb>7;)eb-=7;ey+=7-eb;for(var e_=!1,eA=0,ew=0;eA<ey;eA++){var ek=new Date(ee,et,1+(eA-eo)),eC=!!ed._isDate(this.date)&&ed._compareDates(ek,this.date),eE=ed._compareDates(ek,es),ex=-1!==en.events.indexOf(ek.toDateString()),eS=eA<eo||eA>=er+eo,eM=1+(eA-eo),eT=et,eO=ee,eP=en.startRange&&ed._compareDates(en.startRange,ek),eL=en.endRange&&ed._compareDates(en.endRange,ek),eR=en.startRange&&en.endRange&&en.startRange<ek&&ek<en.endRange,eD=en.minDate&&ek<en.minDate||en.maxDate&&ek>en.maxDate||en.disableWeekends&&ed._isWeekend(ek)||en.disableDayFn&&en.disableDayFn(ek);eS&&(eA<eo?(eM=em+eM,eT=eu,eO=ef):(eM-=er,eT=ep,eO=eg));var eI={day:eM,month:eT,year:eO,hasEvent:ex,isSelected:eC,isToday:eE,isDisabled:eD,isEmpty:eS,isStartRange:eP,isEndRange:eL,isInRange:eR,showDaysInNextAndPreviousMonths:en.showDaysInNextAndPreviousMonths};ec.push(this.renderDay(eI)),7==++ew&&(eh.push(this.renderRow(ec,en.isRTL,e_)),ec=[],ew=0,e_=!1)}return this.renderTable(en,eh,ei)}},{key:"renderDay",value:function(ee){var et=[],ei="false";if(ee.isEmpty){if(!ee.showDaysInNextAndPreviousMonths)return'<td class="is-empty"></td>';et.push("is-outside-current-month"),et.push("is-selection-disabled")}return ee.isDisabled&&et.push("is-disabled"),ee.isToday&&et.push("is-today"),ee.isSelected&&(et.push("is-selected"),ei="true"),ee.hasEvent&&et.push("has-event"),ee.isInRange&&et.push("is-inrange"),ee.isStartRange&&et.push("is-startrange"),ee.isEndRange&&et.push("is-endrange"),'<td data-day="'+ee.day+'" class="'+et.join(" ")+'" aria-selected="'+ei+'">'+('<button class="datepicker-day-button" type="button" data-year="'+ee.year+'" data-month="'+ee.month+'" data-day="'+ee.day)+'">'+ee.day+"</button></td>"}},{key:"renderRow",value:function(ee,et,ei){return'<tr class="datepicker-row'+(ei?" is-selected":"")+'">'+(et?ee.reverse():ee).join("")+"</tr>"}},{key:"renderTable",value:function(ee,et,ei){return'<div class="datepicker-table-wrapper"><table cellpadding="0" cellspacing="0" class="datepicker-table" role="grid" aria-labelledby="'+ei+'">'+this.renderHead(ee)+this.renderBody(et)+"</table></div>"}},{key:"renderHead",value:function(ee){var et=void 0,ei=[];for(et=0;et<7;et++)ei.push('<th scope="col"><abbr title="'+this.renderDayName(ee,et)+'">'+this.renderDayName(ee,et,!0)+"</abbr></th>");return"<thead><tr>"+(ee.isRTL?ei.reverse():ei).join("")+"</tr></thead>"}},{key:"renderBody",value:function(ee){return"<tbody>"+ee.join("")+"</tbody>"}},{key:"renderTitle",value:function(et,ei,en,es,er,eo){var eh=void 0,ed=void 0,ec=void 0,eu=this.options,ep=en===eu.minYear,ef=en===eu.maxYear,eg='<div id="'+eo+'" class="datepicker-controls" role="heading" aria-live="assertive">',em=void 0,ey=void 0,eb=!0,e_=!0;for(ec=[],eh=0;eh<12;eh++)ec.push('<option value="'+(en===er?eh-ei:12+eh-ei)+'"'+(eh===es?' selected="selected"':"")+(ep&&eh<eu.minMonth||ef&&eh>eu.maxMonth?'disabled="disabled"':"")+">"+eu.i18n.months[eh]+"</option>");for(em='<select class="datepicker-select orig-select-month" tabindex="-1">'+ec.join("")+"</select>",ee.isArray(eu.yearRange)?(eh=eu.yearRange[0],ed=eu.yearRange[1]+1):(eh=en-eu.yearRange,ed=1+en+eu.yearRange),ec=[];eh<ed&&eh<=eu.maxYear;eh++)eh>=eu.minYear&&ec.push('<option value="'+eh+'" '+(eh===en?'selected="selected"':"")+">"+eh+"</option>");return ey='<select class="datepicker-select orig-select-year" tabindex="-1">'+ec.join("")+"</select>",eg+='<button class="month-prev'+(eb?"":" is-disabled")+'" type="button"><svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"/><path d="M0-.5h24v24H0z" fill="none"/></svg></button><div class="selects-container">',eu.showMonthAfterYear?eg+=ey+em:eg+=em+ey,eg+="</div>",ep&&(0===es||eu.minMonth>=es)&&(eb=!1),ef&&(11===es||eu.maxMonth<=es)&&(e_=!1),(eg+='<button class="month-next'+(e_?"":" is-disabled")+'" type="button"><svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"/><path d="M0-.25h24v24H0z" fill="none"/></svg></button>')+"</div>"}},{key:"draw",value:function(ee){if(this.isOpen||ee){var et=this.options,ei=et.minYear,en=et.maxYear,es=et.minMonth,er=et.maxMonth,eo="",eh=void 0;this._y<=ei&&(this._y=ei,!isNaN(es)&&this._m<es&&(this._m=es)),this._y>=en&&(this._y=en,!isNaN(er)&&this._m>er&&(this._m=er)),eh="datepicker-title-"+Math.random().toString(36).replace(/[^a-z]+/g,"").substr(0,2);for(var ed=0;ed<1;ed++)this._renderDateDisplay(),eo+=this.renderTitle(this,ed,this.calendars[ed].year,this.calendars[ed].month,this.calendars[0].year,eh)+this.render(this.calendars[ed].year,this.calendars[ed].month,eh);this.destroySelects(),this.calendarEl.innerHTML=eo;var ec=this.calendarEl.querySelector(".orig-select-year"),eu=this.calendarEl.querySelector(".orig-select-month");M.FormSelect.init(ec,{classes:"select-year",dropdownOptions:{container:document.body,constrainWidth:!1}}),M.FormSelect.init(eu,{classes:"select-month",dropdownOptions:{container:document.body,constrainWidth:!1}}),ec.addEventListener("change",this._handleYearChange.bind(this)),eu.addEventListener("change",this._handleMonthChange.bind(this)),"function"==typeof this.options.onDraw&&this.options.onDraw(this)}}},{key:"_setupEventHandlers",value:function(){this._handleInputKeydownBound=this._handleInputKeydown.bind(this),this._handleInputClickBound=this._handleInputClick.bind(this),this._handleInputChangeBound=this._handleInputChange.bind(this),this._handleCalendarClickBound=this._handleCalendarClick.bind(this),this._finishSelectionBound=this._finishSelection.bind(this),this._handleMonthChange=this._handleMonthChange.bind(this),this._closeBound=this.close.bind(this),this.el.addEventListener("click",this._handleInputClickBound),this.el.addEventListener("keydown",this._handleInputKeydownBound),this.el.addEventListener("change",this._handleInputChangeBound),this.calendarEl.addEventListener("click",this._handleCalendarClickBound),this.doneBtn.addEventListener("click",this._finishSelectionBound),this.cancelBtn.addEventListener("click",this._closeBound),this.options.showClearBtn&&(this._handleClearClickBound=this._handleClearClick.bind(this),this.clearBtn.addEventListener("click",this._handleClearClickBound))}},{key:"_setupVariables",value:function(){var et=this;this.$modalEl=ee(ed._template),this.modalEl=this.$modalEl[0],this.calendarEl=this.modalEl.querySelector(".datepicker-calendar"),this.yearTextEl=this.modalEl.querySelector(".year-text"),this.dateTextEl=this.modalEl.querySelector(".date-text"),this.options.showClearBtn&&(this.clearBtn=this.modalEl.querySelector(".datepicker-clear")),this.doneBtn=this.modalEl.querySelector(".datepicker-done"),this.cancelBtn=this.modalEl.querySelector(".datepicker-cancel"),this.formats={d:function(){return et.date.getDate()},dd:function(){var ee=et.date.getDate();return(ee<10?"0":"")+ee},ddd:function(){return et.options.i18n.weekdaysShort[et.date.getDay()]},dddd:function(){return et.options.i18n.weekdays[et.date.getDay()]},m:function(){return et.date.getMonth()+1},mm:function(){var ee=et.date.getMonth()+1;return(ee<10?"0":"")+ee},mmm:function(){return et.options.i18n.monthsShort[et.date.getMonth()]},mmmm:function(){return et.options.i18n.months[et.date.getMonth()]},yy:function(){return(""+et.date.getFullYear()).slice(2)},yyyy:function(){return et.date.getFullYear()}}}},{key:"_removeEventHandlers",value:function(){this.el.removeEventListener("click",this._handleInputClickBound),this.el.removeEventListener("keydown",this._handleInputKeydownBound),this.el.removeEventListener("change",this._handleInputChangeBound),this.calendarEl.removeEventListener("click",this._handleCalendarClickBound)}},{key:"_handleInputClick",value:function(){this.open()}},{key:"_handleInputKeydown",value:function(ee){ee.which===M.keys.ENTER&&(ee.preventDefault(),this.open())}},{key:"_handleCalendarClick",value:function(et){if(this.isOpen){var ei=ee(et.target);!ei.hasClass("is-disabled")&&(!ei.hasClass("datepicker-day-button")||ei.hasClass("is-empty")||ei.parent().hasClass("is-disabled")?ei.closest(".month-prev").length?this.prevMonth():ei.closest(".month-next").length&&this.nextMonth():(this.setDate(new Date(et.target.getAttribute("data-year"),et.target.getAttribute("data-month"),et.target.getAttribute("data-day"))),this.options.autoClose&&this._finishSelection()))}}},{key:"_handleClearClick",value:function(){this.date=null,this.setInputValue(),this.close()}},{key:"_handleMonthChange",value:function(ee){this.gotoMonth(ee.target.value)}},{key:"_handleYearChange",value:function(ee){this.gotoYear(ee.target.value)}},{key:"gotoMonth",value:function(ee){isNaN(ee)||(this.calendars[0].month=parseInt(ee,10),this.adjustCalendars())}},{key:"gotoYear",value:function(ee){isNaN(ee)||(this.calendars[0].year=parseInt(ee,10),this.adjustCalendars())}},{key:"_handleInputChange",value:function(ee){var et=void 0;ee.firedBy!==this&&(et=this.options.parse?this.options.parse(this.el.value,this.options.format):new Date(Date.parse(this.el.value)),ed._isDate(et)&&this.setDate(et))}},{key:"renderDayName",value:function(ee,et,ei){for(et+=ee.firstDay;et>=7;)et-=7;return ei?ee.i18n.weekdaysAbbrev[et]:ee.i18n.weekdays[et]}},{key:"_finishSelection",value:function(){this.setInputValue(),this.close()}},{key:"open",value:function(){if(!this.isOpen)return this.isOpen=!0,"function"==typeof this.options.onOpen&&this.options.onOpen.call(this),this.draw(),this.modal.open(),this}},{key:"close",value:function(){if(this.isOpen)return this.isOpen=!1,"function"==typeof this.options.onClose&&this.options.onClose.call(this),this.modal.close(),this}}],[{key:"init",value:function(ee,et){return en(ed.__proto__||Object.getPrototypeOf(ed),"init",this).call(this,this,ee,et)}},{key:"_isDate",value:function(ee){return/Date/.test(Object.prototype.toString.call(ee))&&!isNaN(ee.getTime())}},{key:"_isWeekend",value:function(ee){var et=ee.getDay();return 0===et||6===et}},{key:"_setToStartOfDay",value:function(ee){ed._isDate(ee)&&ee.setHours(0,0,0,0)}},{key:"_getDaysInMonth",value:function(ee,et){return[31,ed._isLeapYear(ee)?29:28,31,30,31,30,31,31,30,31,30,31][et]}},{key:"_isLeapYear",value:function(ee){return ee%4==0&&ee%100!=0||ee%400==0}},{key:"_compareDates",value:function(ee,et){return ee.getTime()===et.getTime()}},{key:"_setToStartOfDay",value:function(ee){ed._isDate(ee)&&ee.setHours(0,0,0,0)}},{key:"getInstance",value:function(ee){return(ee.jquery?ee[0]:ee).M_Datepicker}},{key:"defaults",get:function(){return et}}]),ed}(ed);ei._template='<div class= "modal datepicker-modal"><div class="modal-content datepicker-container"><div class="datepicker-date-display"><span class="year-text"></span><span class="date-text"></span></div><div class="datepicker-calendar-container"><div class="datepicker-calendar"></div><div class="datepicker-footer"><button class="btn-flat datepicker-clear waves-effect" style="visibility: hidden;" type="button"></button><div class="confirmation-btns"><button class="btn-flat datepicker-cancel waves-effect" type="button"></button><button class="btn-flat datepicker-done waves-effect" type="button"></button></div></div></div></div></div>',M.Datepicker=ei,M.jQueryLoaded&&M.initializeJqueryWrapper(ei,"datepicker","M_Datepicker")}(cash),function(ee){"use strict";var et={dialRadius:135,outerRadius:105,innerRadius:70,tickRadius:20,duration:350,container:null,defaultTime:"now",fromNow:0,showClearBtn:!1,i18n:{cancel:"Cancel",clear:"Clear",done:"Ok"},autoClose:!1,twelveHour:!0,vibrate:!0,onOpenStart:null,onOpenEnd:null,onCloseStart:null,onCloseEnd:null,onSelect:null},ei=function(ei){function ed(et,ei){eh(this,ed);var en=er(this,(ed.__proto__||Object.getPrototypeOf(ed)).call(this,ed,et,ei));return en.el.M_Timepicker=en,en.options=ee.extend({},ed.defaults,ei),en.id=M.guid(),en._insertHTMLIntoDOM(),en._setupModal(),en._setupVariables(),en._setupEventHandlers(),en._clockSetup(),en._pickerSetup(),en}return eo(ed,ei),es(ed,[{key:"destroy",value:function(){this._removeEventHandlers(),this.modal.destroy(),ee(this.modalEl).remove(),this.el.M_Timepicker=void 0}},{key:"_setupEventHandlers",value:function(){this._handleInputKeydownBound=this._handleInputKeydown.bind(this),this._handleInputClickBound=this._handleInputClick.bind(this),this._handleClockClickStartBound=this._handleClockClickStart.bind(this),this._handleDocumentClickMoveBound=this._handleDocumentClickMove.bind(this),this._handleDocumentClickEndBound=this._handleDocumentClickEnd.bind(this),this.el.addEventListener("click",this._handleInputClickBound),this.el.addEventListener("keydown",this._handleInputKeydownBound),this.plate.addEventListener("mousedown",this._handleClockClickStartBound),this.plate.addEventListener("touchstart",this._handleClockClickStartBound),ee(this.spanHours).on("click",this.showView.bind(this,"hours")),ee(this.spanMinutes).on("click",this.showView.bind(this,"minutes"))}},{key:"_removeEventHandlers",value:function(){this.el.removeEventListener("click",this._handleInputClickBound),this.el.removeEventListener("keydown",this._handleInputKeydownBound)}},{key:"_handleInputClick",value:function(){this.open()}},{key:"_handleInputKeydown",value:function(ee){ee.which===M.keys.ENTER&&(ee.preventDefault(),this.open())}},{key:"_handleClockClickStart",value:function(ee){ee.preventDefault();var et=this.plate.getBoundingClientRect(),ei={x:et.left,y:et.top};this.x0=ei.x+this.options.dialRadius,this.y0=ei.y+this.options.dialRadius,this.moved=!1;var en=ed._Pos(ee);this.dx=en.x-this.x0,this.dy=en.y-this.y0,this.setHand(this.dx,this.dy,!1),document.addEventListener("mousemove",this._handleDocumentClickMoveBound),document.addEventListener("touchmove",this._handleDocumentClickMoveBound),document.addEventListener("mouseup",this._handleDocumentClickEndBound),document.addEventListener("touchend",this._handleDocumentClickEndBound)}},{key:"_handleDocumentClickMove",value:function(ee){ee.preventDefault();var et=ed._Pos(ee),ei=et.x-this.x0,en=et.y-this.y0;this.moved=!0,this.setHand(ei,en,!1,!0)}},{key:"_handleDocumentClickEnd",value:function(et){var ei=this;et.preventDefault(),document.removeEventListener("mouseup",this._handleDocumentClickEndBound),document.removeEventListener("touchend",this._handleDocumentClickEndBound);var en=ed._Pos(et),es=en.x-this.x0,er=en.y-this.y0;this.moved&&es===this.dx&&er===this.dy&&this.setHand(es,er),"hours"===this.currentView?this.showView("minutes",this.options.duration/2):this.options.autoClose&&(ee(this.minutesView).addClass("timepicker-dial-out"),setTimeout(function(){ei.done()},this.options.duration/2)),"function"==typeof this.options.onSelect&&this.options.onSelect.call(this,this.hours,this.minutes),document.removeEventListener("mousemove",this._handleDocumentClickMoveBound),document.removeEventListener("touchmove",this._handleDocumentClickMoveBound)}},{key:"_insertHTMLIntoDOM",value:function(){this.$modalEl=ee(ed._template),this.modalEl=this.$modalEl[0],this.modalEl.id="modal-"+this.id;var et=document.querySelector(this.options.container);this.options.container&&et?this.$modalEl.appendTo(et):this.$modalEl.insertBefore(this.el)}},{key:"_setupModal",value:function(){var ee=this;this.modal=M.Modal.init(this.modalEl,{onOpenStart:this.options.onOpenStart,onOpenEnd:this.options.onOpenEnd,onCloseStart:this.options.onCloseStart,onCloseEnd:function(){"function"==typeof ee.options.onCloseEnd&&ee.options.onCloseEnd.call(ee),ee.isOpen=!1}})}},{key:"_setupVariables",value:function(){this.currentView="hours",this.vibrate=navigator.vibrate?"vibrate":navigator.webkitVibrate?"webkitVibrate":null,this._canvas=this.modalEl.querySelector(".timepicker-canvas"),this.plate=this.modalEl.querySelector(".timepicker-plate"),this.hoursView=this.modalEl.querySelector(".timepicker-hours"),this.minutesView=this.modalEl.querySelector(".timepicker-minutes"),this.spanHours=this.modalEl.querySelector(".timepicker-span-hours"),this.spanMinutes=this.modalEl.querySelector(".timepicker-span-minutes"),this.spanAmPm=this.modalEl.querySelector(".timepicker-span-am-pm"),this.footer=this.modalEl.querySelector(".timepicker-footer"),this.amOrPm="PM"}},{key:"_pickerSetup",value:function(){var et=ee('<button class="btn-flat timepicker-clear waves-effect" style="visibility: hidden;" type="button" tabindex="'+(this.options.twelveHour?"3":"1")+'">'+this.options.i18n.clear+"</button>").appendTo(this.footer).on("click",this.clear.bind(this));this.options.showClearBtn&&et.css({visibility:""});var ei=ee('<div class="confirmation-btns"></div>');ee('<button class="btn-flat timepicker-close waves-effect" type="button" tabindex="'+(this.options.twelveHour?"3":"1")+'">'+this.options.i18n.cancel+"</button>").appendTo(ei).on("click",this.close.bind(this)),ee('<button class="btn-flat timepicker-close waves-effect" type="button" tabindex="'+(this.options.twelveHour?"3":"1")+'">'+this.options.i18n.done+"</button>").appendTo(ei).on("click",this.done.bind(this)),ei.appendTo(this.footer)}},{key:"_clockSetup",value:function(){this.options.twelveHour&&(this.$amBtn=ee('<div class="am-btn">AM</div>'),this.$pmBtn=ee('<div class="pm-btn">PM</div>'),this.$amBtn.on("click",this._handleAmPmClick.bind(this)).appendTo(this.spanAmPm),this.$pmBtn.on("click",this._handleAmPmClick.bind(this)).appendTo(this.spanAmPm)),this._buildHoursView(),this._buildMinutesView(),this._buildSVGClock()}},{key:"_buildSVGClock",value:function(){var ee=this.options.dialRadius,et=this.options.tickRadius,ei=2*ee,en=ed._createSVGEl("svg");en.setAttribute("class","timepicker-svg"),en.setAttribute("width",ei),en.setAttribute("height",ei);var es=ed._createSVGEl("g");es.setAttribute("transform","translate("+ee+","+ee+")");var er=ed._createSVGEl("circle");er.setAttribute("class","timepicker-canvas-bearing"),er.setAttribute("cx",0),er.setAttribute("cy",0),er.setAttribute("r",4);var eo=ed._createSVGEl("line");eo.setAttribute("x1",0),eo.setAttribute("y1",0);var eh=ed._createSVGEl("circle");eh.setAttribute("class","timepicker-canvas-bg"),eh.setAttribute("r",et),es.appendChild(eo),es.appendChild(eh),es.appendChild(er),en.appendChild(es),this._canvas.appendChild(en),this.hand=eo,this.bg=eh,this.bearing=er,this.g=es}},{key:"_buildHoursView",value:function(){var et=ee('<div class="timepicker-tick"></div>');if(this.options.twelveHour)for(var ei=1;ei<13;ei+=1){var en=et.clone(),es=ei/6*Math.PI,er=this.options.outerRadius;en.css({left:this.options.dialRadius+Math.sin(es)*er-this.options.tickRadius+"px",top:this.options.dialRadius-Math.cos(es)*er-this.options.tickRadius+"px"}),en.html(0===ei?"00":ei),this.hoursView.appendChild(en[0])}else for(var eo=0;eo<24;eo+=1){var eh=et.clone(),ed=eo/6*Math.PI,ec=eo>0&&eo<13?this.options.innerRadius:this.options.outerRadius;eh.css({left:this.options.dialRadius+Math.sin(ed)*ec-this.options.tickRadius+"px",top:this.options.dialRadius-Math.cos(ed)*ec-this.options.tickRadius+"px"}),eh.html(0===eo?"00":eo),this.hoursView.appendChild(eh[0])}}},{key:"_buildMinutesView",value:function(){for(var et=ee('<div class="timepicker-tick"></div>'),ei=0;ei<60;ei+=5){var en=et.clone(),es=ei/30*Math.PI;en.css({left:this.options.dialRadius+Math.sin(es)*this.options.outerRadius-this.options.tickRadius+"px",top:this.options.dialRadius-Math.cos(es)*this.options.outerRadius-this.options.tickRadius+"px"}),en.html(ed._addLeadingZero(ei)),this.minutesView.appendChild(en[0])}}},{key:"_handleAmPmClick",value:function(et){var ei=ee(et.target);this.amOrPm=ei.hasClass("am-btn")?"AM":"PM",this._updateAmPmView()}},{key:"_updateAmPmView",value:function(){this.options.twelveHour&&(this.$amBtn.toggleClass("text-primary","AM"===this.amOrPm),this.$pmBtn.toggleClass("text-primary","PM"===this.amOrPm))}},{key:"_updateTimeFromInput",value:function(){var ee=((this.el.value||this.options.defaultTime||"")+"").split(":");if(this.options.twelveHour&&void 0!==ee[1]&&(ee[1].toUpperCase().indexOf("AM")>0?this.amOrPm="AM":this.amOrPm="PM",ee[1]=ee[1].replace("AM","").replace("PM","")),"now"===ee[0]){var et=new Date(+new Date+this.options.fromNow);ee=[et.getHours(),et.getMinutes()],this.options.twelveHour&&(this.amOrPm=ee[0]>=12&&ee[0]<24?"PM":"AM")}this.hours=+ee[0]||0,this.minutes=+ee[1]||0,this.spanHours.innerHTML=this.hours,this.spanMinutes.innerHTML=ed._addLeadingZero(this.minutes),this._updateAmPmView()}},{key:"showView",value:function(et,ei){"minutes"===et&&ee(this.hoursView).css("visibility");var en="hours"===et,es=en?this.hoursView:this.minutesView,er=en?this.minutesView:this.hoursView;this.currentView=et,ee(this.spanHours).toggleClass("text-primary",en),ee(this.spanMinutes).toggleClass("text-primary",!en),er.classList.add("timepicker-dial-out"),ee(es).css("visibility","visible").removeClass("timepicker-dial-out"),this.resetClock(ei),clearTimeout(this.toggleViewTimer),this.toggleViewTimer=setTimeout(function(){ee(er).css("visibility","hidden")},this.options.duration)}},{key:"resetClock",value:function(et){var ei=this.currentView,en=this[ei],es="hours"===ei,er=en*(Math.PI/(es?6:30)),eo=es&&en>0&&en<13?this.options.innerRadius:this.options.outerRadius,eh=Math.sin(er)*eo,ed=-Math.cos(er)*eo,ec=this;et?(ee(this.canvas).addClass("timepicker-canvas-out"),setTimeout(function(){ee(ec.canvas).removeClass("timepicker-canvas-out"),ec.setHand(eh,ed)},et)):this.setHand(eh,ed)}},{key:"setHand",value:function(ee,et,ei){var en=this,es=Math.atan2(ee,-et),er="hours"===this.currentView,eo=Math.PI/(er||ei?6:30),eh=Math.sqrt(ee*ee+et*et),ec=er&&eh<(this.options.outerRadius+this.options.innerRadius)/2,eu=ec?this.options.innerRadius:this.options.outerRadius;this.options.twelveHour&&(eu=this.options.outerRadius),es<0&&(es=2*Math.PI+es);var ep=Math.round(es/eo);es=ep*eo,this.options.twelveHour?er?0===ep&&(ep=12):(ei&&(ep*=5),60===ep&&(ep=0)):er?(12===ep&&(ep=0),ep=ec?0===ep?12:ep:0===ep?0:ep+12):(ei&&(ep*=5),60===ep&&(ep=0)),this[this.currentView]!==ep&&this.vibrate&&this.options.vibrate&&!this.vibrateTimer&&(navigator[this.vibrate](10),this.vibrateTimer=setTimeout(function(){en.vibrateTimer=null},100)),this[this.currentView]=ep,er?this.spanHours.innerHTML=ep:this.spanMinutes.innerHTML=ed._addLeadingZero(ep);var ef=Math.sin(es)*(eu-this.options.tickRadius),eg=-Math.cos(es)*(eu-this.options.tickRadius),em=Math.sin(es)*eu,ey=-Math.cos(es)*eu;this.hand.setAttribute("x2",ef),this.hand.setAttribute("y2",eg),this.bg.setAttribute("cx",em),this.bg.setAttribute("cy",ey)}},{key:"open",value:function(){this.isOpen||(this.isOpen=!0,this._updateTimeFromInput(),this.showView("hours"),this.modal.open())}},{key:"close",value:function(){this.isOpen&&(this.isOpen=!1,this.modal.close())}},{key:"done",value:function(ee,et){var ei=this.el.value,en=et?"":ed._addLeadingZero(this.hours)+":"+ed._addLeadingZero(this.minutes);this.time=en,!et&&this.options.twelveHour&&(en=en+" "+this.amOrPm),this.el.value=en,en!==ei&&this.$el.trigger("change"),this.close(),this.el.focus()}},{key:"clear",value:function(){this.done(null,!0)}}],[{key:"init",value:function(ee,et){return en(ed.__proto__||Object.getPrototypeOf(ed),"init",this).call(this,this,ee,et)}},{key:"_addLeadingZero",value:function(ee){return(ee<10?"0":"")+ee}},{key:"_createSVGEl",value:function(ee){var et="http://www.w3.org/2000/svg";return document.createElementNS(et,ee)}},{key:"_Pos",value:function(ee){return ee.targetTouches&&ee.targetTouches.length>=1?{x:ee.targetTouches[0].clientX,y:ee.targetTouches[0].clientY}:{x:ee.clientX,y:ee.clientY}}},{key:"getInstance",value:function(ee){return(ee.jquery?ee[0]:ee).M_Timepicker}},{key:"defaults",get:function(){return et}}]),ed}(ed);ei._template='<div class= "modal timepicker-modal"><div class="modal-content timepicker-container"><div class="timepicker-digital-display"><div class="timepicker-text-container"><div class="timepicker-display-column"><span class="timepicker-span-hours text-primary"></span>:<span class="timepicker-span-minutes"></span></div><div class="timepicker-display-column timepicker-display-am-pm"><div class="timepicker-span-am-pm"></div></div></div></div><div class="timepicker-analog-display"><div class="timepicker-plate"><div class="timepicker-canvas"></div><div class="timepicker-dial timepicker-hours"></div><div class="timepicker-dial timepicker-minutes timepicker-dial-out"></div></div><div class="timepicker-footer"></div></div></div></div>',M.Timepicker=ei,M.jQueryLoaded&&M.initializeJqueryWrapper(ei,"timepicker","M_Timepicker")}(cash),function(ee){"use strict";var et={},ei=function(ei){function ed(et,ei){eh(this,ed);var en=er(this,(ed.__proto__||Object.getPrototypeOf(ed)).call(this,ed,et,ei));return en.el.M_CharacterCounter=en,en.options=ee.extend({},ed.defaults,ei),en.isInvalid=!1,en.isValidLength=!1,en._setupCounter(),en._setupEventHandlers(),en}return eo(ed,ei),es(ed,[{key:"destroy",value:function(){this._removeEventHandlers(),this.el.CharacterCounter=void 0,this._removeCounter()}},{key:"_setupEventHandlers",value:function(){this._handleUpdateCounterBound=this.updateCounter.bind(this),this.el.addEventListener("focus",this._handleUpdateCounterBound,!0),this.el.addEventListener("input",this._handleUpdateCounterBound,!0)}},{key:"_removeEventHandlers",value:function(){this.el.removeEventListener("focus",this._handleUpdateCounterBound,!0),this.el.removeEventListener("input",this._handleUpdateCounterBound,!0)}},{key:"_setupCounter",value:function(){this.counterEl=document.createElement("span"),ee(this.counterEl).addClass("character-counter").css({float:"right","font-size":"12px",height:1}),this.$el.parent().append(this.counterEl)}},{key:"_removeCounter",value:function(){ee(this.counterEl).remove()}},{key:"updateCounter",value:function(){var et=+this.$el.attr("data-length"),ei=this.el.value.length;this.isValidLength=ei<=et;var en=ei;et&&(en+="/"+et,this._validateInput()),ee(this.counterEl).html(en)}},{key:"_validateInput",value:function(){this.isValidLength&&this.isInvalid?(this.isInvalid=!1,this.$el.removeClass("invalid")):this.isValidLength||this.isInvalid||(this.isInvalid=!0,this.$el.removeClass("valid"),this.$el.addClass("invalid"))}}],[{key:"init",value:function(ee,et){return en(ed.__proto__||Object.getPrototypeOf(ed),"init",this).call(this,this,ee,et)}},{key:"getInstance",value:function(ee){return(ee.jquery?ee[0]:ee).M_CharacterCounter}},{key:"defaults",get:function(){return et}}]),ed}(ed);M.CharacterCounter=ei,M.jQueryLoaded&&M.initializeJqueryWrapper(ei,"characterCounter","M_CharacterCounter")}(cash),function(ee){"use strict";var et={duration:200,dist:-100,shift:0,padding:0,numVisible:5,fullWidth:!1,indicators:!1,noWrap:!1,onCycleTo:null},ei=function(ei){function ed(et,ei){eh(this,ed);var en=er(this,(ed.__proto__||Object.getPrototypeOf(ed)).call(this,ed,et,ei));return en.el.M_Carousel=en,en.options=ee.extend({},ed.defaults,ei),en.hasMultipleSlides=en.$el.find(".carousel-item").length>1,en.showIndicators=en.options.indicators&&en.hasMultipleSlides,en.noWrap=en.options.noWrap||!en.hasMultipleSlides,en.pressed=!1,en.dragged=!1,en.offset=en.target=0,en.images=[],en.itemWidth=en.$el.find(".carousel-item").first().innerWidth(),en.itemHeight=en.$el.find(".carousel-item").first().innerHeight(),en.dim=2*en.itemWidth+en.options.padding||1,en._autoScrollBound=en._autoScroll.bind(en),en._trackBound=en._track.bind(en),en.options.fullWidth&&(en.options.dist=0,en._setCarouselHeight(),en.showIndicators&&en.$el.find(".carousel-fixed-item").addClass("with-indicators")),en.$indicators=ee('<ul class="indicators"></ul>'),en.$el.find(".carousel-item").each(function(et,ei){if(en.images.push(et),en.showIndicators){var es=ee('<li class="indicator-item"></li>');0===ei&&es[0].classList.add("active"),en.$indicators.append(es)}}),en.showIndicators&&en.$el.append(en.$indicators),en.count=en.images.length,en.options.numVisible=Math.min(en.count,en.options.numVisible),en.xform="transform",["webkit","Moz","O","ms"].every(function(ee){var et=ee+"Transform";return void 0===document.body.style[et]||(en.xform=et,!1)}),en._setupEventHandlers(),en._scroll(en.offset),en}return eo(ed,ei),es(ed,[{key:"destroy",value:function(){this._removeEventHandlers(),this.el.M_Carousel=void 0}},{key:"_setupEventHandlers",value:function(){var ee=this;this._handleCarouselTapBound=this._handleCarouselTap.bind(this),this._handleCarouselDragBound=this._handleCarouselDrag.bind(this),this._handleCarouselReleaseBound=this._handleCarouselRelease.bind(this),this._handleCarouselClickBound=this._handleCarouselClick.bind(this),void 0!==window.ontouchstart&&(this.el.addEventListener("touchstart",this._handleCarouselTapBound),this.el.addEventListener("touchmove",this._handleCarouselDragBound),this.el.addEventListener("touchend",this._handleCarouselReleaseBound)),this.el.addEventListener("mousedown",this._handleCarouselTapBound),this.el.addEventListener("mousemove",this._handleCarouselDragBound),this.el.addEventListener("mouseup",this._handleCarouselReleaseBound),this.el.addEventListener("mouseleave",this._handleCarouselReleaseBound),this.el.addEventListener("click",this._handleCarouselClickBound),this.showIndicators&&this.$indicators&&(this._handleIndicatorClickBound=this._handleIndicatorClick.bind(this),this.$indicators.find(".indicator-item").each(function(et,ei){et.addEventListener("click",ee._handleIndicatorClickBound)}));var et=M.throttle(this._handleResize,200);this._handleThrottledResizeBound=et.bind(this),window.addEventListener("resize",this._handleThrottledResizeBound)}},{key:"_removeEventHandlers",value:function(){var ee=this;void 0!==window.ontouchstart&&(this.el.removeEventListener("touchstart",this._handleCarouselTapBound),this.el.removeEventListener("touchmove",this._handleCarouselDragBound),this.el.removeEventListener("touchend",this._handleCarouselReleaseBound)),this.el.removeEventListener("mousedown",this._handleCarouselTapBound),this.el.removeEventListener("mousemove",this._handleCarouselDragBound),this.el.removeEventListener("mouseup",this._handleCarouselReleaseBound),this.el.removeEventListener("mouseleave",this._handleCarouselReleaseBound),this.el.removeEventListener("click",this._handleCarouselClickBound),this.showIndicators&&this.$indicators&&this.$indicators.find(".indicator-item").each(function(et,ei){et.removeEventListener("click",ee._handleIndicatorClickBound)}),window.removeEventListener("resize",this._handleThrottledResizeBound)}},{key:"_handleCarouselTap",value:function(et){"mousedown"===et.type&&ee(et.target).is("img")&&et.preventDefault(),this.pressed=!0,this.dragged=!1,this.verticalDragged=!1,this.reference=this._xpos(et),this.referenceY=this._ypos(et),this.velocity=this.amplitude=0,this.frame=this.offset,this.timestamp=Date.now(),clearInterval(this.ticker),this.ticker=setInterval(this._trackBound,100)}},{key:"_handleCarouselDrag",value:function(ee){var et=void 0,ei=void 0,en=void 0,es=void 0;if(this.pressed){if(et=this._xpos(ee),ei=this._ypos(ee),en=this.reference-et,(es=Math.abs(this.referenceY-ei))<30&&!this.verticalDragged)(en>2||en<-2)&&(this.dragged=!0,this.reference=et,this._scroll(this.offset+en));else{if(this.dragged)return ee.preventDefault(),ee.stopPropagation(),!1;this.verticalDragged=!0}}if(this.dragged)return ee.preventDefault(),ee.stopPropagation(),!1}},{key:"_handleCarouselRelease",value:function(ee){return this.pressed?(this.pressed=!1,clearInterval(this.ticker),this.target=this.offset,(this.velocity>10||this.velocity<-10)&&(this.amplitude=.9*this.velocity,this.target=this.offset+this.amplitude),this.target=Math.round(this.target/this.dim)*this.dim,this.noWrap&&(this.target>=this.dim*(this.count-1)?this.target=this.dim*(this.count-1):this.target<0&&(this.target=0)),this.amplitude=this.target-this.offset,this.timestamp=Date.now(),requestAnimationFrame(this._autoScrollBound),this.dragged&&(ee.preventDefault(),ee.stopPropagation()),!1):void 0}},{key:"_handleCarouselClick",value:function(et){if(this.dragged)return et.preventDefault(),et.stopPropagation(),!1;if(!this.options.fullWidth){var ei=ee(et.target).closest(".carousel-item").index();0!=this._wrap(this.center)-ei&&(et.preventDefault(),et.stopPropagation()),this._cycleTo(ei)}}},{key:"_handleIndicatorClick",value:function(et){et.stopPropagation();var ei=ee(et.target).closest(".indicator-item");ei.length&&this._cycleTo(ei.index())}},{key:"_handleResize",value:function(ee){this.options.fullWidth?(this.itemWidth=this.$el.find(".carousel-item").first().innerWidth(),this.imageHeight=this.$el.find(".carousel-item.active").height(),this.dim=2*this.itemWidth+this.options.padding,this.offset=2*this.center*this.itemWidth,this.target=this.offset,this._setCarouselHeight(!0)):this._scroll()}},{key:"_setCarouselHeight",value:function(ee){var et=this,ei=this.$el.find(".carousel-item.active").length?this.$el.find(".carousel-item.active").first():this.$el.find(".carousel-item").first(),en=ei.find("img").first();if(en.length){if(en[0].complete){var es=en.height();if(es>0)this.$el.css("height",es+"px");else{var er=en[0].naturalWidth,eo=en[0].naturalHeight,eh=this.$el.width()/er*eo;this.$el.css("height",eh+"px")}}else en.one("load",function(ee,ei){et.$el.css("height",ee.offsetHeight+"px")})}else if(!ee){var ed=ei.height();this.$el.css("height",ed+"px")}}},{key:"_xpos",value:function(ee){return ee.targetTouches&&ee.targetTouches.length>=1?ee.targetTouches[0].clientX:ee.clientX}},{key:"_ypos",value:function(ee){return ee.targetTouches&&ee.targetTouches.length>=1?ee.targetTouches[0].clientY:ee.clientY}},{key:"_wrap",value:function(ee){return ee>=this.count?ee%this.count:ee<0?this._wrap(this.count+ee%this.count):ee}},{key:"_track",value:function(){var ee=void 0,et=void 0,ei=void 0,en=void 0;et=(ee=Date.now())-this.timestamp,this.timestamp=ee,ei=this.offset-this.frame,this.frame=this.offset,en=1e3*ei/(1+et),this.velocity=.8*en+.2*this.velocity}},{key:"_autoScroll",value:function(){var ee=void 0,et=void 0;this.amplitude&&(ee=Date.now()-this.timestamp,(et=this.amplitude*Math.exp(-ee/this.options.duration))>2||et<-2?(this._scroll(this.target-et),requestAnimationFrame(this._autoScrollBound)):this._scroll(this.target))}},{key:"_scroll",value:function(et){var ei=this;this.$el.hasClass("scrolling")||this.el.classList.add("scrolling"),null!=this.scrollingTimeout&&window.clearTimeout(this.scrollingTimeout),this.scrollingTimeout=window.setTimeout(function(){ei.$el.removeClass("scrolling")},this.options.duration);var en=void 0,es=void 0,er=void 0,eo=void 0,eh=void 0,ed=void 0,ec=void 0,eu=void 0,ep=void 0,ef=void 0,eg=this.center,em=1/this.options.numVisible;if(this.offset="number"==typeof et?et:this.offset,this.center=Math.floor((this.offset+this.dim/2)/this.dim),eh=-(eo=(er=this.offset-this.center*this.dim)<0?1:-1)*er*2/this.dim,es=this.count>>1,this.options.fullWidth?(ec="translateX(0)",ef=1):(ec="translateX("+(this.el.clientWidth-this.itemWidth)/2+"px) translateY("+(this.el.clientHeight-this.itemHeight)/2+"px)",ef=1-em*eh),this.showIndicators){var ey=this.center%this.count,eb=this.$indicators.find(".indicator-item.active");eb.index()!==ey&&(eb.removeClass("active"),this.$indicators.find(".indicator-item").eq(ey)[0].classList.add("active"))}if(!this.noWrap||this.center>=0&&this.center<this.count){ee(ed=this.images[this._wrap(this.center)]).hasClass("active")||(this.$el.find(".carousel-item").removeClass("active"),ed.classList.add("active"));var e_=ec+" translateX("+-er/2+"px) translateX("+eo*this.options.shift*eh*en+"px) translateZ("+this.options.dist*eh+"px)";this._updateItemStyle(ed,ef,0,e_)}for(en=1;en<=es;++en){if(this.options.fullWidth?(eu=this.options.dist,ep=en===es&&er<0?1-eh:1):(eu=this.options.dist*(2*en+eh*eo),ep=1-em*(2*en+eh*eo)),!this.noWrap||this.center+en<this.count){ed=this.images[this._wrap(this.center+en)];var eA=ec+" translateX("+(this.options.shift+(this.dim*en-er)/2)+"px) translateZ("+eu+"px)";this._updateItemStyle(ed,ep,-en,eA)}if(this.options.fullWidth?(eu=this.options.dist,ep=en===es&&er>0?1-eh:1):(eu=this.options.dist*(2*en-eh*eo),ep=1-em*(2*en-eh*eo)),!this.noWrap||this.center-en>=0){ed=this.images[this._wrap(this.center-en)];var ew=ec+" translateX("+(-this.options.shift+(-this.dim*en-er)/2)+"px) translateZ("+eu+"px)";this._updateItemStyle(ed,ep,-en,ew)}}if(!this.noWrap||this.center>=0&&this.center<this.count){ed=this.images[this._wrap(this.center)];var ek=ec+" translateX("+-er/2+"px) translateX("+eo*this.options.shift*eh+"px) translateZ("+this.options.dist*eh+"px)";this._updateItemStyle(ed,ef,0,ek)}var eC=this.$el.find(".carousel-item").eq(this._wrap(this.center));eg!==this.center&&"function"==typeof this.options.onCycleTo&&this.options.onCycleTo.call(this,eC[0],this.dragged),"function"==typeof this.oneTimeCallback&&(this.oneTimeCallback.call(this,eC[0],this.dragged),this.oneTimeCallback=null)}},{key:"_updateItemStyle",value:function(ee,et,ei,en){ee.style[this.xform]=en,ee.style.zIndex=ei,ee.style.opacity=et,ee.style.visibility="visible"}},{key:"_cycleTo",value:function(ee,et){var ei=this.center%this.count-ee;!this.noWrap&&(ei<0?Math.abs(ei+this.count)<Math.abs(ei)&&(ei+=this.count):ei>0&&Math.abs(ei-this.count)<ei&&(ei-=this.count)),this.target=this.dim*Math.round(this.offset/this.dim),ei<0?this.target+=this.dim*Math.abs(ei):ei>0&&(this.target-=this.dim*ei),"function"==typeof et&&(this.oneTimeCallback=et),this.offset!==this.target&&(this.amplitude=this.target-this.offset,this.timestamp=Date.now(),requestAnimationFrame(this._autoScrollBound))}},{key:"next",value:function(ee){(void 0===ee||isNaN(ee))&&(ee=1);var et=this.center+ee;if(et>=this.count||et<0){if(this.noWrap)return;et=this._wrap(et)}this._cycleTo(et)}},{key:"prev",value:function(ee){(void 0===ee||isNaN(ee))&&(ee=1);var et=this.center-ee;if(et>=this.count||et<0){if(this.noWrap)return;et=this._wrap(et)}this._cycleTo(et)}},{key:"set",value:function(ee,et){if((void 0===ee||isNaN(ee))&&(ee=0),ee>this.count||ee<0){if(this.noWrap)return;ee=this._wrap(ee)}this._cycleTo(ee,et)}}],[{key:"init",value:function(ee,et){return en(ed.__proto__||Object.getPrototypeOf(ed),"init",this).call(this,this,ee,et)}},{key:"getInstance",value:function(ee){return(ee.jquery?ee[0]:ee).M_Carousel}},{key:"defaults",get:function(){return et}}]),ed}(ed);M.Carousel=ei,M.jQueryLoaded&&M.initializeJqueryWrapper(ei,"carousel","M_Carousel")}(cash),function(ee){"use strict";var et={onOpen:void 0,onClose:void 0},ei=function(ei){function ed(et,ei){eh(this,ed);var en=er(this,(ed.__proto__||Object.getPrototypeOf(ed)).call(this,ed,et,ei));return en.el.M_TapTarget=en,en.options=ee.extend({},ed.defaults,ei),en.isOpen=!1,en.$origin=ee("#"+en.$el.attr("data-target")),en._setup(),en._calculatePositioning(),en._setupEventHandlers(),en}return eo(ed,ei),es(ed,[{key:"destroy",value:function(){this._removeEventHandlers(),this.el.TapTarget=void 0}},{key:"_setupEventHandlers",value:function(){this._handleDocumentClickBound=this._handleDocumentClick.bind(this),this._handleTargetClickBound=this._handleTargetClick.bind(this),this._handleOriginClickBound=this._handleOriginClick.bind(this),this.el.addEventListener("click",this._handleTargetClickBound),this.originEl.addEventListener("click",this._handleOriginClickBound);var ee=M.throttle(this._handleResize,200);this._handleThrottledResizeBound=ee.bind(this),window.addEventListener("resize",this._handleThrottledResizeBound)}},{key:"_removeEventHandlers",value:function(){this.el.removeEventListener("click",this._handleTargetClickBound),this.originEl.removeEventListener("click",this._handleOriginClickBound),window.removeEventListener("resize",this._handleThrottledResizeBound)}},{key:"_handleTargetClick",value:function(ee){this.open()}},{key:"_handleOriginClick",value:function(ee){this.close()}},{key:"_handleResize",value:function(ee){this._calculatePositioning()}},{key:"_handleDocumentClick",value:function(et){ee(et.target).closest(".tap-target-wrapper").length||(this.close(),et.preventDefault(),et.stopPropagation())}},{key:"_setup",value:function(){this.wrapper=this.$el.parent()[0],this.waveEl=ee(this.wrapper).find(".tap-target-wave")[0],this.originEl=ee(this.wrapper).find(".tap-target-origin")[0],this.contentEl=this.$el.find(".tap-target-content")[0],ee(this.wrapper).hasClass(".tap-target-wrapper")||(this.wrapper=document.createElement("div"),this.wrapper.classList.add("tap-target-wrapper"),this.$el.before(ee(this.wrapper)),this.wrapper.append(this.el)),this.contentEl||(this.contentEl=document.createElement("div"),this.contentEl.classList.add("tap-target-content"),this.$el.append(this.contentEl)),this.waveEl||(this.waveEl=document.createElement("div"),this.waveEl.classList.add("tap-target-wave"),this.originEl||(this.originEl=this.$origin.clone(!0,!0),this.originEl.addClass("tap-target-origin"),this.originEl.removeAttr("id"),this.originEl.removeAttr("style"),this.originEl=this.originEl[0],this.waveEl.append(this.originEl)),this.wrapper.append(this.waveEl))}},{key:"_calculatePositioning",value:function(){var et="fixed"===this.$origin.css("position");if(!et)for(var ei=this.$origin.parents(),en=0;en<ei.length&&!(et="fixed"==ee(ei[en]).css("position"));en++);var es=this.$origin.outerWidth(),er=this.$origin.outerHeight(),eo=et?this.$origin.offset().top-M.getDocumentScrollTop():this.$origin.offset().top,eh=et?this.$origin.offset().left-M.getDocumentScrollLeft():this.$origin.offset().left,ed=window.innerWidth,ec=window.innerHeight,eu=ed/2,ep=ec/2,ef=eh<=eu,eg=eh>eu,em=eo<=ep,ey=eo>ep,eb=eh>=.25*ed&&eh<=.75*ed,e_=this.$el.outerWidth(),eA=this.$el.outerHeight(),ew=eo+er/2-eA/2,ek=eh+es/2-e_/2,eC=et?"fixed":"absolute",eE=eb?e_:e_/2+es,ex=eA/2,eS=em?eA/2:0,eM=0,eT=ef&&!eb?e_/2-es:0,eO=0,eP=es,eL=ey?"bottom":"top",eR=2*es,eD=eR,eI=eA/2-eD/2,eF=e_/2-eR/2,eB={};eB.top=em?ew+"px":"",eB.right=eg?ed-ek-e_+"px":"",eB.bottom=ey?ec-ew-eA+"px":"",eB.left=ef?ek+"px":"",eB.position=eC,ee(this.wrapper).css(eB),ee(this.contentEl).css({width:eE+"px",height:ex+"px",top:eS+"px",right:eO+"px",bottom:eM+"px",left:eT+"px",padding:eP+"px",verticalAlign:eL}),ee(this.waveEl).css({top:eI+"px",left:eF+"px",width:eR+"px",height:eD+"px"})}},{key:"open",value:function(){this.isOpen||("function"==typeof this.options.onOpen&&this.options.onOpen.call(this,this.$origin[0]),this.isOpen=!0,this.wrapper.classList.add("open"),document.body.addEventListener("click",this._handleDocumentClickBound,!0),document.body.addEventListener("touchend",this._handleDocumentClickBound))}},{key:"close",value:function(){this.isOpen&&("function"==typeof this.options.onClose&&this.options.onClose.call(this,this.$origin[0]),this.isOpen=!1,this.wrapper.classList.remove("open"),document.body.removeEventListener("click",this._handleDocumentClickBound,!0),document.body.removeEventListener("touchend",this._handleDocumentClickBound))}}],[{key:"init",value:function(ee,et){return en(ed.__proto__||Object.getPrototypeOf(ed),"init",this).call(this,this,ee,et)}},{key:"getInstance",value:function(ee){return(ee.jquery?ee[0]:ee).M_TapTarget}},{key:"defaults",get:function(){return et}}]),ed}(ed);M.TapTarget=ei,M.jQueryLoaded&&M.initializeJqueryWrapper(ei,"tapTarget","M_TapTarget")}(cash),function(ee){"use strict";var et={classes:"",dropdownOptions:{}},ei=function(ei){function ed(et,ei){eh(this,ed);var en=er(this,(ed.__proto__||Object.getPrototypeOf(ed)).call(this,ed,et,ei));return en.$el.hasClass("browser-default")?er(en):(en.el.M_FormSelect=en,en.options=ee.extend({},ed.defaults,ei),en.isMultiple=en.$el.prop("multiple"),en.el.tabIndex=-1,en._keysSelected={},en._valueDict={},en._setupDropdown(),en._setupEventHandlers(),en)}return eo(ed,ei),es(ed,[{key:"destroy",value:function(){this._removeEventHandlers(),this._removeDropdown(),this.el.M_FormSelect=void 0}},{key:"_setupEventHandlers",value:function(){var et=this;this._handleSelectChangeBound=this._handleSelectChange.bind(this),this._handleOptionClickBound=this._handleOptionClick.bind(this),this._handleInputClickBound=this._handleInputClick.bind(this),ee(this.dropdownOptions).find("li:not(.optgroup)").each(function(ee){ee.addEventListener("click",et._handleOptionClickBound)}),this.el.addEventListener("change",this._handleSelectChangeBound),this.input.addEventListener("click",this._handleInputClickBound)}},{key:"_removeEventHandlers",value:function(){var et=this;ee(this.dropdownOptions).find("li:not(.optgroup)").each(function(ee){ee.removeEventListener("click",et._handleOptionClickBound)}),this.el.removeEventListener("change",this._handleSelectChangeBound),this.input.removeEventListener("click",this._handleInputClickBound)}},{key:"_handleSelectChange",value:function(ee){this._setValueToInput()}},{key:"_handleOptionClick",value:function(et){et.preventDefault();var ei=ee(et.target).closest("li")[0],en=ei.id;if(!ee(ei).hasClass("disabled")&&!ee(ei).hasClass("optgroup")&&en.length){var es=!0;if(this.isMultiple){var er=ee(this.dropdownOptions).find("li.disabled.selected");er.length&&(er.removeClass("selected"),er.find('input[type="checkbox"]').prop("checked",!1),this._toggleEntryFromArray(er[0].id)),es=this._toggleEntryFromArray(en)}else ee(this.dropdownOptions).find("li").removeClass("selected"),ee(ei).toggleClass("selected",es);ee(this._valueDict[en].el).prop("selected")!==es&&(ee(this._valueDict[en].el).prop("selected",es),this.$el.trigger("change"))}et.stopPropagation()}},{key:"_handleInputClick",value:function(){this.dropdown&&this.dropdown.isOpen&&(this._setValueToInput(),this._setSelectedStates())}},{key:"_setupDropdown",value:function(){var et=this;this.wrapper=document.createElement("div"),ee(this.wrapper).addClass("select-wrapper "+this.options.classes),this.$el.before(ee(this.wrapper)),this.wrapper.appendChild(this.el),this.el.disabled&&this.wrapper.classList.add("disabled"),this.$selectOptions=this.$el.children("option, optgroup"),this.dropdownOptions=document.createElement("ul"),this.dropdownOptions.id="select-options-"+M.guid(),ee(this.dropdownOptions).addClass("dropdown-content select-dropdown "+(this.isMultiple?"multiple-select-dropdown":"")),this.$selectOptions.length&&this.$selectOptions.each(function(ei){if(ee(ei).is("option")){var en=void 0;en=et.isMultiple?et._appendOptionWithIcon(et.$el,ei,"multiple"):et._appendOptionWithIcon(et.$el,ei),et._addOptionToValueDict(ei,en)}else if(ee(ei).is("optgroup")){var es=ee(ei).children("option");ee(et.dropdownOptions).append(ee('<li class="optgroup"><span>'+ei.getAttribute("label")+"</span></li>")[0]),es.each(function(ee){var ei=et._appendOptionWithIcon(et.$el,ee,"optgroup-option");et._addOptionToValueDict(ee,ei)})}}),this.$el.after(this.dropdownOptions),this.input=document.createElement("input"),ee(this.input).addClass("select-dropdown dropdown-trigger"),this.input.setAttribute("type","text"),this.input.setAttribute("readonly","true"),this.input.setAttribute("data-target",this.dropdownOptions.id),this.el.disabled&&ee(this.input).prop("disabled","true"),this.$el.before(this.input),this._setValueToInput();var ei=ee('<svg class="caret" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M7 10l5 5 5-5z"/><path d="M0 0h24v24H0z" fill="none"/></svg>');if(this.$el.before(ei[0]),!this.el.disabled){var en=ee.extend({},this.options.dropdownOptions);en.onOpenEnd=function(ei){var en=ee(et.dropdownOptions).find(".selected").first();if(en.length&&(M.keyDown=!0,et.dropdown.focusedIndex=en.index(),et.dropdown._focusFocusedItem(),M.keyDown=!1,et.dropdown.isScrollable)){var es=en[0].getBoundingClientRect().top-et.dropdownOptions.getBoundingClientRect().top;es-=et.dropdownOptions.clientHeight/2,et.dropdownOptions.scrollTop=es}},this.isMultiple&&(en.closeOnClick=!1),this.dropdown=M.Dropdown.init(this.input,en)}this._setSelectedStates()}},{key:"_addOptionToValueDict",value:function(ee,et){var ei=Object.keys(this._valueDict).length,en=this.dropdownOptions.id+ei,es={};et.id=en,es.el=ee,es.optionEl=et,this._valueDict[en]=es}},{key:"_removeDropdown",value:function(){ee(this.wrapper).find(".caret").remove(),ee(this.input).remove(),ee(this.dropdownOptions).remove(),ee(this.wrapper).before(this.$el),ee(this.wrapper).remove()}},{key:"_appendOptionWithIcon",value:function(et,ei,en){var es=ei.disabled?"disabled ":"",er="optgroup-option"===en?"optgroup-option ":"",eo=this.isMultiple?'<label><input type="checkbox"'+es+'"/><span>'+ei.innerHTML+"</span></label>":ei.innerHTML,eh=ee("<li></li>"),ed=ee("<span></span>");ed.html(eo),eh.addClass(es+" "+er),eh.append(ed);var ec=ei.getAttribute("data-icon");if(ec){var eu=ee('<img alt="" src="'+ec+'">');eh.prepend(eu)}return ee(this.dropdownOptions).append(eh[0]),eh[0]}},{key:"_toggleEntryFromArray",value:function(et){var ei=!this._keysSelected.hasOwnProperty(et),en=ee(this._valueDict[et].optionEl);return ei?this._keysSelected[et]=!0:delete this._keysSelected[et],en.toggleClass("selected",ei),en.find('input[type="checkbox"]').prop("checked",ei),en.prop("selected",ei),ei}},{key:"_setValueToInput",value:function(){var et=[];if(this.$el.find("option").each(function(ei){if(ee(ei).prop("selected")){var en=ee(ei).text();et.push(en)}}),!et.length){var ei=this.$el.find("option:disabled").eq(0);ei.length&&""===ei[0].value&&et.push(ei.text())}this.input.value=et.join(", ")}},{key:"_setSelectedStates",value:function(){for(var et in this._keysSelected={},this._valueDict){var ei=this._valueDict[et],en=ee(ei.el).prop("selected");ee(ei.optionEl).find('input[type="checkbox"]').prop("checked",en),en?(this._activateOption(ee(this.dropdownOptions),ee(ei.optionEl)),this._keysSelected[et]=!0):ee(ei.optionEl).removeClass("selected")}}},{key:"_activateOption",value:function(et,ei){ei&&(this.isMultiple||et.find("li.selected").removeClass("selected"),ee(ei).addClass("selected"))}},{key:"getSelectedValues",value:function(){var ee=[];for(var et in this._keysSelected)ee.push(this._valueDict[et].el.value);return ee}}],[{key:"init",value:function(ee,et){return en(ed.__proto__||Object.getPrototypeOf(ed),"init",this).call(this,this,ee,et)}},{key:"getInstance",value:function(ee){return(ee.jquery?ee[0]:ee).M_FormSelect}},{key:"defaults",get:function(){return et}}]),ed}(ed);M.FormSelect=ei,M.jQueryLoaded&&M.initializeJqueryWrapper(ei,"formSelect","M_FormSelect")}(cash),function(ee,et){"use strict";var ei={},ec=function(ed){function ec(et,ei){eh(this,ec);var en=er(this,(ec.__proto__||Object.getPrototypeOf(ec)).call(this,ec,et,ei));return en.el.M_Range=en,en.options=ee.extend({},ec.defaults,ei),en._mousedown=!1,en._setupThumb(),en._setupEventHandlers(),en}return eo(ec,ed),es(ec,[{key:"destroy",value:function(){this._removeEventHandlers(),this._removeThumb(),this.el.M_Range=void 0}},{key:"_setupEventHandlers",value:function(){this._handleRangeChangeBound=this._handleRangeChange.bind(this),this._handleRangeMousedownTouchstartBound=this._handleRangeMousedownTouchstart.bind(this),this._handleRangeInputMousemoveTouchmoveBound=this._handleRangeInputMousemoveTouchmove.bind(this),this._handleRangeMouseupTouchendBound=this._handleRangeMouseupTouchend.bind(this),this._handleRangeBlurMouseoutTouchleaveBound=this._handleRangeBlurMouseoutTouchleave.bind(this),this.el.addEventListener("change",this._handleRangeChangeBound),this.el.addEventListener("mousedown",this._handleRangeMousedownTouchstartBound),this.el.addEventListener("touchstart",this._handleRangeMousedownTouchstartBound),this.el.addEventListener("input",this._handleRangeInputMousemoveTouchmoveBound),this.el.addEventListener("mousemove",this._handleRangeInputMousemoveTouchmoveBound),this.el.addEventListener("touchmove",this._handleRangeInputMousemoveTouchmoveBound),this.el.addEventListener("mouseup",this._handleRangeMouseupTouchendBound),this.el.addEventListener("touchend",this._handleRangeMouseupTouchendBound),this.el.addEventListener("blur",this._handleRangeBlurMouseoutTouchleaveBound),this.el.addEventListener("mouseout",this._handleRangeBlurMouseoutTouchleaveBound),this.el.addEventListener("touchleave",this._handleRangeBlurMouseoutTouchleaveBound)}},{key:"_removeEventHandlers",value:function(){this.el.removeEventListener("change",this._handleRangeChangeBound),this.el.removeEventListener("mousedown",this._handleRangeMousedownTouchstartBound),this.el.removeEventListener("touchstart",this._handleRangeMousedownTouchstartBound),this.el.removeEventListener("input",this._handleRangeInputMousemoveTouchmoveBound),this.el.removeEventListener("mousemove",this._handleRangeInputMousemoveTouchmoveBound),this.el.removeEventListener("touchmove",this._handleRangeInputMousemoveTouchmoveBound),this.el.removeEventListener("mouseup",this._handleRangeMouseupTouchendBound),this.el.removeEventListener("touchend",this._handleRangeMouseupTouchendBound),this.el.removeEventListener("blur",this._handleRangeBlurMouseoutTouchleaveBound),this.el.removeEventListener("mouseout",this._handleRangeBlurMouseoutTouchleaveBound),this.el.removeEventListener("touchleave",this._handleRangeBlurMouseoutTouchleaveBound)}},{key:"_handleRangeChange",value:function(){ee(this.value).html(this.$el.val()),ee(this.thumb).hasClass("active")||this._showRangeBubble();var et=this._calcRangeOffset();ee(this.thumb).addClass("active").css("left",et+"px")}},{key:"_handleRangeMousedownTouchstart",value:function(et){if(ee(this.value).html(this.$el.val()),this._mousedown=!0,this.$el.addClass("active"),ee(this.thumb).hasClass("active")||this._showRangeBubble(),"input"!==et.type){var ei=this._calcRangeOffset();ee(this.thumb).addClass("active").css("left",ei+"px")}}},{key:"_handleRangeInputMousemoveTouchmove",value:function(){if(this._mousedown){ee(this.thumb).hasClass("active")||this._showRangeBubble();var et=this._calcRangeOffset();ee(this.thumb).addClass("active").css("left",et+"px"),ee(this.value).html(this.$el.val())}}},{key:"_handleRangeMouseupTouchend",value:function(){this._mousedown=!1,this.$el.removeClass("active")}},{key:"_handleRangeBlurMouseoutTouchleave",value:function(){if(!this._mousedown){var ei=7+parseInt(this.$el.css("padding-left"))+"px";ee(this.thumb).hasClass("active")&&(et.remove(this.thumb),et({targets:this.thumb,height:0,width:0,top:10,easing:"easeOutQuad",marginLeft:ei,duration:100})),ee(this.thumb).removeClass("active")}}},{key:"_setupThumb",value:function(){this.thumb=document.createElement("span"),this.value=document.createElement("span"),ee(this.thumb).addClass("thumb"),ee(this.value).addClass("value"),ee(this.thumb).append(this.value),this.$el.after(this.thumb)}},{key:"_removeThumb",value:function(){ee(this.thumb).remove()}},{key:"_showRangeBubble",value:function(){var ei=-7+parseInt(ee(this.thumb).parent().css("padding-left"))+"px";et.remove(this.thumb),et({targets:this.thumb,height:30,width:30,top:-30,marginLeft:ei,duration:300,easing:"easeOutQuint"})}},{key:"_calcRangeOffset",value:function(){var ee=this.$el.width()-15,et=parseFloat(this.$el.attr("max"))||100,ei=parseFloat(this.$el.attr("min"))||0;return(parseFloat(this.$el.val())-ei)/(et-ei)*ee}}],[{key:"init",value:function(ee,et){return en(ec.__proto__||Object.getPrototypeOf(ec),"init",this).call(this,this,ee,et)}},{key:"getInstance",value:function(ee){return(ee.jquery?ee[0]:ee).M_Range}},{key:"defaults",get:function(){return ei}}]),ec}(ed);M.Range=ec,M.jQueryLoaded&&M.initializeJqueryWrapper(ec,"range","M_Range"),ec.init(ee("input[type=range]"))}(cash,M.anime)},8233:function(ee,et,ei){"use strict";Object.defineProperty(et,"__esModule",{value:!0}),et.meiosisSetup=void 0;var en=ei("7001");Object.defineProperty(et,"meiosisSetup",{enumerable:!0,get:function(){return en.meiosisSetup}})},7001:function(ee,et,ei){"use strict";var en=this&&this.__importDefault||function(ee){return ee&&ee.__esModule?ee:{default:ee}};Object.defineProperty(et,"__esModule",{value:!0}),et.meiosisSetup=void 0;let es=ei("1917"),er=ei("8783"),eo=en(ei("4426")),eh=(ee,et,ei)=>(ei[ee]=et,ei),ed=(ee,et)=>et?ee.concat(et):ee,ec=ee=>ee?Object.keys(ee).reduce((et,ei)=>eh(ei,Object.assign({},ee[ei].initial,ec(ee[ei].nested)),et),{}):{},eu=ee=>Object.assign({},ee.initial,ec(ee.nested)),ep=ee=>ee?Object.keys(ee).reduce((et,ei)=>{let en=ee[ei];if(void 0!==en.view){let ee=en.view;return eh(ei,{view:(et,...en)=>ee(et.nest(ei),...en),nested:ep(en.nested)},et)}return et},{}):{},ef=ee=>ep(ee.nested),eg=(ee,et=ee=>ee,ei=ee=>ee)=>ee?Object.keys(ee).reduce((en,es)=>{var er;let eo=ee=>et(ee).nest(es),eh=ee=>ei(ee)[es],ec=ee[es];return ed(en,null===(er=ec.services)||void 0===er?void 0:er.map(ee=>({onchange:et=>ee.onchange?ee.onchange(eh(et)):et,run:et=>ee.run(eo(et))}))).concat(eg(ec.nested,eo,eh))},[]):[],em=ee=>ed([],ee.services).concat(eg(ee.nested)),ey=({stream:ee,app:et})=>{ee||(ee=es.simpleStream);let ei=et||{},en=eu(ei),er=ef(ei),eh="function"==typeof ee?ee:ee.stream,ed=ee.scan,ec=eh(),ep=ed((ee,et)=>(0,eo.default)(ee,et),en,ec);return{states:ep,update:ec,view:er}},eb=(ee,et)=>({[et]:ee}),e_=(ee,et)=>ei=>ee(eb(ei,et)),eA=(ee,et,ei)=>en=>{let es=ee.map(ee=>ee[en]),eo=()=>ee()[en],eh=e_(et,en),ed=(0,er.get)(ei,[en,"nested"]);return{states:es,state:eo(),getState:eo,update:eh,nest:eA(es,eh,ed),nested:ed}},ew=ee=>{let et=null==ee?void 0:ee.stream,ei=null==ee?void 0:ee.app,{states:en,update:er,view:eo}=ey({stream:et,app:ei}),eh=eA(en,er,eo),ed=()=>en(),ec=ee=>({states:en,state:ee,getState:ed,update:er,nest:eh,nested:eo}),eu=(0,es.createDropRepeats)(et);ei&&em(ei).forEach(ee=>{eu(en,ee.onchange).map(et=>ee.run(ec(et)))});let ep=eu(en).map(ec);return ep};et.meiosisSetup=ew},1917:function(ee,et,ei){"use strict";Object.defineProperty(et,"__esModule",{value:!0}),et.dropRepeats=et.createDropRepeats=et.simpleStream=et.scan=et.stream=void 0;let en=ee=>{let ei=[],en=ee,es=function(ee){if(arguments.length>0&&!es.ended)for(let et in en=ee,ei)ei[et](en);return en};return es.map=ee=>{let es=(0,et.stream)(),er=et=>{es(ee(et))};return ei.push(er),es.end=ee=>{let et=ei.indexOf(er);es.ended=!0,ei.splice(et,1)},void 0!==en&&es(ee(en)),es},es.end=ee=>{es.ended=!0},es};et.stream=en;let es=(ee,ei,en)=>{let es=(0,et.stream)(ei),er=ei;return en.map(et=>{es(er=ee(er,et))}),es};et.scan=es,et.simpleStream={stream:et.stream,scan:et.scan};let er=(ee=et.simpleStream)=>(et,ei=ee=>ee)=>{let en;let es="function"==typeof ee?ee:ee.stream,er=es();return et.map(ee=>{let et=ei(ee);et!==en&&(en=et,er(ee))}),er};et.createDropRepeats=er,et.dropRepeats=(0,et.createDropRepeats)()},8783:function(ee,et,ei){"use strict";Object.defineProperty(et,"__esModule",{value:!0}),et.updateFormFloatValue=et.updateFormIntValue=et.updateFormValue=et.get=void 0;let en=(ee,et)=>et.reduce((ee,et)=>void 0==ee?void 0:ee[et],ee);et.get=en;let es=(ee,et)=>({[ee[0]]:1===ee.length?et:es(ee.slice(1),et)}),er=ee=>Array.isArray(ee)?ee:[ee],eo=(ee,et,ei)=>en=>{let eo=ee(en.currentTarget.value);isNaN(eo)||et.update(es(er(ei),eo))},eh=(ee,et,ei=ee=>ee)=>en=>ee.update(es(er(et),ei(en.currentTarget.value)));et.updateFormValue=eh;let ed=(ee,et)=>ei=>eo(parseInt,ee,et)(ei);et.updateFormIntValue=ed;let ec=(ee,et)=>ei=>eo(parseFloat,ee,et)(ei);et.updateFormFloatValue=ec},4426:function(ee,et,ei){"use strict";ei.r(et),ei.d(et,{default:function(){return eo}});let en=Object.assign||((ee,et)=>(et&&Object.keys(et).forEach(ei=>ee[ei]=et[ei]),ee)),es=(ee,et,ei)=>{let en=typeof ei;if(ei&&"object"===en){if(Array.isArray(ei))for(let en of ei)et=es(ee,et,en);else for(let en of Object.keys(ei)){let eo=ei[en];"function"==typeof eo?et[en]=eo(et[en],er):void 0===eo?ee&&!isNaN(en)?et.splice(en,1):delete et[en]:null===eo||"object"!=typeof eo||Array.isArray(eo)?et[en]=eo:"object"==typeof et[en]?et[en]=eo===et[en]?eo:er(et[en],eo):et[en]=es(!1,{},eo)}}else"function"===en&&(et=ei(et,er));return et},er=(ee,...et)=>{let ei=Array.isArray(ee);return es(ei,ei?ee.slice():en({},ee),et)};var eo=er},1704:function(ee,et,ei){"use strict";ei.r(et),ei.d(et,{Button:function(){return eR},Icon:function(){return eO},ModalPanel:function(){return eq},Select:function(){return eV}});var en,es=ei("7339"),er=ei.n(es),eo=ei("2240"),eh=ei.n(eo);let ed=()=>"idxxxxxxxx".replace(/[x]/g,()=>(16*Math.random()|0).toString(16)),ec=(...ee)=>et=>ee.reduceRight((ee,et)=>et(ee),et),eu=ee=>et=>Array.prototype.map.call(et,ee),ep=ee=>et=>Array.prototype.join.call(et,ee),ef=ee=>ee.replace(/([A-Z])/g,ee=>"-"+ee.toLowerCase()),eg=ee=>ee?ec(ep(""),eu(et=>`[${ef(et)}="${((ee="")=>ee.toString().replace(/"/g,"&quot;"))(ee[et])}"]`),Object.keys)(ee):"",em=["min","max","minLength","maxLength","rows","cols","placeholder","autocomplete","pattern","readOnly","step"],ey=ee=>em.indexOf(ee)>=0,eb=({disabled:ee})=>ee?"[disabled]":"",e_=({required:ee,isMandatory:et})=>ee||et?"[required][aria-required=true]":"",eA=ee=>{var et;return(ee=>{var et;let ei=(et=ee,ee=>void 0!==et[ee]);return Object.keys(ee).filter(ey).filter(ei).reduce((et,ei)=>{let en=ee[ei];return et.push(`[${ei.toLowerCase()}=${en}]`),et},[]).join("")})(ee)+(et=ee,et.maxLength?`[data-length=${et.maxLength}]`:"")+eb(ee)+e_(ee)+(({autofocus:ee})=>"boolean"==typeof ee&&ee||ee&&ee()?"[autofocus]":"")(ee)},ew=ee=>!isNaN(parseFloat(ee))&&isFinite(ee);function ek(){return(ek=Object.assign||function(ee){for(var et=1;et<arguments.length;et++){var ei=arguments[et];for(var en in ei)Object.prototype.hasOwnProperty.call(ei,en)&&(ee[en]=ei[en])}return ee}).apply(this,arguments)}function eC(ee,et){if(null==ee)return{};var ei,en,es={},er=Object.keys(ee);for(en=0;en<er.length;en++)et.indexOf(ei=er[en])>=0||(es[ei]=ee[ei]);return es}let eE=["label","id","isMandatory","isActive"],ex={view:({attrs:ee})=>er("span.mandatory",ee,"*")},eS=()=>({view:ee=>{let{attrs:{label:et,id:ei,isMandatory:en,isActive:es}}=ee,eo=eC(ee.attrs,eE);return et?er(`label${es?".active":""}${ei?`[for=${ei}]`:""}`,eo,[er.trust(et),en?er(ex):void 0]):void 0}}),eM=()=>({view:({attrs:{helperText:ee,dataError:et,dataSuccess:ei}})=>{let en=et||ei?eg({dataError:et,dataSuccess:ei}):"";return ee||en?er(`span.helper-text${en}`,ee?er.trust(ee):""):void 0}}),eT=["iconName"],eO=()=>({view:ee=>{let{attrs:{iconName:et}}=ee;return er("i.material-icons",eC(ee.attrs,eT),et)}}),eP=["modalId","tooltip","tooltipPostion","iconName","iconClass","label","attr"],eL=(ee,et="")=>()=>{let ei=`${ee}${et}`;return{view:({attrs:ee})=>{let{modalId:et,tooltip:en,tooltipPostion:es,iconName:eo,iconClass:eh,label:ed,attr:ec}=ee,eu=eC(ee,eP);return er(`${ei}${et?`.modal-trigger[href=#${et}]`:""}${en?`.tooltipped[data-position=${es||"top"}][data-tooltip=${en}]`:""}${eg(ec)}`,eu,eo?er(eO,{iconName:eo,className:eh||"left"}):void 0,ed||void 0)}}},eR=eL("a.waves-effect.waves-light.btn"),eD=(eL("a.waves-effect.waves-light.btn-large"),eL("a.waves-effect.waves-light.btn-small"),eL("a.waves-effect.waves-teal.btn-flat")),eI=(eL("button.btn-floating.btn-large.waves-effect.waves-light"),eL("button.btn.waves-effect.waves-light","[type=submit]"),["header","items","mode"]),eF=["title","active","href"],eB=["items","header"];!function(ee){ee[ee.BASIC=0]="BASIC",ee[ee.LINKS=1]="LINKS",ee[ee.AVATAR=2]="AVATAR"}(en||(en={}));let eN=ee=>ee&&/https?:\/\//.test(ee),e$=()=>({view:({attrs:ee})=>{let{href:et,iconName:ei="send",onclick:en,style:es={cursor:"pointer"}}=ee,eo={href:et,style:es,className:"secondary-content",onclick:en?()=>en(ee):void 0};return eN(et)||!et?er("a[target=_]",eo,er(eO,{iconName:ei})):er(er.route.Link,eo,er(eO,{iconName:ei}))}}),ej=(ee="")=>/\./.test(ee),eH=()=>({view:({attrs:{item:ee,mode:et}})=>{let{title:ei,content:es="",active:eo,iconName:eh,avatar:ed,className:ec,onclick:eu}=ee;return et===en.AVATAR?er("li.collection-item.avatar"+(eo?".active":""),{onclick:eu?()=>eu(ee):void 0},[ej(ed)?er("img.circle",{src:ed}):er("i.material-icons.circle",{className:ec},ed),er("span.title",ei),er("p",er.trust(es)),er(e$,ee)]):er("li.collection-item"+(eo?".active":""),eh?er("div",[ei,er(e$,ee)]):ei)}}),eW=()=>({view:({attrs:{item:ee}})=>{let{title:et,active:ei,href:en}=ee,es=ek({},eC(ee,eF),{className:"collection-item "+(ei?"active":""),href:en});return eN(en)||!en?er("a[target=_]",es,et):er(er.route.Link,es,et)}}),ez=["className","dataError","dataSuccess","helperText","iconName","id","initialValue","isMandatory","label","maxLength","newRow","onchange","onkeydown","onkeypress","onkeyup","style","validate"],eU=(ee,et="")=>()=>{let ei={id:ed()},en=et=>{let ei=et.value;return ei&&("number"===ee||"range"===ee)?+ei:ei},es=(ee,et)=>{ee.setCustomValidity("boolean"==typeof et?et?"":"Custom validation failed":et)};return{view:({attrs:eo})=>{let{className:ed="col s12",dataError:ec,dataSuccess:eu,helperText:ep,iconName:ef,id:eg=ei.id,initialValue:em,isMandatory:ey,label:eb,maxLength:e_,newRow:ew,onchange:ek,onkeydown:eE,onkeypress:ex,onkeyup:eT,style:eO,validate:eP}=eo,eL=eC(eo,ez),eR=eA(eL);return er(`.input-field${ew?".clear":""}${et}`,{className:ed,style:eO},[ef?er("i.material-icons.prefix",ef):void 0,er(`input.validate[type=${ee}][tabindex=0][id=${eg}]${eR}`,{oncreate:({dom:et})=>{(({autofocus:ee})=>!!ee&&("boolean"==typeof ee?ee:ee()))(eo)&&et.focus(),e_&&eh.CharacterCounter.init(et),"range"===ee&&eh.Range.init(et)},onkeyup:eT?ee=>{eT(ee,en(ee.target))}:void 0,onkeydown:eE?ee=>{eE(ee,en(ee.target))}:void 0,onkeypress:ex?ee=>{ex(ee,en(ee.target))}:void 0,onupdate:eP?({dom:ee})=>{let et=ee;es(et,eP(en(et),et))}:void 0,onchange:ee=>{let et=ee.target;if(et){let ee=en(et);ek&&ek(ee),eP&&es(et,eP(ee,et))}},value:em}),er(eS,{label:eb,id:eg,isMandatory:ey,isActive:!(void 0===em&&!eo.placeholder&&"number"!==ee&&"color"!==ee&&"range"!==ee)}),er(eM,{helperText:ep,dataError:ec,dataSuccess:eu})])}}},eq=(eU("text"),eU("password"),eU("number"),eU("url"),eU("color"),eU("range",".range-field"),eU("email"),()=>({oncreate:({dom:ee,attrs:{options:et,onCreate:ei}})=>{let en=M.Modal.init(ee,et);ei&&ei(en)},view:({attrs:{id:ee,title:et,description:ei,fixedFooter:en,bottomSheet:es,buttons:eo,richContent:eh}})=>er(`.modal${en?".modal-fixed-footer":""}${es?".bottom-sheet":""}[id=${ee}]`,[er(".modal-content",[er("h4",et),eh&&"string"==typeof ei?er.trust(ei||""):"string"==typeof ei?er("p",ei):ei]),eo?er(".modal-footer",eo.map(ee=>er(eD,ek({},ee,{className:"modal-close"})))):void 0])})),eV=()=>{let ee={},et=ee=>ee.map(ee=>ee.id).join(""),ei=(ee,et,ei=!1)=>ei||(et instanceof Array&&(ee||"number"==typeof ee)?et.indexOf(ee)>=0:et===ee);return{oninit:({attrs:{checkedId:ei,initialValue:en,options:es}})=>{ee.ids=et(es);let er=ei||en;ee.checkedId=ei,ee.initialValue=er?er instanceof Array?[...er.filter(ee=>null!==ee)]:[er]:[]},view:({attrs:{id:en,newRow:es,className:eo="col s12",checkedId:eh,key:ed,options:ec,multiple:eu,label:ep,helperText:ef,placeholder:eg,isMandatory:em,iconName:ey,disabled:eb,classes:e_,dropdownOptions:eA,onchange:ek}})=>{ee.checkedId!==eh&&(ee.initialValue=eh?eh instanceof Array?eh:[eh]:void 0);let{initialValue:eC}=ee,eE=ek?eu?()=>{let et=ee.instance&&ee.instance.getSelectedValues(),ei=et?et.length>0&&ew(et[0])?et.map(ee=>+ee):et.filter(ee=>null!==ee||void 0!==ee):void 0;ee.initialValue=ei||[],ek(ee.initialValue)}:et=>{if(et&&et.currentTarget){let ei=et.currentTarget,en=ew(ei.value)?+ei.value:ei.value;ee.initialValue=[en]}ee.initialValue&&ek(ee.initialValue)}:void 0,ex=es?".clear":"",eT=eb?"[disabled]":"",eO=eu?"[multiple]":"",eP=0===ec.filter(ee=>ei(ee.id,eC)).length;return er(`.input-field.select-space${ex}`,{className:eo,key:ed},[ey&&er("i.material-icons.prefix",ey),er(`select[id=${en}]${eT}${eO}`,{oncreate:({dom:et})=>{ee.instance=M.FormSelect.init(et,{classes:e_,dropdownOptions:eA})},onupdate:({dom:ei})=>{let en=et(ec),es=eh&&ee.checkedId!==eh.toString();ee.ids!==en&&(ee.ids=en,es=!0),(ee.checkedId instanceof Array&&eh instanceof Array?ee.checkedId.join()!==eh.join():ee.checkedId!==eh)&&(ee.checkedId=eh,es=!0),es&&(ee.instance=M.FormSelect.init(ei,{classes:e_,dropdownOptions:eA}))},onchange:eE},eg?er("option[disabled]"+(eP?"[selected]":""),eg):"",ec.map((ee,et)=>er(`option[value=${ee.id}]${ee.title?`[title=${ee.title}]`:""}${ee.disabled?"[disabled]":""}${ei(ee.id,eC,0===et&&eP&&!eg)?"[selected]":""}`,ee.label.replace("&amp;","&")))),er(eS,{label:ep,isMandatory:em}),er(eM,{helperText:ef})])}}}},9368:function(ee,et,ei){"use strict";var en=ei("9534");ee.exports=function(ee,et,ei){var es=[],er=!1,eo=-1;function eh(){for(eo=0;eo<es.length;eo+=2)try{ee(es[eo],en(es[eo+1]),ed)}catch(ee){ei.error(ee)}eo=-1}function ed(){er||(er=!0,et(function(){er=!1,eh()}))}return ed.sync=eh,{mount:function(et,ei){if(null!=ei&&null==ei.view&&"function"!=typeof ei)throw TypeError("m.mount expects a component, not a vnode.");var er=es.indexOf(et);er>=0&&(es.splice(er,2),er<=eo&&(eo-=2),ee(et,[])),null!=ei&&(es.push(et,ei),ee(et,en(ei),ed))},redraw:ed}}},8160:function(ee,et,ei){"use strict";var en=ei("9534"),es=ei("6312"),er=ei("2417"),eo=ei("3077"),eh=ei("2487"),ed=ei("7530"),ec=ei("1093"),eu=ei("4674"),ep={};function ef(ee){try{return decodeURIComponent(ee)}catch(et){return ee}}ee.exports=function(ee,et){var ei,eg,em,ey,eb,e_,eA=null==ee?null:"function"==typeof ee.setImmediate?ee.setImmediate:ee.setTimeout,ew=er.resolve(),ek=!1,eC=!1,eE=0,ex=ep,eS={onbeforeupdate:function(){return!(!(eE=eE?2:1)||ep===ex)},onremove:function(){ee.removeEventListener("popstate",eO,!1),ee.removeEventListener("hashchange",eT,!1)},view:function(){if(eE&&ep!==ex){var ee=[en(em,ey.key,ey)];return ex&&(ee=ex.render(ee[0])),ee}}},eM=eL.SKIP={};function eT(){ek=!1;var en=ee.location.hash;"#"!==eL.prefix[0]&&(en=ee.location.search+en,"?"!==eL.prefix[0]&&"/"!==(en=ee.location.pathname+en)[0]&&(en="/"+en));var es=en.concat().replace(/(?:%[a-f89][a-f0-9])+/gim,ef).slice(eL.prefix.length),er=eh(es);function eo(ee){console.error(ee),eP(eg,null,{replace:!0})}function ed(ee){for(;ee<ei.length;ee++)if(ei[ee].check(er)){var en=ei[ee].component,eh=ei[ee].route,ec=en,eu=e_=function(ei){if(eu===e_){if(ei===eM)return ed(ee+1);em=null!=ei&&("function"==typeof ei.view||"function"==typeof ei)?ei:"div",ey=er.params,eb=es,e_=null,ex=en.render?en:null,2===eE?et.redraw():(eE=2,et.redraw.sync())}};en.view||"function"==typeof en?(en={},eu(ec)):en.onmatch?ew.then(function(){return en.onmatch(er.params,es,eh)}).then(eu,es===eg?null:eo):eu("div");return}if(es===eg)throw Error("Could not resolve default route "+eg+".");eP(eg,null,{replace:!0})}ec(er.params,ee.history.state),ed(0)}function eO(){ek||(ek=!0,eA(eT))}function eP(et,ei,en){if(et=eo(et,ei),eC){eO();var es=en?en.state:null,er=en?en.title:null;en&&en.replace?ee.history.replaceState(es,er,eL.prefix+et):ee.history.pushState(es,er,eL.prefix+et)}else ee.location.href=eL.prefix+et}function eL(en,es,er){if(!en)throw TypeError("DOM element being rendered to does not exist.");if(ei=Object.keys(er).map(function(ee){if("/"!==ee[0])throw SyntaxError("Routes must start with a '/'.");if(/:([^\/\.-]+)(\.{3})?:/.test(ee))throw SyntaxError("Route parameter names must be separated with either '/', '.', or '-'.");return{route:ee,component:er[ee],check:ed(ee)}}),eg=es,null!=es){var eo=eh(es);if(!ei.some(function(ee){return ee.check(eo)}))throw ReferenceError("Default route doesn't match any known routes.")}"function"==typeof ee.history.pushState?ee.addEventListener("popstate",eO,!1):"#"===eL.prefix[0]&&ee.addEventListener("hashchange",eT,!1),eC=!0,et.mount(en,eS),eT()}return eL.set=function(ee,et,ei){null!=e_&&((ei=ei||{}).replace=!0),e_=null,eP(ee,et,ei)},eL.get=function(){return eb},eL.prefix="#!",eL.Link={view:function(ee){var et,ei,en,er=es(ee.attrs.selector||"a",eu(ee.attrs,["options","params","selector","onclick"]),ee.children);return(er.attrs.disabled=!!er.attrs.disabled)?(er.attrs.href=null,er.attrs["aria-disabled"]="true"):(et=ee.attrs.options,ei=ee.attrs.onclick,en=eo(er.attrs.href,ee.attrs.params),er.attrs.href=eL.prefix+en,er.attrs.onclick=function(ee){var es;"function"==typeof ei?es=ei.call(ee.currentTarget,ee):null==ei||"object"!=typeof ei||"function"==typeof ei.handleEvent&&ei.handleEvent(ee),!1===es||ee.defaultPrevented||0!==ee.button&&0!==ee.which&&1!==ee.which||ee.currentTarget.target&&"_self"!==ee.currentTarget.target||ee.ctrlKey||ee.metaKey||ee.shiftKey||ee.altKey||(ee.preventDefault(),ee.redraw=!1,eL.set(en,null,et))}),er}},eL.param=function(ee){return ey&&null!=ee?ey[ee]:ey},eL}},8439:function(ee,et,ei){"use strict";var en=ei("6312");en.trust=ei("9249"),en.fragment=ei("661"),ee.exports=en},7339:function(ee,et,ei){"use strict";var en=ei("8439"),es=ei("478"),er=ei("2915"),eo=function(){return en.apply(this,arguments)};eo.m=en,eo.trust=en.trust,eo.fragment=en.fragment,eo.Fragment="[",eo.mount=er.mount,eo.route=ei("9089"),eo.render=ei("9619"),eo.redraw=er.redraw,eo.request=es.request,eo.jsonp=es.jsonp,eo.parseQueryString=ei("537"),eo.buildQueryString=ei("5442"),eo.parsePathname=ei("2487"),eo.buildPathname=ei("3077"),eo.vnode=ei("9534"),eo.PromisePolyfill=ei("6117"),eo.censor=ei("4674"),ee.exports=eo},2915:function(ee,et,ei){"use strict";var en=ei("9619");ee.exports=ei("9368")(en,"undefined"!=typeof requestAnimationFrame?requestAnimationFrame:null,"undefined"!=typeof console?console:null)},3077:function(ee,et,ei){"use strict";var en=ei("5442"),es=ei("1093");ee.exports=function(ee,et){if(/:([^\/\.-]+)(\.{3})?:/.test(ee))throw SyntaxError("Template parameter names must be separated by either a '/', '-', or '.'.");if(null==et)return ee;var ei=ee.indexOf("?"),er=ee.indexOf("#"),eo=er<0?ee.length:er,eh=ei<0?eo:ei,ed=ee.slice(0,eh),ec={};es(ec,et);var eu=ed.replace(/:([^\/\.-]+)(\.{3})?/g,function(ee,ei,en){return(delete ec[ei],null==et[ei])?ee:en?et[ei]:encodeURIComponent(String(et[ei]))}),ep=eu.indexOf("?"),ef=eu.indexOf("#"),eg=ef<0?eu.length:ef,em=ep<0?eg:ep,ey=eu.slice(0,em);ei>=0&&(ey+=ee.slice(ei,eo)),ep>=0&&(ey+=(ei<0?"?":"&")+eu.slice(ep,eg));var eb=en(ec);return eb&&(ey+=(ei<0&&ep<0?"?":"&")+eb),er>=0&&(ey+=ee.slice(er)),ef>=0&&(ey+=(er<0?"":"&")+eu.slice(ef)),ey}},7530:function(ee,et,ei){"use strict";var en=ei("2487");ee.exports=function(ee){var et=en(ee),ei=Object.keys(et.params),es=[],er=RegExp("^"+et.path.replace(/:([^\/.-]+)(\.{3}|\.(?!\.)|-)?|[\\^$*+.()|\[\]{}]/g,function(ee,et,ei){return null==et?"\\"+ee:(es.push({k:et,r:"..."===ei}),"..."===ei)?"(.*)":"."===ei?"([^/]+)\\.":"([^/]+)"+(ei||"")})+"$");return function(ee){for(var en=0;en<ei.length;en++)if(et.params[ei[en]]!==ee.params[ei[en]])return!1;if(!es.length)return er.test(ee.path);var eo=er.exec(ee.path);if(null==eo)return!1;for(var en=0;en<es.length;en++)ee.params[es[en].k]=es[en].r?eo[en+1]:decodeURIComponent(eo[en+1]);return!0}}},2487:function(ee,et,ei){"use strict";var en=ei("537");ee.exports=function(ee){var et=ee.indexOf("?"),ei=ee.indexOf("#"),es=ei<0?ee.length:ei,er=et<0?es:et,eo=ee.slice(0,er).replace(/\/{2,}/g,"/");return eo?("/"!==eo[0]&&(eo="/"+eo),eo.length>1&&"/"===eo[eo.length-1]&&(eo=eo.slice(0,-1))):eo="/",{path:eo,params:et<0?{}:en(ee.slice(et+1,es))}}},6117:function(ee,et,ei){"use strict";var en=function(ee){if(!(this instanceof en))throw Error("Promise must be called with 'new'.");if("function"!=typeof ee)throw TypeError("executor must be a function.");var et=this,ei=[],es=[],er=ec(ei,!0),eo=ec(es,!1),eh=et._instance={resolvers:ei,rejectors:es},ed="function"==typeof setImmediate?setImmediate:setTimeout;function ec(ee,en){return function er(ec){var ep;try{if(en&&null!=ec&&("object"==typeof ec||"function"==typeof ec)&&"function"==typeof(ep=ec.then)){if(ec===et)throw TypeError("Promise can't be resolved with itself.");eu(ep.bind(ec))}else ed(function(){en||0!==ee.length||console.error("Possible unhandled promise rejection:",ec);for(var et=0;et<ee.length;et++)ee[et](ec);ei.length=0,es.length=0,eh.state=en,eh.retry=function(){er(ec)}})}catch(ee){eo(ee)}}}function eu(ee){var et=0;function ei(ee){return function(ei){et++>0||ee(ei)}}var en=ei(eo);try{ee(ei(er),en)}catch(ee){en(ee)}}eu(ee)};en.prototype.then=function(ee,et){var ei,es,er=this,eo=er._instance;function eh(ee,et,en,er){et.push(function(et){if("function"!=typeof ee)en(et);else try{ei(ee(et))}catch(ee){es&&es(ee)}}),"function"==typeof eo.retry&&er===eo.state&&eo.retry()}var ed=new en(function(ee,et){ei=ee,es=et});return eh(ee,eo.resolvers,ei,!0),eh(et,eo.rejectors,es,!1),ed},en.prototype.catch=function(ee){return this.then(null,ee)},en.prototype.finally=function(ee){return this.then(function(et){return en.resolve(ee()).then(function(){return et})},function(et){return en.resolve(ee()).then(function(){return en.reject(et)})})},en.resolve=function(ee){return ee instanceof en?ee:new en(function(et){et(ee)})},en.reject=function(ee){return new en(function(et,ei){ei(ee)})},en.all=function(ee){return new en(function(et,ei){var en=ee.length,es=0,er=[];if(0===ee.length)et([]);else for(var eo=0;eo<ee.length;eo++)!function(eo){function eh(ee){es++,er[eo]=ee,es===en&&et(er)}null!=ee[eo]&&("object"==typeof ee[eo]||"function"==typeof ee[eo])&&"function"==typeof ee[eo].then?ee[eo].then(eh,ei):eh(ee[eo])}(eo)})},en.race=function(ee){return new en(function(et,ei){for(var en=0;en<ee.length;en++)ee[en].then(et,ei)})},ee.exports=en},2417:function(ee,et,ei){"use strict";var en=ei("6117");"undefined"!=typeof window?(void 0===window.Promise?window.Promise=en:window.Promise.prototype.finally||(window.Promise.prototype.finally=en.prototype.finally),ee.exports=window.Promise):void 0!==ei.g?(void 0===ei.g.Promise?ei.g.Promise=en:ei.g.Promise.prototype.finally||(ei.g.Promise.prototype.finally=en.prototype.finally),ee.exports=ei.g.Promise):ee.exports=en},5442:function(ee,et,ei){"use strict";ee.exports=function(ee){if("[object Object]"!==Object.prototype.toString.call(ee))return"";var et=[];for(var ei in ee)en(ei,ee[ei]);return et.join("&");function en(ee,ei){if(Array.isArray(ei))for(var es=0;es<ei.length;es++)en(ee+"["+es+"]",ei[es]);else if("[object Object]"===Object.prototype.toString.call(ei))for(var es in ei)en(ee+"["+es+"]",ei[es]);else et.push(encodeURIComponent(ee)+(null!=ei&&""!==ei?"="+encodeURIComponent(ei):""))}}},537:function(ee,et,ei){"use strict";function en(ee){try{return decodeURIComponent(ee)}catch(et){return ee}}ee.exports=function(ee){if(""===ee||null==ee)return{};"?"===ee.charAt(0)&&(ee=ee.slice(1));for(var et=ee.split("&"),ei={},es={},er=0;er<et.length;er++){var eo=et[er].split("="),eh=en(eo[0]),ed=2===eo.length?en(eo[1]):"";"true"===ed?ed=!0:"false"===ed&&(ed=!1);var ec=eh.split(/\]\[?|\[/),eu=es;eh.indexOf("[")>-1&&ec.pop();for(var ep=0;ep<ec.length;ep++){var ef=ec[ep],eg=ec[ep+1],em=""==eg||!isNaN(parseInt(eg,10));if(""===ef){var eh=ec.slice(0,ep).join();null==ei[eh]&&(ei[eh]=Array.isArray(eu)?eu.length:0),ef=ei[eh]++}else if("__proto__"===ef)break;if(ep===ec.length-1)eu[ef]=ed;else{var ey=Object.getOwnPropertyDescriptor(eu,ef);null!=ey&&(ey=ey.value),null==ey&&(eu[ef]=ey=em?[]:{}),eu=ey}}}return es}},9619:function(ee,et,ei){"use strict";ee.exports=ei("1662")("undefined"!=typeof window?window:null)},661:function(ee,et,ei){"use strict";var en=ei("9534"),es=ei("2429");ee.exports=function(){var ee=es.apply(0,arguments);return ee.tag="[",ee.children=en.normalizeChildren(ee.children),ee}},6312:function(ee,et,ei){"use strict";var en=ei("9534"),es=ei("2429"),er=ei("9943"),eo=/(?:(^|#|\.)([^#\.\[\]]+))|(\[(.+?)(?:\s*=\s*("|'|)((?:\\["'\]]|.)*?)\5)?\])/g,eh={};function ed(ee){for(var et in ee)if(er.call(ee,et))return!1;return!0}function ec(ee){for(var et,ei="div",en=[],es={};et=eo.exec(ee);){var er=et[1],ed=et[2];if(""===er&&""!==ed)ei=ed;else if("#"===er)es.id=ed;else if("."===er)en.push(ed);else if("["===et[3][0]){var ec=et[6];ec&&(ec=ec.replace(/\\(["'])/g,"$1").replace(/\\\\/g,"\\")),"class"===et[4]?en.push(ec):es[et[4]]=""===ec?ec:ec||!0}}return en.length>0&&(es.className=en.join(" ")),eh[ee]={tag:ei,attrs:es}}function eu(ee,et){var ei=et.attrs,en=er.call(ei,"class"),es=en?ei.class:ei.className;if(et.tag=ee.tag,et.attrs={},!ed(ee.attrs)&&!ed(ei)){var eo={};for(var eh in ei)er.call(ei,eh)&&(eo[eh]=ei[eh]);ei=eo}for(var eh in ee.attrs)er.call(ee.attrs,eh)&&"className"!==eh&&!er.call(ei,eh)&&(ei[eh]=ee.attrs[eh]);for(var eh in(null!=es||null!=ee.attrs.className)&&(ei.className=null!=es?null!=ee.attrs.className?String(ee.attrs.className)+" "+String(es):es:null!=ee.attrs.className?ee.attrs.className:null),en&&(ei.class=null),ei)if(er.call(ei,eh)&&"key"!==eh){et.attrs=ei;break}return et}function ep(ee){if(null==ee||"string"!=typeof ee&&"function"!=typeof ee&&"function"!=typeof ee.view)throw Error("The selector must be either a string or a component.");var et=es.apply(1,arguments);return"string"==typeof ee&&(et.children=en.normalizeChildren(et.children),"["!==ee)?eu(eh[ee]||ec(ee),et):(et.tag=ee,et)}ee.exports=ep},2429:function(ee,et,ei){"use strict";var en=ei("9534");ee.exports=function(){var ee,et=arguments[this],ei=this+1;if(null==et?et={}:("object"!=typeof et||null!=et.tag||Array.isArray(et))&&(et={},ei=this),arguments.length===ei+1)ee=arguments[ei],Array.isArray(ee)||(ee=[ee]);else for(ee=[];ei<arguments.length;)ee.push(arguments[ei++]);return en("",et.key,et,ee)}},1662:function(ee,et,ei){"use strict";var en=ei("9534");ee.exports=function(ee){var et,ei,es=ee&&ee.document,er={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"};function eo(ee){return ee.attrs&&ee.attrs.xmlns||er[ee.tag]}function eh(ee,et){if(ee.state!==et)throw Error("'vnode.state' must not be modified.")}function ed(ee){var et=ee.state;try{return this.apply(et,arguments)}finally{eh(ee,et)}}function ec(){try{return es.activeElement}catch(ee){return null}}function eu(ee,et,ei,en,es,er,eo){for(var eh=ei;eh<en;eh++){var ed=et[eh];null!=ed&&ep(ee,ed,es,eo,er)}}function ep(ee,et,ei,en,es){var er=et.tag;if("string"==typeof er)switch(et.state={},null!=et.attrs&&e3(et.attrs,et,ei),er){case"#":ef(ee,et,es);break;case"<":em(ee,et,en,es);break;case"[":ey(ee,et,ei,en,es);break;default:eb(ee,et,ei,en,es)}else eA(ee,et,ei,en,es)}function ef(ee,et,ei){et.dom=es.createTextNode(et.children),eI(ee,et.dom,ei)}var eg={caption:"table",thead:"table",tbody:"table",tfoot:"table",tr:"tbody",th:"tr",td:"tr",colgroup:"table",col:"colgroup"};function em(ee,et,ei,en){var er,eo=es.createElement(eg[(et.children.match(/^\s*?<(\w+)/im)||[])[1]]||"div");"http://www.w3.org/2000/svg"===ei?(eo.innerHTML='<svg xmlns="http://www.w3.org/2000/svg">'+et.children+"</svg>",eo=eo.firstChild):eo.innerHTML=et.children,et.dom=eo.firstChild,et.domSize=eo.childNodes.length,et.instance=[];for(var eh=es.createDocumentFragment();er=eo.firstChild;)et.instance.push(er),eh.appendChild(er);eI(ee,eh,en)}function ey(ee,et,ei,en,er){var eo=es.createDocumentFragment();if(null!=et.children){var eh=et.children;eu(eo,eh,0,eh.length,ei,null,en)}et.dom=eo.firstChild,et.domSize=eo.childNodes.length,eI(ee,eo,er)}function eb(ee,et,ei,en,er){var eh=et.tag,ed=et.attrs,ec=ed&&ed.is,ep=(en=eo(et)||en)?ec?es.createElementNS(en,eh,{is:ec}):es.createElementNS(en,eh):ec?es.createElement(eh,{is:ec}):es.createElement(eh);if(et.dom=ep,null!=ed&&eW(et,ed,en),eI(ee,ep,er),!eF(et)&&null!=et.children){var ef=et.children;eu(ep,ef,0,ef.length,ei,null,en),"select"===et.tag&&null!=ed&&eq(et,ed)}}function e_(ee,et){var ei;if("function"==typeof ee.tag.view){if(ee.state=Object.create(ee.tag),null!=(ei=ee.state.view).$$reentrantLock$$)return;ei.$$reentrantLock$$=!0}else{if(ee.state=void 0,null!=(ei=ee.tag).$$reentrantLock$$)return;ei.$$reentrantLock$$=!0,ee.state=null!=ee.tag.prototype&&"function"==typeof ee.tag.prototype.view?new ee.tag(ee):ee.tag(ee)}if(e3(ee.state,ee,et),null!=ee.attrs&&e3(ee.attrs,ee,et),ee.instance=en.normalize(ed.call(ee.state.view,ee)),ee.instance===ee)throw Error("A view cannot return the vnode it received as argument");ei.$$reentrantLock$$=null}function eA(ee,et,ei,en,es){e_(et,ei),null!=et.instance?(ep(ee,et.instance,ei,en,es),et.dom=et.instance.dom,et.domSize=null!=et.dom?et.instance.domSize:0):et.domSize=0}function ew(ee,et,ei,en,es,er){if(et!==ei&&(null!=et||null!=ei)){if(null==et||0===et.length)eu(ee,ei,0,ei.length,en,es,er);else if(null==ei||0===ei.length)eB(ee,et,0,et.length);else{var eo=null!=et[0]&&null!=et[0].key,eh=null!=ei[0]&&null!=ei[0].key,ed=0,ec=0;if(!eo)for(;ec<et.length&&null==et[ec];)ec++;if(!eh)for(;ed<ei.length&&null==ei[ed];)ed++;if(eo!==eh)eB(ee,et,ec,et.length),eu(ee,ei,ed,ei.length,en,es,er);else if(eh){for(var ef,eg,em,ey,eb,e_,eA=et.length-1,ew=ei.length-1;eA>=ec&&ew>=ed&&(ey=et[eA],eb=ei[ew],ey.key===eb.key);)ey!==eb&&ek(ee,ey,eb,en,es,er),null!=eb.dom&&(es=eb.dom),eA--,ew--;for(;eA>=ec&&ew>=ed&&(eg=et[ec],em=ei[ed],eg.key===em.key);)ec++,ed++,eg!==em&&ek(ee,eg,em,en,eL(et,ec,es),er);for(;eA>=ec&&ew>=ed&&ed!==ew&&eg.key===eb.key&&ey.key===em.key;)eR(ee,ey,e_=eL(et,ec,es)),ey!==em&&ek(ee,ey,em,en,e_,er),++ed<=--ew&&eR(ee,eg,es),eg!==eb&&ek(ee,eg,eb,en,es,er),null!=eb.dom&&(es=eb.dom),ec++,ey=et[--eA],eb=ei[ew],eg=et[ec],em=ei[ed];for(;eA>=ec&&ew>=ed&&ey.key===eb.key;)ey!==eb&&ek(ee,ey,eb,en,es,er),null!=eb.dom&&(es=eb.dom),eA--,ew--,ey=et[eA],eb=ei[ew];if(ed>ew)eB(ee,et,ec,eA+1);else if(ec>eA)eu(ee,ei,ed,ew+1,en,es,er);else{var ef,eC,eE=es,ex=ew-ed+1,eS=Array(ex),eM=0,eO=0,eD=2147483647,eI=0;for(eO=0;eO<ex;eO++)eS[eO]=-1;for(eO=ew;eO>=ed;eO--){null==ef&&(ef=eT(et,ec,eA+1));var eF=ef[(eb=ei[eO]).key];null!=eF&&(eD=eF<eD?eF:-1,eS[eO-ed]=eF,ey=et[eF],et[eF]=null,ey!==eb&&ek(ee,ey,eb,en,es,er),null!=eb.dom&&(es=eb.dom),eI++)}if(es=eE,eI!==eA-ec+1&&eB(ee,et,ec,eA+1),0===eI)eu(ee,ei,ed,ew+1,en,es,er);else if(-1===eD)for(eM=(eC=eP(eS)).length-1,eO=ew;eO>=ed;eO--)em=ei[eO],-1===eS[eO-ed]?ep(ee,em,en,er,es):eC[eM]===eO-ed?eM--:eR(ee,em,es),null!=em.dom&&(es=ei[eO].dom);else for(eO=ew;eO>=ed;eO--)em=ei[eO],-1===eS[eO-ed]&&ep(ee,em,en,er,es),null!=em.dom&&(es=ei[eO].dom)}}else{var e$=et.length<ei.length?et.length:ei.length;for(ed=ed<ec?ed:ec;ed<e$;ed++)(eg=et[ed])!==(em=ei[ed])&&(null!=eg||null!=em)&&(null==eg?ep(ee,em,en,er,eL(et,ed+1,es)):null==em?eN(ee,eg):ek(ee,eg,em,en,eL(et,ed+1,es),er));et.length>e$&&eB(ee,et,ed,et.length),ei.length>e$&&eu(ee,ei,ed,ei.length,en,es,er)}}}}function ek(ee,et,ei,en,es,er){var eo=et.tag;if(eo===ei.tag){if(ei.state=et.state,ei.events=et.events,e4(ei,et))return;if("string"==typeof eo)switch(null!=ei.attrs&&e5(ei.attrs,ei,en),eo){case"#":eC(et,ei);break;case"<":eE(ee,et,ei,er,es);break;case"[":ex(ee,et,ei,en,es,er);break;default:eS(et,ei,en,er)}else eM(ee,et,ei,en,es,er)}else eN(ee,et),ep(ee,ei,en,er,es)}function eC(ee,et){ee.children.toString()!==et.children.toString()&&(ee.dom.nodeValue=et.children),et.dom=ee.dom}function eE(ee,et,ei,en,es){et.children!==ei.children?(e$(ee,et),em(ee,ei,en,es)):(ei.dom=et.dom,ei.domSize=et.domSize,ei.instance=et.instance)}function ex(ee,et,ei,en,es,er){ew(ee,et.children,ei.children,en,es,er);var eo=0,eh=ei.children;if(ei.dom=null,null!=eh){for(var ed=0;ed<eh.length;ed++){var ec=eh[ed];null!=ec&&null!=ec.dom&&(null==ei.dom&&(ei.dom=ec.dom),eo+=ec.domSize||1)}1!==eo&&(ei.domSize=eo)}}function eS(ee,et,ei,en){var es=et.dom=ee.dom;en=eo(et)||en,"textarea"===et.tag&&null==et.attrs&&(et.attrs={}),eV(et,ee.attrs,et.attrs,en),eF(et)||ew(es,ee.children,et.children,ei,null,en)}function eM(ee,et,ei,es,er,eo){if(ei.instance=en.normalize(ed.call(ei.state.view,ei)),ei.instance===ei)throw Error("A view cannot return the vnode it received as argument");e5(ei.state,ei,es),null!=ei.attrs&&e5(ei.attrs,ei,es),null!=ei.instance?(null==et.instance?ep(ee,ei.instance,es,eo,er):ek(ee,et.instance,ei.instance,es,er,eo),ei.dom=ei.instance.dom,ei.domSize=ei.instance.domSize):null!=et.instance?(eN(ee,et.instance),ei.dom=void 0,ei.domSize=0):(ei.dom=et.dom,ei.domSize=et.domSize)}function eT(ee,et,ei){for(var en=Object.create(null);et<ei;et++){var es=ee[et];if(null!=es){var er=es.key;null!=er&&(en[er]=et)}}return en}var eO=[];function eP(ee){for(var et=[0],ei=0,en=0,es=0,er=eO.length=ee.length,es=0;es<er;es++)eO[es]=ee[es];for(var es=0;es<er;++es)if(-1!==ee[es]){var eo=et[et.length-1];if(ee[eo]<ee[es]){eO[es]=eo,et.push(es);continue}for(ei=0,en=et.length-1;ei<en;){var eh=(ei>>>1)+(en>>>1)+(ei&en&1);ee[et[eh]]<ee[es]?ei=eh+1:en=eh}ee[es]<ee[et[ei]]&&(ei>0&&(eO[es]=et[ei-1]),et[ei]=es)}for(ei=et.length,en=et[ei-1];ei-- >0;)et[ei]=en,en=eO[en];return eO.length=0,et}function eL(ee,et,ei){for(;et<ee.length;et++)if(null!=ee[et]&&null!=ee[et].dom)return ee[et].dom;return ei}function eR(ee,et,ei){var en=es.createDocumentFragment();eD(ee,en,et),eI(ee,en,ei)}function eD(ee,et,ei){for(;null!=ei.dom&&ei.dom.parentNode===ee;){if("string"!=typeof ei.tag){if(null!=(ei=ei.instance))continue}else if("<"===ei.tag)for(var en=0;en<ei.instance.length;en++)et.appendChild(ei.instance[en]);else if("["!==ei.tag)et.appendChild(ei.dom);else if(1===ei.children.length){if(null!=(ei=ei.children[0]))continue}else for(var en=0;en<ei.children.length;en++){var es=ei.children[en];null!=es&&eD(ee,et,es)}break}}function eI(ee,et,ei){null!=ei?ee.insertBefore(et,ei):ee.appendChild(et)}function eF(ee){if(null==ee.attrs||null==ee.attrs.contenteditable&&null==ee.attrs.contentEditable)return!1;var et=ee.children;if(null!=et&&1===et.length&&"<"===et[0].tag){var ei=et[0].children;ee.dom.innerHTML!==ei&&(ee.dom.innerHTML=ei)}else if(null!=et&&0!==et.length)throw Error("Child node of a contenteditable must be trusted.");return!0}function eB(ee,et,ei,en){for(var es=ei;es<en;es++){var er=et[es];null!=er&&eN(ee,er)}}function eN(ee,et){var ei,en,es=0,er=et.state;if("string"!=typeof et.tag&&"function"==typeof et.state.onbeforeremove){var eo=ed.call(et.state.onbeforeremove,et);null!=eo&&"function"==typeof eo.then&&(es=1,ei=eo)}if(et.attrs&&"function"==typeof et.attrs.onbeforeremove){var eo=ed.call(et.attrs.onbeforeremove,et);null!=eo&&"function"==typeof eo.then&&(es|=2,en=eo)}if(eh(et,er),es){if(null!=ei){var ec=function(){!(1&es)||(es&=2)||eu()};ei.then(ec,ec)}if(null!=en){var ec=function(){!(2&es)||(es&=1)||eu()};en.then(ec,ec)}}else eH(et),ej(ee,et);function eu(){eh(et,er),eH(et),ej(ee,et)}}function e$(ee,et){for(var ei=0;ei<et.instance.length;ei++)ee.removeChild(et.instance[ei])}function ej(ee,et){for(;null!=et.dom&&et.dom.parentNode===ee;){if("string"!=typeof et.tag){if(null!=(et=et.instance))continue}else if("<"===et.tag)e$(ee,et);else{if("["!==et.tag&&(ee.removeChild(et.dom),!Array.isArray(et.children)))break;if(1===et.children.length){if(null!=(et=et.children[0]))continue}else for(var ei=0;ei<et.children.length;ei++){var en=et.children[ei];null!=en&&ej(ee,en)}}break}}function eH(ee){if("string"!=typeof ee.tag&&"function"==typeof ee.state.onremove&&ed.call(ee.state.onremove,ee),ee.attrs&&"function"==typeof ee.attrs.onremove&&ed.call(ee.attrs.onremove,ee),"string"!=typeof ee.tag)null!=ee.instance&&eH(ee.instance);else{var et=ee.children;if(Array.isArray(et))for(var ei=0;ei<et.length;ei++){var en=et[ei];null!=en&&eH(en)}}}function eW(ee,et,ei){"input"===ee.tag&&null!=et.type&&ee.dom.setAttribute("type",et.type);var en=null!=et&&"input"===ee.tag&&"file"===et.type;for(var es in et)ez(ee,es,null,et[es],ei,en)}function ez(ee,et,ei,en,es,er){if(!("key"===et||"is"===et||null==en||eG(et))&&(ei!==en||eX(ee,et)||"object"==typeof en)&&("type"!==et||"input"!==ee.tag)){if("o"===et[0]&&"n"===et[1])return e2(ee,et,en);if("xlink:"===et.slice(0,6))ee.dom.setAttributeNS("http://www.w3.org/1999/xlink",et.slice(6),en);else if("style"===et)eZ(ee.dom,ei,en);else if(eY(ee,et,es)){if("value"===et){if(("input"===ee.tag||"textarea"===ee.tag)&&ee.dom.value===""+en&&(er||ee.dom===ec())||"select"===ee.tag&&null!==ei&&ee.dom.value===""+en||"option"===ee.tag&&null!==ei&&ee.dom.value===""+en)return;if(er&&""+en!=""){console.error("`value` is read-only on file inputs!");return}}ee.dom[et]=en}else"boolean"==typeof en?en?ee.dom.setAttribute(et,""):ee.dom.removeAttribute(et):ee.dom.setAttribute("className"===et?"class":et,en)}}function eU(ee,et,ei,en){if(!("key"===et||"is"===et||null==ei||eG(et))){if("o"===et[0]&&"n"===et[1])e2(ee,et,void 0);else if("style"===et)eZ(ee.dom,ei,null);else if(eY(ee,et,en)&&"className"!==et&&"title"!==et&&("value"!==et||"option"!==ee.tag&&("select"!==ee.tag||-1!==ee.dom.selectedIndex||ee.dom!==ec()))&&("input"!==ee.tag||"type"!==et))ee.dom[et]=null;else{var es=et.indexOf(":");-1!==es&&(et=et.slice(es+1)),!1!==ei&&ee.dom.removeAttribute("className"===et?"class":et)}}}function eq(ee,et){if("value"in et){if(null===et.value)-1!==ee.dom.selectedIndex&&(ee.dom.value=null);else{var ei=""+et.value;(ee.dom.value!==ei||-1===ee.dom.selectedIndex)&&(ee.dom.value=ei)}}"selectedIndex"in et&&ez(ee,"selectedIndex",null,et.selectedIndex,void 0)}function eV(ee,et,ei,en){if(et&&et===ei&&console.warn("Don't reuse attrs object, use new object for every redraw, this will throw in next major"),null!=ei){"input"===ee.tag&&null!=ei.type&&ee.dom.setAttribute("type",ei.type);var es,er="input"===ee.tag&&"file"===ei.type;for(var eo in ei)ez(ee,eo,et&&et[eo],ei[eo],en,er)}if(null!=et)for(var eo in et)null!=(es=et[eo])&&(null==ei||null==ei[eo])&&eU(ee,eo,es,en)}function eX(ee,et){return"value"===et||"checked"===et||"selectedIndex"===et||"selected"===et&&ee.dom===ec()||"option"===ee.tag&&ee.dom.parentNode===es.activeElement}function eG(ee){return"oninit"===ee||"oncreate"===ee||"onupdate"===ee||"onremove"===ee||"onbeforeremove"===ee||"onbeforeupdate"===ee}function eY(ee,et,ei){return void 0===ei&&(ee.tag.indexOf("-")>-1||null!=ee.attrs&&ee.attrs.is||"href"!==et&&"list"!==et&&"form"!==et&&"width"!==et&&"height"!==et)&&et in ee.dom}var eK=/[A-Z]/g;function eQ(ee){return"-"+ee.toLowerCase()}function eJ(ee){return"-"===ee[0]&&"-"===ee[1]?ee:"cssFloat"===ee?"float":ee.replace(eK,eQ)}function eZ(ee,et,ei){if(et===ei);else if(null==ei)ee.style.cssText="";else if("object"!=typeof ei)ee.style.cssText=ei;else if(null==et||"object"!=typeof et)for(var en in ee.style.cssText="",ei){var es=ei[en];null!=es&&ee.style.setProperty(eJ(en),String(es))}else{for(var en in ei){var es=ei[en];null!=es&&(es=String(es))!==String(et[en])&&ee.style.setProperty(eJ(en),es)}for(var en in et)null!=et[en]&&null==ei[en]&&ee.style.removeProperty(eJ(en))}}function e0(){this._=et}function e2(ee,ei,en){null!=ee.events?(ee.events._=et,ee.events[ei]!==en&&(null!=en&&("function"==typeof en||"object"==typeof en)?(null==ee.events[ei]&&ee.dom.addEventListener(ei.slice(2),ee.events,!1),ee.events[ei]=en):(null!=ee.events[ei]&&ee.dom.removeEventListener(ei.slice(2),ee.events,!1),ee.events[ei]=void 0))):null!=en&&("function"==typeof en||"object"==typeof en)&&(ee.events=new e0,ee.dom.addEventListener(ei.slice(2),ee.events,!1),ee.events[ei]=en)}function e3(ee,et,ei){"function"==typeof ee.oninit&&ed.call(ee.oninit,et),"function"==typeof ee.oncreate&&ei.push(ed.bind(ee.oncreate,et))}function e5(ee,et,ei){"function"==typeof ee.onupdate&&ei.push(ed.bind(ee.onupdate,et))}function e4(ee,et){do{if(null!=ee.attrs&&"function"==typeof ee.attrs.onbeforeupdate){var ei=ed.call(ee.attrs.onbeforeupdate,ee,et);if(void 0!==ei&&!ei)break}if("string"!=typeof ee.tag&&"function"==typeof ee.state.onbeforeupdate){var ei=ed.call(ee.state.onbeforeupdate,ee,et);if(void 0!==ei&&!ei)break}return!1}while(!1);return ee.dom=et.dom,ee.domSize=et.domSize,ee.instance=et.instance,ee.attrs=et.attrs,ee.children=et.children,ee.text=et.text,!0}return e0.prototype=Object.create(null),e0.prototype.handleEvent=function(ee){var et,ei=this["on"+ee.type];"function"==typeof ei?et=ei.call(ee.currentTarget,ee):"function"==typeof ei.handleEvent&&ei.handleEvent(ee),this._&&!1!==ee.redraw&&(0,this._)(),!1===et&&(ee.preventDefault(),ee.stopPropagation())},function(ee,es,er){if(!ee)throw TypeError("DOM element being rendered to does not exist.");if(null!=ei&&ee.contains(ei))throw TypeError("Node is currently being rendered to and thus is locked.");var eo=et,eh=ei,ed=[],eu=ec(),ep=ee.namespaceURI;ei=ee,et="function"==typeof er?er:void 0;try{null==ee.vnodes&&(ee.textContent=""),es=en.normalizeChildren(Array.isArray(es)?es:[es]),ew(ee,ee.vnodes,es,ed,null,"http://www.w3.org/1999/xhtml"===ep?void 0:ep),ee.vnodes=es,null!=eu&&ec()!==eu&&"function"==typeof eu.focus&&eu.focus();for(var ef=0;ef<ed.length;ef++)ed[ef]()}finally{et=eo,ei=eh}}}},9249:function(ee,et,ei){"use strict";var en=ei("9534");ee.exports=function(ee){return null==ee&&(ee=""),en("<",void 0,void 0,ee,void 0,void 0)}},9534:function(ee,et,ei){"use strict";function en(ee,et,ei,en,es,er){return{tag:ee,key:et,attrs:ei,children:en,text:es,dom:er,domSize:void 0,state:void 0,events:void 0,instance:void 0}}en.normalize=function(ee){return Array.isArray(ee)?en("[",void 0,void 0,en.normalizeChildren(ee),void 0,void 0):null==ee||"boolean"==typeof ee?null:"object"==typeof ee?ee:en("#",void 0,void 0,String(ee),void 0,void 0)},en.normalizeChildren=function(ee){var et=[];if(ee.length){for(var ei=null!=ee[0]&&null!=ee[0].key,es=1;es<ee.length;es++)if((null!=ee[es]&&null!=ee[es].key)!==ei)throw TypeError(ei&&(null!=ee[es]||"boolean"==typeof ee[es])?"In fragments, vnodes must either all have keys or none have keys. You may wish to consider using an explicit keyed empty fragment, m.fragment({key: ...}), instead of a hole.":"In fragments, vnodes must either all have keys or none have keys.");for(var es=0;es<ee.length;es++)et[es]=en.normalize(ee[es])}return et},ee.exports=en},478:function(ee,et,ei){"use strict";var en=ei("2417"),es=ei("2915");ee.exports=ei("7564")("undefined"!=typeof window?window:null,en,es.redraw)},7564:function(ee,et,ei){"use strict";var en=ei("3077"),es=ei("9943");ee.exports=function(ee,et,ei){var er=0;function eo(ee){return new et(ee)}function eh(ee){return function(es,er){"string"!=typeof es?(er=es,es=es.url):null==er&&(er={});var eh=new et(function(et,ei){ee(en(es,er.params),er,function(ee){if("function"==typeof er.type){if(Array.isArray(ee))for(var ei=0;ei<ee.length;ei++)ee[ei]=new er.type(ee[ei]);else ee=new er.type(ee)}et(ee)},ei)});if(!0===er.background)return eh;var ed=0;function ec(){0==--ed&&"function"==typeof ei&&ei()}return eu(eh);function eu(ee){var et=ee.then;return ee.constructor=eo,ee.then=function(){ed++;var ei=et.apply(ee,arguments);return ei.then(ec,function(ee){if(ec(),0===ed)throw ee}),eu(ei)},ee}}}function ed(ee,et){for(var ei in ee.headers)if(es.call(ee.headers,ei)&&ei.toLowerCase()===et)return!0;return!1}return eo.prototype=et.prototype,eo.__proto__=et,{request:eh(function(et,ei,en,er){var eo,eh=null!=ei.method?ei.method.toUpperCase():"GET",ec=ei.body,eu=(null==ei.serialize||ei.serialize===JSON.serialize)&&!(ec instanceof ee.FormData||ec instanceof ee.URLSearchParams),ep=ei.responseType||("function"==typeof ei.extract?"":"json"),ef=new ee.XMLHttpRequest,eg=!1,em=!1,ey=ef,eb=ef.abort;for(var e_ in ef.abort=function(){eg=!0,eb.call(this)},ef.open(eh,et,!1!==ei.async,"string"==typeof ei.user?ei.user:void 0,"string"==typeof ei.password?ei.password:void 0),eu&&null!=ec&&!ed(ei,"content-type")&&ef.setRequestHeader("Content-Type","application/json; charset=utf-8"),"function"==typeof ei.deserialize||ed(ei,"accept")||ef.setRequestHeader("Accept","application/json, text/*"),ei.withCredentials&&(ef.withCredentials=ei.withCredentials),ei.timeout&&(ef.timeout=ei.timeout),ef.responseType=ep,ei.headers)es.call(ei.headers,e_)&&ef.setRequestHeader(e_,ei.headers[e_]);ef.onreadystatechange=function(ee){if(!eg&&4===ee.target.readyState)try{var es,eo=ee.target.status>=200&&ee.target.status<300||304===ee.target.status||/^file:\/\//i.test(et),eh=ee.target.response;if("json"===ep){if(!ee.target.responseType&&"function"!=typeof ei.extract)try{eh=JSON.parse(ee.target.responseText)}catch(ee){eh=null}}else ep&&"text"!==ep||null!=eh||(eh=ee.target.responseText);if("function"==typeof ei.extract?(eh=ei.extract(ee.target,ei),eo=!0):"function"==typeof ei.deserialize&&(eh=ei.deserialize(eh)),eo)en(eh);else{var ed=function(){try{es=ee.target.responseText}catch(ee){es=eh}var et=Error(es);et.code=ee.target.status,et.response=eh,er(et)};0===ef.status?setTimeout(function(){em||ed()}):ed()}}catch(ee){er(ee)}},ef.ontimeout=function(ee){em=!0;var et=Error("Request timed out");et.code=ee.target.status,er(et)},"function"==typeof ei.config&&(ef=ei.config(ef,ei,et)||ef)!==ey&&(eo=ef.abort,ef.abort=function(){eg=!0,eo.call(this)}),null==ec?ef.send():"function"==typeof ei.serialize?ef.send(ei.serialize(ec)):ec instanceof ee.FormData||ec instanceof ee.URLSearchParams?ef.send(ec):ef.send(JSON.stringify(ec))}),jsonp:eh(function(et,ei,en,es){var eo=ei.callbackName||"_mithril_"+Math.round(1e16*Math.random())+"_"+er++,eh=ee.document.createElement("script");ee[eo]=function(et){delete ee[eo],eh.parentNode.removeChild(eh),en(et)},eh.onerror=function(){delete ee[eo],eh.parentNode.removeChild(eh),es(Error("JSONP request failed"))},eh.src=et+(0>et.indexOf("?")?"?":"&")+encodeURIComponent(ei.callbackKey||"callback")+"="+encodeURIComponent(eo),ee.document.documentElement.appendChild(eh)})}}},9089:function(ee,et,ei){"use strict";var en=ei("2915");ee.exports=ei("8160")("undefined"!=typeof window?window:null,en)},1093:function(ee,et,ei){"use strict";var en=ei("9943");ee.exports=Object.assign||function(ee,et){for(var ei in et)en.call(et,ei)&&(ee[ei]=et[ei])}},4674:function(ee,et,ei){"use strict";var en=ei("9943"),es=RegExp("^(?:key|oninit|oncreate|onbeforeupdate|onupdate|onbeforeremove|onremove)$");ee.exports=function(ee,et){var ei={};if(null!=et)for(var er in ee)en.call(ee,er)&&!es.test(er)&&0>et.indexOf(er)&&(ei[er]=ee[er]);else for(var er in ee)en.call(ee,er)&&!es.test(er)&&(ei[er]=ee[er]);return ei}},9943:function(ee,et,ei){"use strict";ee.exports=({}).hasOwnProperty},7690:function(module,exports,__webpack_require__){module=__webpack_require__.nmd(module),function(ee,et){"object"==typeof exports&&"object"==typeof module?module.exports=et():"function"==typeof define&&define.amd?define("pdfjs-dist/build/pdf",[],et):"object"==typeof exports?exports["pdfjs-dist/build/pdf"]=et():ee["pdfjs-dist/build/pdf"]=ee.pdfjsLib=et()}(globalThis,()=>(()=>{"use strict";var __webpack_modules__=[,(ee,et)=>{Object.defineProperty(et,"__esModule",{value:!0}),et.VerbosityLevel=et.Util=et.UnknownErrorException=et.UnexpectedResponseException=et.TextRenderingMode=et.RenderingIntentFlag=et.PromiseCapability=et.PermissionFlag=et.PasswordResponses=et.PasswordException=et.PageActionEventType=et.OPS=et.MissingPDFException=et.MAX_IMAGE_SIZE_TO_CACHE=et.LINE_FACTOR=et.LINE_DESCENT_FACTOR=et.InvalidPDFException=et.ImageKind=et.IDENTITY_MATRIX=et.FormatError=et.FeatureTest=et.FONT_IDENTITY_MATRIX=et.DocumentActionEventType=et.CMapCompressionType=et.BaseException=et.BASELINE_FACTOR=et.AnnotationType=et.AnnotationReplyType=et.AnnotationMode=et.AnnotationFlag=et.AnnotationFieldFlag=et.AnnotationEditorType=et.AnnotationEditorPrefix=et.AnnotationEditorParamsType=et.AnnotationBorderStyleType=et.AnnotationActionEventType=et.AbortException=void 0,et.assert=eB,et.bytesToString=eY,et.createValidAbsoluteUrl=e$,et.getModificationDate=tn,et.getVerbosityLevel=eR,et.info=eD,et.isArrayBuffer=te,et.isArrayEqual=tt,et.normalizeUnicode=th,et.objectFromMap=eZ,et.objectSize=eJ,et.setVerbosityLevel=eL,et.shadow=ej,et.string32=eQ,et.stringToBytes=eK,et.stringToPDFString=e8,et.stringToUTF8String=e9,et.unreachable=eF,et.utf8StringToString=e7,et.warn=eI;let ei=[1,0,0,1,0,0];et.IDENTITY_MATRIX=ei;let en=[.001,0,0,.001,0,0];et.FONT_IDENTITY_MATRIX=en;let es=1e7;et.MAX_IMAGE_SIZE_TO_CACHE=es;let er=1.35;et.LINE_FACTOR=er;let eo=.35;et.LINE_DESCENT_FACTOR=eo;let eh=eo/er;et.BASELINE_FACTOR=eh;let ed={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256};et.RenderingIntentFlag=ed;let ec={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3};et.AnnotationMode=ec;let eu="pdfjs_internal_editor_";et.AnnotationEditorPrefix=eu;let ep={DISABLE:-1,NONE:0,FREETEXT:3,STAMP:13,INK:15};et.AnnotationEditorType=ep;let ef={FREETEXT_SIZE:1,FREETEXT_COLOR:2,FREETEXT_OPACITY:3,INK_COLOR:11,INK_THICKNESS:12,INK_OPACITY:13};et.AnnotationEditorParamsType=ef;let eg={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};et.PermissionFlag=eg;let em={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};et.TextRenderingMode=em;let ey={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};et.ImageKind=ey;let eb={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};et.AnnotationType=eb;let e_={GROUP:"Group",REPLY:"R"};et.AnnotationReplyType=e_;let eA={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};et.AnnotationFlag=eA;let ew={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};et.AnnotationFieldFlag=ew;let ek={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};et.AnnotationBorderStyleType=ek;let eC={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"};et.AnnotationActionEventType=eC;let eE={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"};et.DocumentActionEventType=eE;let ex={O:"PageOpen",C:"PageClose"};et.PageActionEventType=ex;let eS={ERRORS:0,WARNINGS:1,INFOS:5};et.VerbosityLevel=eS;let eM={NONE:0,BINARY:1};et.CMapCompressionType=eM;let eT={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};et.OPS=eT;let eO={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};et.PasswordResponses=eO;let eP=eS.WARNINGS;function eL(ee){Number.isInteger(ee)&&(eP=ee)}function eR(){return eP}function eD(ee){eP>=eS.INFOS&&console.log(`Info: ${ee}`)}function eI(ee){eP>=eS.WARNINGS&&console.log(`Warning: ${ee}`)}function eF(ee){throw Error(ee)}function eB(ee,et){ee||eF(et)}function eN(ee){switch(ee?.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function e$(ee,et=null,ei=null){if(!ee)return null;try{if(ei&&"string"==typeof ee){if(ei.addDefaultProtocol&&ee.startsWith("www.")){let et=ee.match(/\./g);et?.length>=2&&(ee=`http://${ee}`)}if(ei.tryConvertEncoding)try{ee=e9(ee)}catch{}}let en=et?new URL(ee,et):new URL(ee);if(eN(en))return en}catch{}return null}function ej(ee,et,ei,en=!1){return Object.defineProperty(ee,et,{value:ei,enumerable:!en,configurable:!0,writable:!1}),ei}let eH=function(){function ee(et,ei){this.constructor===ee&&eF("Cannot initialize BaseException."),this.message=et,this.name=ei}return ee.prototype=Error(),ee.constructor=ee,ee}();et.BaseException=eH;class eW extends eH{constructor(ee,et){super(ee,"PasswordException"),this.code=et}}et.PasswordException=eW;class ez extends eH{constructor(ee,et){super(ee,"UnknownErrorException"),this.details=et}}et.UnknownErrorException=ez;class eU extends eH{constructor(ee){super(ee,"InvalidPDFException")}}et.InvalidPDFException=eU;class eq extends eH{constructor(ee){super(ee,"MissingPDFException")}}et.MissingPDFException=eq;class eV extends eH{constructor(ee,et){super(ee,"UnexpectedResponseException"),this.status=et}}et.UnexpectedResponseException=eV;class eX extends eH{constructor(ee){super(ee,"FormatError")}}et.FormatError=eX;class eG extends eH{constructor(ee){super(ee,"AbortException")}}function eY(ee){("object"!=typeof ee||ee?.length===void 0)&&eF("Invalid argument for bytesToString");let et=ee.length,ei=8192;if(et<ei)return String.fromCharCode.apply(null,ee);let en=[];for(let es=0;es<et;es+=ei){let er=Math.min(es+ei,et),eo=ee.subarray(es,er);en.push(String.fromCharCode.apply(null,eo))}return en.join("")}function eK(ee){"string"!=typeof ee&&eF("Invalid argument for stringToBytes");let et=ee.length,ei=new Uint8Array(et);for(let en=0;en<et;++en)ei[en]=255&ee.charCodeAt(en);return ei}function eQ(ee){return String.fromCharCode(ee>>24&255,ee>>16&255,ee>>8&255,255&ee)}function eJ(ee){return Object.keys(ee).length}function eZ(ee){let et=Object.create(null);for(let[ei,en]of ee)et[ei]=en;return et}function e0(){let ee=new Uint8Array(4);ee[0]=1;let et=new Uint32Array(ee.buffer,0,1);return 1===et[0]}function e2(){try{return Function(""),!0}catch{return!1}}et.AbortException=eG;class e3{static get isLittleEndian(){return ej(this,"isLittleEndian",e0())}static get isEvalSupported(){return ej(this,"isEvalSupported",e2())}static get isOffscreenCanvasSupported(){return ej(this,"isOffscreenCanvasSupported","undefined"!=typeof OffscreenCanvas)}static get platform(){return"undefined"==typeof navigator?ej(this,"platform",{isWin:!1,isMac:!1}):ej(this,"platform",{isWin:navigator.platform.includes("Win"),isMac:navigator.platform.includes("Mac")})}}et.FeatureTest=e3;let e5=[...Array(256).keys()].map(ee=>ee.toString(16).padStart(2,"0"));class e4{static makeHexColor(ee,et,ei){return`#${e5[ee]}${e5[et]}${e5[ei]}`}static scaleMinMax(ee,et){let ei;ee[0]?(ee[0]<0&&(ei=et[0],et[0]=et[1],et[1]=ei),et[0]*=ee[0],et[1]*=ee[0],ee[3]<0&&(ei=et[2],et[2]=et[3],et[3]=ei),et[2]*=ee[3],et[3]*=ee[3]):(ei=et[0],et[0]=et[2],et[2]=ei,ei=et[1],et[1]=et[3],et[3]=ei,ee[1]<0&&(ei=et[2],et[2]=et[3],et[3]=ei),et[2]*=ee[1],et[3]*=ee[1],ee[2]<0&&(ei=et[0],et[0]=et[1],et[1]=ei),et[0]*=ee[2],et[1]*=ee[2]),et[0]+=ee[4],et[1]+=ee[4],et[2]+=ee[5],et[3]+=ee[5]}static transform(ee,et){return[ee[0]*et[0]+ee[2]*et[1],ee[1]*et[0]+ee[3]*et[1],ee[0]*et[2]+ee[2]*et[3],ee[1]*et[2]+ee[3]*et[3],ee[0]*et[4]+ee[2]*et[5]+ee[4],ee[1]*et[4]+ee[3]*et[5]+ee[5]]}static applyTransform(ee,et){let ei=ee[0]*et[0]+ee[1]*et[2]+et[4],en=ee[0]*et[1]+ee[1]*et[3]+et[5];return[ei,en]}static applyInverseTransform(ee,et){let ei=et[0]*et[3]-et[1]*et[2],en=(ee[0]*et[3]-ee[1]*et[2]+et[2]*et[5]-et[4]*et[3])/ei,es=(-ee[0]*et[1]+ee[1]*et[0]+et[4]*et[1]-et[5]*et[0])/ei;return[en,es]}static getAxialAlignedBoundingBox(ee,et){let ei=this.applyTransform(ee,et),en=this.applyTransform(ee.slice(2,4),et),es=this.applyTransform([ee[0],ee[3]],et),er=this.applyTransform([ee[2],ee[1]],et);return[Math.min(ei[0],en[0],es[0],er[0]),Math.min(ei[1],en[1],es[1],er[1]),Math.max(ei[0],en[0],es[0],er[0]),Math.max(ei[1],en[1],es[1],er[1])]}static inverseTransform(ee){let et=ee[0]*ee[3]-ee[1]*ee[2];return[ee[3]/et,-ee[1]/et,-ee[2]/et,ee[0]/et,(ee[2]*ee[5]-ee[4]*ee[3])/et,(ee[4]*ee[1]-ee[5]*ee[0])/et]}static singularValueDecompose2dScale(ee){let et=[ee[0],ee[2],ee[1],ee[3]],ei=ee[0]*et[0]+ee[1]*et[2],en=ee[0]*et[1]+ee[1]*et[3],es=ee[2]*et[0]+ee[3]*et[2],er=ee[2]*et[1]+ee[3]*et[3],eo=(ei+er)/2,eh=Math.sqrt((ei+er)**2-4*(ei*er-es*en))/2,ed=eo+eh||1,ec=eo-eh||1;return[Math.sqrt(ed),Math.sqrt(ec)]}static normalizeRect(ee){let et=ee.slice(0);return ee[0]>ee[2]&&(et[0]=ee[2],et[2]=ee[0]),ee[1]>ee[3]&&(et[1]=ee[3],et[3]=ee[1]),et}static intersect(ee,et){let ei=Math.max(Math.min(ee[0],ee[2]),Math.min(et[0],et[2])),en=Math.min(Math.max(ee[0],ee[2]),Math.max(et[0],et[2]));if(ei>en)return null;let es=Math.max(Math.min(ee[1],ee[3]),Math.min(et[1],et[3])),er=Math.min(Math.max(ee[1],ee[3]),Math.max(et[1],et[3]));return es>er?null:[ei,es,en,er]}static bezierBoundingBox(ee,et,ei,en,es,er,eo,eh){let ed,ec,eu,ep,ef,eg,em,ey;let eb=[],e_=[[],[]];for(let e_=0;e_<2;++e_){if(0===e_?(ec=6*ee-12*ei+6*es,ed=-3*ee+9*ei-9*es+3*eo,eu=3*ei-3*ee):(ec=6*et-12*en+6*er,ed=-3*et+9*en-9*er+3*eh,eu=3*en-3*et),1e-12>Math.abs(ed)){if(1e-12>Math.abs(ec))continue;0<(ep=-eu/ec)&&ep<1&&eb.push(ep);continue}ey=Math.sqrt(em=ec*ec-4*eu*ed),!(em<0)&&(0<(ef=(-ec+ey)/(2*ed))&&ef<1&&eb.push(ef),0<(eg=(-ec-ey)/(2*ed))&&eg<1&&eb.push(eg))}let eA=eb.length,ew,ek=eA;for(;eA--;)ew=1-(ep=eb[eA]),e_[0][eA]=ew*ew*ew*ee+3*ew*ew*ep*ei+3*ew*ep*ep*es+ep*ep*ep*eo,e_[1][eA]=ew*ew*ew*et+3*ew*ew*ep*en+3*ew*ep*ep*er+ep*ep*ep*eh;return e_[0][ek]=ee,e_[1][ek]=et,e_[0][ek+1]=eo,e_[1][ek+1]=eh,e_[0].length=e_[1].length=ek+2,[Math.min(...e_[0]),Math.min(...e_[1]),Math.max(...e_[0]),Math.max(...e_[1])]}}et.Util=e4;let e6=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function e8(ee){if(ee[0]>="\xef"){let et;if("\xfe"===ee[0]&&"\xff"===ee[1]?et="utf-16be":"\xff"===ee[0]&&"\xfe"===ee[1]?et="utf-16le":"\xef"===ee[0]&&"\xbb"===ee[1]&&"\xbf"===ee[2]&&(et="utf-8"),et)try{let ei=new TextDecoder(et,{fatal:!0}),en=eK(ee);return ei.decode(en)}catch(ee){eI(`stringToPDFString: "${ee}".`)}}let et=[];for(let ei=0,en=ee.length;ei<en;ei++){let en=e6[ee.charCodeAt(ei)];et.push(en?String.fromCharCode(en):ee.charAt(ei))}return et.join("")}function e9(ee){return decodeURIComponent(escape(ee))}function e7(ee){return unescape(encodeURIComponent(ee))}function te(ee){return"object"==typeof ee&&ee?.byteLength!==void 0}function tt(ee,et){if(ee.length!==et.length)return!1;for(let ei=0,en=ee.length;ei<en;ei++)if(ee[ei]!==et[ei])return!1;return!0}function tn(ee=new Date){let et=[ee.getUTCFullYear().toString(),(ee.getUTCMonth()+1).toString().padStart(2,"0"),ee.getUTCDate().toString().padStart(2,"0"),ee.getUTCHours().toString().padStart(2,"0"),ee.getUTCMinutes().toString().padStart(2,"0"),ee.getUTCSeconds().toString().padStart(2,"0")];return et.join("")}class ta{#e=!1;constructor(){this.promise=new Promise((ee,et)=>{this.resolve=et=>{this.#e=!0,ee(et)},this.reject=ee=>{this.#e=!0,et(ee)}})}get settled(){return this.#e}}et.PromiseCapability=ta;let tr=null,tl=null;function th(ee){return tr||(tr=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,tl=new Map([["ﬅ","ſt"]])),ee.replaceAll(tr,(ee,et,ei)=>et?et.normalize("NFKC"):tl.get(ei))}},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{let createPDFNetworkStream;Object.defineProperty(exports,"__esModule",{value:!0}),exports.build=exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultFilterFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,exports.getDocument=getDocument,exports.version=void 0;var _util=__w_pdfjs_require__(1),_annotation_storage=__w_pdfjs_require__(3),_display_utils=__w_pdfjs_require__(6),_font_loader=__w_pdfjs_require__(9),_canvas=__w_pdfjs_require__(11),_worker_options=__w_pdfjs_require__(14),_is_node=__w_pdfjs_require__(10),_message_handler=__w_pdfjs_require__(15),_metadata=__w_pdfjs_require__(16),_optional_content_config=__w_pdfjs_require__(17),_transport_stream=__w_pdfjs_require__(18),_xfa_text=__w_pdfjs_require__(19);let DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,DELAYED_CLEANUP_TIMEOUT=5e3,DefaultCanvasFactory=_is_node.isNodeJS?__w_pdfjs_require__(20).NodeCanvasFactory:_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;let DefaultCMapReaderFactory=_is_node.isNodeJS?__w_pdfjs_require__(20).NodeCMapReaderFactory:_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;let DefaultFilterFactory=_is_node.isNodeJS?__w_pdfjs_require__(20).NodeFilterFactory:_display_utils.DOMFilterFactory;exports.DefaultFilterFactory=DefaultFilterFactory;let DefaultStandardFontDataFactory=_is_node.isNodeJS?__w_pdfjs_require__(20).NodeStandardFontDataFactory:_display_utils.DOMStandardFontDataFactory;if(exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory,_is_node.isNodeJS){let{PDFNodeStream}=__w_pdfjs_require__(21);createPDFNetworkStream=ee=>new PDFNodeStream(ee)}else{let{PDFNetworkStream}=__w_pdfjs_require__(24),{PDFFetchStream}=__w_pdfjs_require__(25);createPDFNetworkStream=ee=>(0,_display_utils.isValidFetchUrl)(ee.url)?new PDFFetchStream(ee):new PDFNetworkStream(ee)}function getDocument(ee){if("string"==typeof ee||ee instanceof URL?ee={url:ee}:(0,_util.isArrayBuffer)(ee)&&(ee={data:ee}),"object"!=typeof ee)throw Error("Invalid parameter in getDocument, need parameter object.");if(!ee.url&&!ee.data&&!ee.range)throw Error("Invalid parameter object: need either .data, .range or .url");let et=new PDFDocumentLoadingTask,{docId:ei}=et,en=ee.url?getUrlProp(ee.url):null,es=ee.data?getDataProp(ee.data):null,er=ee.httpHeaders||null,eo=!0===ee.withCredentials,eh=ee.password??null,ed=ee.range instanceof PDFDataRangeTransport?ee.range:null,ec=Number.isInteger(ee.rangeChunkSize)&&ee.rangeChunkSize>0?ee.rangeChunkSize:DEFAULT_RANGE_CHUNK_SIZE,eu=ee.worker instanceof PDFWorker?ee.worker:null,ep=ee.verbosity,ef="string"!=typeof ee.docBaseUrl||(0,_display_utils.isDataScheme)(ee.docBaseUrl)?null:ee.docBaseUrl,eg="string"==typeof ee.cMapUrl?ee.cMapUrl:null,em=!1!==ee.cMapPacked,ey=ee.CMapReaderFactory||DefaultCMapReaderFactory,eb="string"==typeof ee.standardFontDataUrl?ee.standardFontDataUrl:null,e_=ee.StandardFontDataFactory||DefaultStandardFontDataFactory,eA=!0!==ee.stopAtErrors,ew=Number.isInteger(ee.maxImageSize)&&ee.maxImageSize>-1?ee.maxImageSize:-1,ek=!1!==ee.isEvalSupported,eC="boolean"==typeof ee.isOffscreenCanvasSupported?ee.isOffscreenCanvasSupported:!_is_node.isNodeJS,eE=Number.isInteger(ee.canvasMaxAreaInBytes)?ee.canvasMaxAreaInBytes:-1,ex="boolean"==typeof ee.disableFontFace?ee.disableFontFace:_is_node.isNodeJS,eS=!0===ee.fontExtraProperties,eM=!0===ee.enableXfa,eT=ee.ownerDocument||globalThis.document,eO=!0===ee.disableRange,eP=!0===ee.disableStream,eL=!0===ee.disableAutoFetch,eR=!0===ee.pdfBug,eD=ed?ed.length:ee.length??NaN,eI="boolean"==typeof ee.useSystemFonts?ee.useSystemFonts:!_is_node.isNodeJS&&!ex,eF="boolean"==typeof ee.useWorkerFetch?ee.useWorkerFetch:ey===_display_utils.DOMCMapReaderFactory&&e_===_display_utils.DOMStandardFontDataFactory&&(0,_display_utils.isValidFetchUrl)(eg,document.baseURI)&&(0,_display_utils.isValidFetchUrl)(eb,document.baseURI),eB=ee.canvasFactory||new DefaultCanvasFactory({ownerDocument:eT}),eN=ee.filterFactory||new DefaultFilterFactory({docId:ei,ownerDocument:eT}),e$=null;(0,_util.setVerbosityLevel)(ep);let ej={canvasFactory:eB,filterFactory:eN};if(eF||(ej.cMapReaderFactory=new ey({baseUrl:eg,isCompressed:em}),ej.standardFontDataFactory=new e_({baseUrl:eb})),!eu){let ee={verbosity:ep,port:_worker_options.GlobalWorkerOptions.workerPort};eu=ee.port?PDFWorker.fromPort(ee):new PDFWorker(ee),et._worker=eu}let eH={docId:ei,apiVersion:"3.8.162",data:es,password:eh,disableAutoFetch:eL,rangeChunkSize:ec,length:eD,docBaseUrl:ef,enableXfa:eM,evaluatorOptions:{maxImageSize:ew,disableFontFace:ex,ignoreErrors:eA,isEvalSupported:ek,isOffscreenCanvasSupported:eC,canvasMaxAreaInBytes:eE,fontExtraProperties:eS,useSystemFonts:eI,cMapUrl:eF?eg:null,standardFontDataUrl:eF?eb:null}},eW={ignoreErrors:eA,isEvalSupported:ek,disableFontFace:ex,fontExtraProperties:eS,enableXfa:eM,ownerDocument:eT,disableAutoFetch:eL,pdfBug:eR,styleElement:e$};return eu.promise.then(function(){if(et.destroyed)throw Error("Loading aborted");let ee=_fetchDocument(eu,eH),eh=new Promise(function(ee){let et;ed?et=new _transport_stream.PDFDataTransportStream({length:eD,initialData:ed.initialData,progressiveDone:ed.progressiveDone,contentDispositionFilename:ed.contentDispositionFilename,disableRange:eO,disableStream:eP},ed):es||(et=createPDFNetworkStream({url:en,length:eD,httpHeaders:er,withCredentials:eo,rangeChunkSize:ec,disableRange:eO,disableStream:eP})),ee(et)});return Promise.all([ee,eh]).then(function([ee,en]){if(et.destroyed)throw Error("Loading aborted");let es=new _message_handler.MessageHandler(ei,ee,eu.port),er=new WorkerTransport(es,et,en,eW,ej);et._transport=er,es.send("Ready",null)})}).catch(et._capability.reject),et}async function _fetchDocument(ee,et){if(ee.destroyed)throw Error("Worker was destroyed");let ei=await ee.messageHandler.sendWithPromise("GetDocRequest",et,et.data?[et.data.buffer]:null);if(ee.destroyed)throw Error("Worker was destroyed");return ei}function getUrlProp(ee){if(ee instanceof URL)return ee.href;try{return new URL(ee,window.location).href}catch{if(_is_node.isNodeJS&&"string"==typeof ee)return ee}throw Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function getDataProp(ee){if(_is_node.isNodeJS&&"undefined"!=typeof Buffer&&ee instanceof Buffer)throw Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(ee instanceof Uint8Array&&ee.byteLength===ee.buffer.byteLength)return ee;if("string"==typeof ee)return(0,_util.stringToBytes)(ee);if("object"==typeof ee&&!isNaN(ee?.length)||(0,_util.isArrayBuffer)(ee))return new Uint8Array(ee);throw Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}class PDFDocumentLoadingTask{static #t=0;constructor(){this._capability=new _util.PromiseCapability,this._transport=null,this._worker=null,this.docId=`d${PDFDocumentLoadingTask.#t++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){this.destroyed=!0,await this._transport?.destroy(),this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}}exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(ee,et,ei=!1,en=null){this.length=ee,this.initialData=et,this.progressiveDone=ei,this.contentDispositionFilename=en,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=new _util.PromiseCapability}addRangeListener(ee){this._rangeListeners.push(ee)}addProgressListener(ee){this._progressListeners.push(ee)}addProgressiveReadListener(ee){this._progressiveReadListeners.push(ee)}addProgressiveDoneListener(ee){this._progressiveDoneListeners.push(ee)}onDataRange(ee,et){for(let ei of this._rangeListeners)ei(ee,et)}onDataProgress(ee,et){this._readyCapability.promise.then(()=>{for(let ei of this._progressListeners)ei(ee,et)})}onDataProgressiveRead(ee){this._readyCapability.promise.then(()=>{for(let et of this._progressiveReadListeners)et(ee)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(let ee of this._progressiveDoneListeners)ee()})}transportReady(){this._readyCapability.resolve()}requestDataRange(ee,et){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(ee,et){this._pdfInfo=ee,this._transport=et}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(ee){return this._transport.getPage(ee)}getPageIndex(ee){return this._transport.getPageIndex(ee)}getDestinations(){return this._transport.getDestinations()}getDestination(ee){return this._transport.getDestination(ee)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJavaScript(){return this._transport.getJavaScript()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(ee=!1){return this._transport.startCleanup(ee||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{#i=null;#n=!1;constructor(ee,et,ei,en=!1){this._pageIndex=ee,this._pageInfo=et,this._transport=ei,this._stats=en?new _display_utils.StatTimer:null,this._pdfBug=en,this.commonObjs=ei.commonObjs,this.objs=new PDFObjects,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:ee,rotation:et=this.rotate,offsetX:ei=0,offsetY:en=0,dontFlip:es=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:ee,rotation:et,offsetX:ei,offsetY:en,dontFlip:es})}getAnnotations({intent:ee="display"}={}){let et=this._transport.getRenderingIntent(ee);return this._transport.getAnnotations(this._pageIndex,et.renderingIntent)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){return this._transport._htmlForXfa?.children[this._pageIndex]||null}render({canvasContext:ee,viewport:et,intent:ei="display",annotationMode:en=_util.AnnotationMode.ENABLE,transform:es=null,background:er=null,optionalContentConfigPromise:eo=null,annotationCanvasMap:eh=null,pageColors:ed=null,printAnnotationStorage:ec=null}){this._stats?.time("Overall");let eu=this._transport.getRenderingIntent(ei,en,ec);this.#n=!1,this.#s(),eo||(eo=this._transport.getOptionalContentConfig());let ep=this._intentStates.get(eu.cacheKey);ep||(ep=Object.create(null),this._intentStates.set(eu.cacheKey,ep)),ep.streamReaderCancelTimeout&&(clearTimeout(ep.streamReaderCancelTimeout),ep.streamReaderCancelTimeout=null);let ef=!!(eu.renderingIntent&_util.RenderingIntentFlag.PRINT);ep.displayReadyCapability||(ep.displayReadyCapability=new _util.PromiseCapability,ep.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(eu));let eg=ee=>{ep.renderTasks.delete(em),(this._maybeCleanupAfterRender||ef)&&(this.#n=!0),this.#a(!ef),ee?(em.capability.reject(ee),this._abortOperatorList({intentState:ep,reason:ee instanceof Error?ee:Error(ee)})):em.capability.resolve(),this._stats?.timeEnd("Rendering"),this._stats?.timeEnd("Overall")},em=new InternalRenderTask({callback:eg,params:{canvasContext:ee,viewport:et,transform:es,background:er},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:eh,operatorList:ep.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!ef,pdfBug:this._pdfBug,pageColors:ed});(ep.renderTasks||=new Set).add(em);let ey=em.task;return Promise.all([ep.displayReadyCapability.promise,eo]).then(([ee,et])=>{if(this.destroyed){eg();return}this._stats?.time("Rendering"),em.initializeGraphics({transparency:ee,optionalContentConfig:et}),em.operatorListChanged()}).catch(eg),ey}getOperatorList({intent:ee="display",annotationMode:et=_util.AnnotationMode.ENABLE,printAnnotationStorage:ei=null}={}){let en;function es(){eo.operatorList.lastChunk&&(eo.opListReadCapability.resolve(eo.operatorList),eo.renderTasks.delete(en))}let er=this._transport.getRenderingIntent(ee,et,ei,!0),eo=this._intentStates.get(er.cacheKey);return eo||(eo=Object.create(null),this._intentStates.set(er.cacheKey,eo)),eo.opListReadCapability||((en=Object.create(null)).operatorListChanged=es,eo.opListReadCapability=new _util.PromiseCapability,(eo.renderTasks||=new Set).add(en),eo.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(er)),eo.opListReadCapability.promise}streamTextContent({includeMarkedContent:ee=!1,disableNormalization:et=!1}={}){let ei=100;return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:!0===ee,disableNormalization:!0===et},{highWaterMark:ei,size:ee=>ee.items.length})}getTextContent(ee={}){if(this._transport._htmlForXfa)return this.getXfa().then(ee=>_xfa_text.XfaText.textContent(ee));let et=this.streamTextContent(ee);return new Promise(function(ee,ei){function en(){es.read().then(function({value:et,done:ei}){if(ei){ee(er);return}Object.assign(er.styles,et.styles),er.items.push(...et.items),en()},ei)}let es=et.getReader(),er={items:[],styles:Object.create(null)};en()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;let ee=[];for(let et of this._intentStates.values())if(this._abortOperatorList({intentState:et,reason:Error("Page was destroyed."),force:!0}),!et.opListReadCapability)for(let ei of et.renderTasks)ee.push(ei.completed),ei.cancel();return this.objs.clear(),this.#n=!1,this.#s(),Promise.all(ee)}cleanup(ee=!1){this.#n=!0;let et=this.#a(!1);return ee&&et&&(this._stats&&=new _display_utils.StatTimer),et}#a(ee=!1){if(this.#s(),!this.#n||this.destroyed)return!1;if(ee)return this.#i=setTimeout(()=>{this.#i=null,this.#a(!1)},DELAYED_CLEANUP_TIMEOUT),!1;for(let{renderTasks:ee,operatorList:et}of this._intentStates.values())if(ee.size>0||!et.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),this.#n=!1,!0}#s(){this.#i&&(clearTimeout(this.#i),this.#i=null)}_startRenderPage(ee,et){let ei=this._intentStates.get(et);ei&&(this._stats?.timeEnd("Page Request"),ei.displayReadyCapability?.resolve(ee))}_renderPageChunk(ee,et){for(let ei=0,en=ee.length;ei<en;ei++)et.operatorList.fnArray.push(ee.fnArray[ei]),et.operatorList.argsArray.push(ee.argsArray[ei]);for(let ei of(et.operatorList.lastChunk=ee.lastChunk,et.operatorList.separateAnnots=ee.separateAnnots,et.renderTasks))ei.operatorListChanged();ee.lastChunk&&this.#a(!0)}_pumpOperatorList({renderingIntent:ee,cacheKey:et,annotationStorageSerializable:ei}){let{map:en,transfers:es}=ei,er=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:ee,cacheKey:et,annotationStorage:en},es),eo=er.getReader(),eh=this._intentStates.get(et);eh.streamReader=eo;let ed=()=>{eo.read().then(({value:ee,done:et})=>{if(et){eh.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(ee,eh),ed())},ee=>{if(eh.streamReader=null,!this._transport.destroyed){if(eh.operatorList){for(let ee of(eh.operatorList.lastChunk=!0,eh.renderTasks))ee.operatorListChanged();this.#a(!0)}if(eh.displayReadyCapability)eh.displayReadyCapability.reject(ee);else if(eh.opListReadCapability)eh.opListReadCapability.reject(ee);else throw ee}})};ed()}_abortOperatorList({intentState:ee,reason:et,force:ei=!1}){if(ee.streamReader){if(ee.streamReaderCancelTimeout&&(clearTimeout(ee.streamReaderCancelTimeout),ee.streamReaderCancelTimeout=null),!ei){if(ee.renderTasks.size>0)return;if(et instanceof _display_utils.RenderingCancelledException){let ei=RENDERING_CANCELLED_TIMEOUT;et.extraDelay>0&&et.extraDelay<1e3&&(ei+=et.extraDelay),ee.streamReaderCancelTimeout=setTimeout(()=>{ee.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:ee,reason:et,force:!0})},ei);return}}if(ee.streamReader.cancel(new _util.AbortException(et.message)).catch(()=>{}),ee.streamReader=null,!this._transport.destroyed){for(let[et,ei]of this._intentStates)if(ei===ee){this._intentStates.delete(et);break}this.cleanup()}}}get stats(){return this._stats}}exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{#r=new Set;#o=Promise.resolve();postMessage(ee,et){let ei={data:structuredClone(ee,et?{transfer:et}:null)};this.#o.then(()=>{for(let ee of this.#r)ee.call(this,ei)})}addEventListener(ee,et){this.#r.add(et)}removeEventListener(ee,et){this.#r.delete(et)}terminate(){this.#r.clear()}}exports.LoopbackPort=LoopbackPort;let PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};if(exports.PDFWorkerUtil=PDFWorkerUtil,_is_node.isNodeJS)PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if("object"==typeof document){let pdfjsFilePath=document?.currentScript?.src;pdfjsFilePath&&(PDFWorkerUtil.fallbackWorkerSrc=pdfjsFilePath.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(ee,et){let ei;try{if(!(ei=new URL(ee)).origin||"null"===ei.origin)return!1}catch{return!1}let en=new URL(et,ei);return ei.origin===en.origin},PDFWorkerUtil.createCDNWrapper=function(ee){let et=`importScripts("${ee}");`;return URL.createObjectURL(new Blob([et]))};class PDFWorker{static #l=new WeakMap;constructor({name:ee=null,port:et=null,verbosity:ei=(0,_util.getVerbosityLevel)()}={}){if(et&&PDFWorker.#l.has(et))throw Error("Cannot use more than one PDFWorker per port.");if(this.name=ee,this.destroyed=!1,this.verbosity=ei,this._readyCapability=new _util.PromiseCapability,this._port=null,this._webWorker=null,this._messageHandler=null,et){PDFWorker.#l.set(et,this),this._initializeFromPort(et);return}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(ee){this._port=ee,this._messageHandler=new _message_handler.MessageHandler("main","worker",ee),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}_initialize(){if(!PDFWorkerUtil.isWorkerDisabled&&!PDFWorker._mainThreadWorkerMessageHandler){let{workerSrc:ee}=PDFWorker;try{PDFWorkerUtil.isSameOrigin(window.location.href,ee)||(ee=PDFWorkerUtil.createCDNWrapper(new URL(ee,window.location).href));let et=new Worker(ee),ei=new _message_handler.MessageHandler("main","worker",et),en=()=>{et.removeEventListener("error",es),ei.destroy(),et.terminate(),this.destroyed?this._readyCapability.reject(Error("Worker was destroyed")):this._setupFakeWorker()},es=()=>{this._webWorker||en()};et.addEventListener("error",es),ei.on("test",ee=>{if(et.removeEventListener("error",es),this.destroyed){en();return}ee?(this._messageHandler=ei,this._port=et,this._webWorker=et,this._readyCapability.resolve(),ei.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),ei.destroy(),et.terminate())}),ei.on("ready",ee=>{if(et.removeEventListener("error",es),this.destroyed){en();return}try{er()}catch{this._setupFakeWorker()}});let er=()=>{let ee=new Uint8Array;ei.send("test",ee,[ee.buffer])};er();return}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),PDFWorker._setupFakeWorkerGlobal.then(ee=>{if(this.destroyed){this._readyCapability.reject(Error("Worker was destroyed"));return}let et=new LoopbackPort;this._port=et;let ei=`fake${PDFWorkerUtil.fakeWorkerId++}`,en=new _message_handler.MessageHandler(ei+"_worker",ei,et);ee.setup(en,et);let es=new _message_handler.MessageHandler(ei,ei+"_worker",et);this._messageHandler=es,this._readyCapability.resolve(),es.send("configure",{verbosity:this.verbosity})}).catch(ee=>{this._readyCapability.reject(Error(`Setting up fake worker failed: "${ee.message}".`))})}destroy(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),PDFWorker.#l.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(ee){if(!ee?.port)throw Error("PDFWorker.fromPort - invalid method signature.");return this.#l.has(ee.port)?this.#l.get(ee.port):new PDFWorker(ee)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(null!==PDFWorkerUtil.fallbackWorkerSrc)return _is_node.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){try{return globalThis.pdfjsWorker?.WorkerMessageHandler||null}catch{return null}}static get _setupFakeWorkerGlobal(){let loader=async()=>{let mainWorkerMessageHandler=this._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_is_node.isNodeJS){let worker=eval("require")(this.workerSrc);return worker.WorkerMessageHandler}return await (0,_display_utils.loadScript)(this.workerSrc),window.pdfjsWorker.WorkerMessageHandler};return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}}exports.PDFWorker=PDFWorker;class WorkerTransport{#h=new Map;#d=new Map;#c=new Map;constructor(ee,et,ei,en,es){this.messageHandler=ee,this.loadingTask=et,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({ownerDocument:en.ownerDocument,styleElement:en.styleElement}),this._params=en,this.canvasFactory=es.canvasFactory,this.filterFactory=es.filterFactory,this.cMapReaderFactory=es.cMapReaderFactory,this.standardFontDataFactory=es.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._passwordCapability=null,this._networkStream=ei,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=new _util.PromiseCapability,this.setupMessageHandler()}#u(ee,et=null){let ei=this.#h.get(ee);if(ei)return ei;let en=this.messageHandler.sendWithPromise(ee,et);return this.#h.set(ee,en),en}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}getRenderingIntent(ee,et=_util.AnnotationMode.ENABLE,ei=null,en=!1){let es=_util.RenderingIntentFlag.DISPLAY,er=_annotation_storage.SerializableEmpty;switch(ee){case"any":es=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":es=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${ee}`)}switch(et){case _util.AnnotationMode.DISABLE:es+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:es+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:es+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE;let eo=es&_util.RenderingIntentFlag.PRINT&&ei instanceof _annotation_storage.PrintAnnotationStorage?ei:this.annotationStorage;er=eo.serializable;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${et}`)}return en&&(es+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:es,cacheKey:`${es}_${er.hash}`,annotationStorageSerializable:er}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=new _util.PromiseCapability,this._passwordCapability&&this._passwordCapability.reject(Error("Worker was destroyed during onPassword callback"));let ee=[];for(let et of this.#d.values())ee.push(et._destroy());this.#d.clear(),this.#c.clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();let et=this.messageHandler.sendWithPromise("Terminate",null);return ee.push(et),Promise.all(ee).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),this.#h.clear(),this.filterFactory.destroy(),this._networkStream&&this._networkStream.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){let{messageHandler:ee,loadingTask:et}=this;ee.on("GetReader",(ee,et)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=ee=>{this._lastProgress={loaded:ee.loaded,total:ee.total}},et.onPull=()=>{this._fullReader.read().then(function({value:ee,done:ei}){if(ei){et.close();return}(0,_util.assert)(ee instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),et.enqueue(new Uint8Array(ee),1,[ee])}).catch(ee=>{et.error(ee)})},et.onCancel=ee=>{this._fullReader.cancel(ee),et.ready.catch(ee=>{if(!this.destroyed)throw ee})}}),ee.on("ReaderHeadersReady",ee=>{let ei=new _util.PromiseCapability,en=this._fullReader;return en.headersReady.then(()=>{en.isStreamingSupported&&en.isRangeSupported||(this._lastProgress&&et.onProgress?.(this._lastProgress),en.onProgress=ee=>{et.onProgress?.({loaded:ee.loaded,total:ee.total})}),ei.resolve({isStreamingSupported:en.isStreamingSupported,isRangeSupported:en.isRangeSupported,contentLength:en.contentLength})},ei.reject),ei.promise}),ee.on("GetRangeReader",(ee,et)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");let ei=this._networkStream.getRangeReader(ee.begin,ee.end);if(!ei){et.close();return}et.onPull=()=>{ei.read().then(function({value:ee,done:ei}){if(ei){et.close();return}(0,_util.assert)(ee instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),et.enqueue(new Uint8Array(ee),1,[ee])}).catch(ee=>{et.error(ee)})},et.onCancel=ee=>{ei.cancel(ee),et.ready.catch(ee=>{if(!this.destroyed)throw ee})}}),ee.on("GetDoc",({pdfInfo:ee})=>{this._numPages=ee.numPages,this._htmlForXfa=ee.htmlForXfa,delete ee.htmlForXfa,et._capability.resolve(new PDFDocumentProxy(ee,this))}),ee.on("DocException",function(ee){let ei;switch(ee.name){case"PasswordException":ei=new _util.PasswordException(ee.message,ee.code);break;case"InvalidPDFException":ei=new _util.InvalidPDFException(ee.message);break;case"MissingPDFException":ei=new _util.MissingPDFException(ee.message);break;case"UnexpectedResponseException":ei=new _util.UnexpectedResponseException(ee.message,ee.status);break;case"UnknownErrorException":ei=new _util.UnknownErrorException(ee.message,ee.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}et._capability.reject(ei)}),ee.on("PasswordRequest",ee=>{if(this._passwordCapability=new _util.PromiseCapability,et.onPassword){let ei=ee=>{ee instanceof Error?this._passwordCapability.reject(ee):this._passwordCapability.resolve({password:ee})};try{et.onPassword(ei,ee.code)}catch(ee){this._passwordCapability.reject(ee)}}else this._passwordCapability.reject(new _util.PasswordException(ee.message,ee.code));return this._passwordCapability.promise}),ee.on("DataLoaded",ee=>{et.onProgress?.({loaded:ee.length,total:ee.length}),this.downloadInfoCapability.resolve(ee)}),ee.on("StartRenderPage",ee=>{if(this.destroyed)return;let et=this.#d.get(ee.pageIndex);et._startRenderPage(ee.transparency,ee.cacheKey)}),ee.on("commonobj",([et,ei,en])=>{if(!this.destroyed&&!this.commonObjs.has(et))switch(ei){case"Font":let es=this._params;if("error"in en){let ee=en.error;(0,_util.warn)(`Error during font loading: ${ee}`),this.commonObjs.resolve(et,ee);break}let er=es.pdfBug&&globalThis.FontInspector?.enabled?(ee,et)=>globalThis.FontInspector.fontAdded(ee,et):null,eo=new _font_loader.FontFaceObject(en,{isEvalSupported:es.isEvalSupported,disableFontFace:es.disableFontFace,ignoreErrors:es.ignoreErrors,inspectFont:er});this.fontLoader.bind(eo).catch(ei=>ee.sendWithPromise("FontFallback",{id:et})).finally(()=>{!es.fontExtraProperties&&eo.data&&(eo.data=null),this.commonObjs.resolve(et,eo)});break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(et,en);break;default:throw Error(`Got unknown common object type ${ei}`)}}),ee.on("obj",([ee,et,ei,en])=>{if(this.destroyed)return;let es=this.#d.get(et);if(!es.objs.has(ee))switch(ei){case"Image":if(es.objs.resolve(ee,en),en){let ee;if(en.bitmap){let{width:et,height:ei}=en;ee=et*ei*4}else ee=en.data?.length||0;ee>_util.MAX_IMAGE_SIZE_TO_CACHE&&(es._maybeCleanupAfterRender=!0)}break;case"Pattern":es.objs.resolve(ee,en);break;default:throw Error(`Got unknown object type ${ei}`)}}),ee.on("DocProgress",ee=>{this.destroyed||et.onProgress?.({loaded:ee.loaded,total:ee.total})}),ee.on("FetchBuiltInCMap",ee=>this.destroyed?Promise.reject(Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(ee):Promise.reject(Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),ee.on("FetchStandardFontData",ee=>this.destroyed?Promise.reject(Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(ee):Promise.reject(Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){this.annotationStorage.size<=0&&(0,_util.warn)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");let{map:ee,transfers:et}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:ee,filename:this._fullReader?.filename??null},et).finally(()=>{this.annotationStorage.resetModified()})}getPage(ee){if(!Number.isInteger(ee)||ee<=0||ee>this._numPages)return Promise.reject(Error("Invalid page request."));let et=ee-1,ei=this.#c.get(et);if(ei)return ei;let en=this.messageHandler.sendWithPromise("GetPage",{pageIndex:et}).then(ee=>{if(this.destroyed)throw Error("Transport destroyed");let ei=new PDFPageProxy(et,ee,this,this._params.pdfBug);return this.#d.set(et,ei),ei});return this.#c.set(et,en),en}getPageIndex(ee){return"object"!=typeof ee||null===ee||!Number.isInteger(ee.num)||ee.num<0||!Number.isInteger(ee.gen)||ee.gen<0?Promise.reject(Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:ee.num,gen:ee.gen})}getAnnotations(ee,et){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:ee,intent:et})}getFieldObjects(){return this.#u("GetFieldObjects")}hasJSActions(){return this.#u("HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(ee){return"string"!=typeof ee?Promise.reject(Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:ee})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getJavaScript(){return this.messageHandler.sendWithPromise("GetJavaScript",null)}getDocJSActions(){return this.messageHandler.sendWithPromise("GetDocJSActions",null)}getPageJSActions(ee){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:ee})}getStructTree(ee){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:ee})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(ee=>new _optional_content_config.OptionalContentConfig(ee))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){let ee="GetMetadata",et=this.#h.get(ee);if(et)return et;let ei=this.messageHandler.sendWithPromise(ee,null).then(ee=>({info:ee[0],metadata:ee[1]?new _metadata.Metadata(ee[1]):null,contentDispositionFilename:this._fullReader?.filename??null,contentLength:this._fullReader?.contentLength??null}));return this.#h.set(ee,ei),ei}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(ee=!1){if(!this.destroyed){for(let ee of(await this.messageHandler.sendWithPromise("Cleanup",null),this.#d.values())){let et=ee.cleanup();if(!et)throw Error(`startCleanup: Page ${ee.pageNumber} is currently rendering.`)}this.commonObjs.clear(),ee||this.fontLoader.clear(),this.#h.clear(),this.filterFactory.destroy(!0)}}get loadingParams(){let{disableAutoFetch:ee,enableXfa:et}=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:ee,enableXfa:et})}}class PDFObjects{#p=Object.create(null);#f(ee){let et=this.#p[ee];return et||(this.#p[ee]={capability:new _util.PromiseCapability,data:null})}get(ee,et=null){if(et){let ei=this.#f(ee);return ei.capability.promise.then(()=>et(ei.data)),null}let ei=this.#p[ee];if(!ei?.capability.settled)throw Error(`Requesting object that isn't resolved yet ${ee}.`);return ei.data}has(ee){let et=this.#p[ee];return et?.capability.settled||!1}resolve(ee,et=null){let ei=this.#f(ee);ei.data=et,ei.capability.resolve()}clear(){for(let ee in this.#p){let{data:et}=this.#p[ee];et?.bitmap?.close()}this.#p=Object.create(null)}}class RenderTask{#g=null;constructor(ee){this.#g=ee,this.onContinue=null}get promise(){return this.#g.capability.promise}cancel(ee=0){this.#g.cancel(null,ee)}get separateAnnots(){let{separateAnnots:ee}=this.#g.operatorList;if(!ee)return!1;let{annotationCanvasMap:et}=this.#g;return ee.form||ee.canvas&&et?.size>0}}exports.RenderTask=RenderTask;class InternalRenderTask{static #m=new WeakSet;constructor({callback:ee,params:et,objs:ei,commonObjs:en,annotationCanvasMap:es,operatorList:er,pageIndex:eo,canvasFactory:eh,filterFactory:ed,useRequestAnimationFrame:ec=!1,pdfBug:eu=!1,pageColors:ep=null}){this.callback=ee,this.params=et,this.objs=ei,this.commonObjs=en,this.annotationCanvasMap=es,this.operatorListIdx=null,this.operatorList=er,this._pageIndex=eo,this.canvasFactory=eh,this.filterFactory=ed,this._pdfBug=eu,this.pageColors=ep,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=!0===ec&&"undefined"!=typeof window,this.cancelled=!1,this.capability=new _util.PromiseCapability,this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=et.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:ee=!1,optionalContentConfig:et}){if(this.cancelled)return;if(this._canvas){if(InternalRenderTask.#m.has(this._canvas))throw Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");InternalRenderTask.#m.add(this._canvas)}this._pdfBug&&globalThis.StepperManager?.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());let{canvasContext:ei,viewport:en,transform:es,background:er}=this.params;this.gfx=new _canvas.CanvasGraphics(ei,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:et},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:es,viewport:en,transparency:ee,background:er}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback?.()}cancel(ee=null,et=0){this.running=!1,this.cancelled=!0,this.gfx?.endDrawing(),this._canvas&&InternalRenderTask.#m.delete(this._canvas),this.callback(ee||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,et))}operatorListChanged(){if(!this.graphicsReady){this.graphicsReadyCallback||=this._continueBound;return}this.stepper?.updateOperatorList(this.operatorList),this.running||this._continue()}_continue(){this.running=!0,this.cancelled||(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){!this.cancelled&&(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(this.pageColors),this._canvas&&InternalRenderTask.#m.delete(this._canvas),this.callback())))}}let version="3.8.162";exports.version=version;let build="2c74323e3";exports.build=build},(ee,et,ei)=>{Object.defineProperty(et,"__esModule",{value:!0}),et.SerializableEmpty=et.PrintAnnotationStorage=et.AnnotationStorage=void 0;var en=ei(1),es=ei(4),er=ei(8);let eo=Object.freeze({map:null,hash:"",transfers:void 0});et.SerializableEmpty=eo;class eh{#v=!1;#y=new Map;constructor(){this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(ee,et){let ei=this.#y.get(ee);return void 0===ei?et:Object.assign(et,ei)}getRawValue(ee){return this.#y.get(ee)}remove(ee){if(this.#y.delete(ee),0===this.#y.size&&this.resetModified(),"function"==typeof this.onAnnotationEditor){for(let ee of this.#y.values())if(ee instanceof es.AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(ee,et){let ei=this.#y.get(ee),en=!1;if(void 0!==ei)for(let[ee,es]of Object.entries(et))ei[ee]!==es&&(en=!0,ei[ee]=es);else en=!0,this.#y.set(ee,et);en&&this.#b(),et instanceof es.AnnotationEditor&&"function"==typeof this.onAnnotationEditor&&this.onAnnotationEditor(et.constructor._type)}has(ee){return this.#y.has(ee)}getAll(){return this.#y.size>0?(0,en.objectFromMap)(this.#y):null}setAll(ee){for(let[et,ei]of Object.entries(ee))this.setValue(et,ei)}get size(){return this.#y.size}#b(){this.#v||(this.#v=!0,"function"==typeof this.onSetModified&&this.onSetModified())}resetModified(){this.#v&&(this.#v=!1,"function"==typeof this.onResetModified&&this.onResetModified())}get print(){return new ed(this)}get serializable(){if(0===this.#y.size)return eo;let ee=new Map,et=new er.MurmurHash3_64,ei=[];for(let[en,er]of this.#y){let eo=er instanceof es.AnnotationEditor?er.serialize():er;eo&&(ee.set(en,eo),et.update(`${en}:${JSON.stringify(eo)}`),eo.bitmap&&ei.push(eo.bitmap))}return ee.size>0?{map:ee,hash:et.hexdigest(),transfers:ei}:eo}}et.AnnotationStorage=eh;class ed extends eh{#_;constructor(ee){super();let{map:et,hash:ei,transfers:en}=ee.serializable,es=structuredClone(et,en?{transfer:en}:null);this.#_={map:es,hash:ei,transfers:en}}get print(){(0,en.unreachable)("Should not call PrintAnnotationStorage.print")}get serializable(){return this.#_}}et.PrintAnnotationStorage=ed},(ee,et,ei)=>{Object.defineProperty(et,"__esModule",{value:!0}),et.AnnotationEditor=void 0;var en=ei(5),es=ei(1);class er{#A=this.focusin.bind(this);#w=this.focusout.bind(this);#k=!1;#C=!1;#E=!1;_uiManager=null;#x=er._zIndex++;static _colorManager=new en.ColorManager;static _zIndex=1;constructor(ee){this.constructor===er&&(0,es.unreachable)("Cannot initialize AnnotationEditor."),this.parent=ee.parent,this.id=ee.id,this.width=this.height=null,this.pageIndex=ee.parent.pageIndex,this.name=ee.name,this.div=null,this._uiManager=ee.uiManager,this.annotationElementId=null;let{rotation:et,rawDims:{pageWidth:ei,pageHeight:en,pageX:eo,pageY:eh}}=this.parent.viewport;this.rotation=et,this.pageRotation=(360+et-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[ei,en],this.pageTranslation=[eo,eh];let[ed,ec]=this.parentDimensions;this.x=ee.x/ed,this.y=ee.y/ec,this.isAttachedToDOM=!1,this.deleted=!1}static get _defaultLineColor(){return(0,es.shadow)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(ee){let et=new eo({id:ee.parent.getNextId(),parent:ee.parent,uiManager:ee._uiManager});et.annotationElementId=ee.annotationElementId,et.deleted=!0,et._uiManager.addToAnnotationStorage(et)}addCommands(ee){this._uiManager.addCommands(ee)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=this.#x}setParent(ee){null!==ee&&(this.pageIndex=ee.pageIndex,this.pageDimensions=ee.pageDimensions),this.parent=ee}focusin(ee){this.#k?this.#k=!1:this.parent.setSelected(this)}focusout(ee){if(!this.isAttachedToDOM)return;let et=ee.relatedTarget;et?.closest(`#${this.id}`)||(ee.preventDefault(),this.parent?.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}dragstart(ee){let et=this.parent.div.getBoundingClientRect();this.startX=ee.clientX-et.x,this.startY=ee.clientY-et.y,ee.dataTransfer.setData("text/plain",this.id),ee.dataTransfer.effectAllowed="move"}setAt(ee,et,ei,en){let[es,er]=this.parentDimensions;[ei,en]=this.screenToPageTranslation(ei,en),this.x=(ee+ei)/es,this.y=(et+en)/er,this.div.style.left=`${100*this.x}%`,this.div.style.top=`${100*this.y}%`}translate(ee,et){let[ei,en]=this.parentDimensions;[ee,et]=this.screenToPageTranslation(ee,et),this.x+=ee/ei,this.y+=et/en,this.div.style.left=`${100*this.x}%`,this.div.style.top=`${100*this.y}%`}screenToPageTranslation(ee,et){switch(this.parentRotation){case 90:return[et,-ee];case 180:return[-ee,-et];case 270:return[-et,ee];default:return[ee,et]}}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){let{realScale:ee}=this._uiManager.viewParameters,[et,ei]=this.pageDimensions;return[et*ee,ei*ee]}setDims(ee,et){let[ei,en]=this.parentDimensions;this.div.style.width=`${100*ee/ei}%`,this.div.style.height=`${100*et/en}%`}fixDims(){let{style:ee}=this.div,{height:et,width:ei}=ee,en=ei.endsWith("%"),es=et.endsWith("%");if(en&&es)return;let[er,eo]=this.parentDimensions;en||(ee.width=`${100*parseFloat(ei)/er}%`),es||(ee.height=`${100*parseFloat(et)/eo}%`)}getInitialTranslation(){return[0,0]}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.setAttribute("tabIndex",0),this.setInForeground(),this.div.addEventListener("focusin",this.#A),this.div.addEventListener("focusout",this.#w);let[ee,et]=this.getInitialTranslation();return this.translate(ee,et),(0,en.bindEvents)(this,this.div,["dragstart","pointerdown"]),this.div}pointerdown(ee){let{isMac:et}=es.FeatureTest.platform;if(0!==ee.button||ee.ctrlKey&&et){ee.preventDefault();return}ee.ctrlKey&&!et||ee.shiftKey||ee.metaKey&&et?this.parent.toggleSelected(this):this.parent.setSelected(this),this.#k=!0}getRect(ee,et){let ei=this.parentScale,[en,es]=this.pageDimensions,[er,eo]=this.pageTranslation,eh=ee/ei,ed=et/ei,ec=this.x*en,eu=this.y*es,ep=this.width*en,ef=this.height*es;switch(this.rotation){case 0:return[ec+eh+er,es-eu-ed-ef+eo,ec+eh+ep+er,es-eu-ed+eo];case 90:return[ec+ed+er,es-eu+eh+eo,ec+ed+ef+er,es-eu+eh+ep+eo];case 180:return[ec-eh-ep+er,es-eu+ed+eo,ec-eh+er,es-eu+ed+ef+eo];case 270:return[ec-ed-ef+er,es-eu-eh-ep+eo,ec-ed+er,es-eu-eh+eo];default:throw Error("Invalid rotation")}}getRectInCurrentCoords(ee,et){let[ei,en,es,er]=ee,eo=es-ei,eh=er-en;switch(this.rotation){case 0:return[ei,et-er,eo,eh];case 90:return[ei,et-en,eh,eo];case 180:return[es,et-en,eo,eh];case 270:return[es,et-er,eh,eo];default:throw Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){this.#E=!0}disableEditMode(){this.#E=!1}isInEditMode(){return this.#E}shouldGetKeyboardEvents(){return!1}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){this.div?.addEventListener("focusin",this.#A),this.div?.addEventListener("focusout",this.#w)}serialize(ee=!1){(0,es.unreachable)("An editor must be serializable")}static deserialize(ee,et,ei){let en=new this.prototype.constructor({parent:et,id:et.getNextId(),uiManager:ei});en.rotation=ee.rotation;let[es,er]=en.pageDimensions,[eo,eh,ed,ec]=en.getRectInCurrentCoords(ee.rect,er);return en.x=eo/es,en.y=eh/er,en.width=ed/es,en.height=ec/er,en}remove(){this.div.removeEventListener("focusin",this.#A),this.div.removeEventListener("focusout",this.#w),this.isEmpty()||this.commit(),this.parent.remove(this)}select(){this.div?.classList.add("selectedEditor")}unselect(){this.div?.classList.remove("selectedEditor")}updateParams(ee,et){}disableEditing(){}enableEditing(){}get propertiesToUpdate(){return{}}get contentDiv(){return this.div}get isEditing(){return this.#C}set isEditing(ee){this.#C=ee,ee?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null)}}et.AnnotationEditor=er;class eo extends er{constructor(ee){super(ee),this.annotationElementId=ee.annotationElementId,this.deleted=!0}serialize(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex}}}},(ee,et,ei)=>{Object.defineProperty(et,"__esModule",{value:!0}),et.KeyboardManager=et.CommandManager=et.ColorManager=et.AnnotationEditorUIManager=void 0,et.bindEvents=er,et.opacityToHex=eo;var en=ei(1),es=ei(6);function er(ee,et,ei){for(let en of ei)et.addEventListener(en,ee[en].bind(ee))}function eo(ee){return Math.round(Math.min(255,Math.max(1,255*ee))).toString(16).padStart(2,"0")}class eh{#S=0;getId(){return`${en.AnnotationEditorPrefix}${this.#S++}`}}class ed{#M=[];#T=!1;#O;#P=-1;constructor(ee=128){this.#O=ee}add({cmd:ee,undo:et,mustExec:ei,type:en=NaN,overwriteIfSameType:es=!1,keepUndo:er=!1}){if(ei&&ee(),this.#T)return;let eo={cmd:ee,undo:et,type:en};if(-1===this.#P){this.#M.length>0&&(this.#M.length=0),this.#P=0,this.#M.push(eo);return}if(es&&this.#M[this.#P].type===en){er&&(eo.undo=this.#M[this.#P].undo),this.#M[this.#P]=eo;return}let eh=this.#P+1;eh===this.#O?this.#M.splice(0,1):(this.#P=eh,eh<this.#M.length&&this.#M.splice(eh)),this.#M.push(eo)}undo(){-1!==this.#P&&(this.#T=!0,this.#M[this.#P].undo(),this.#T=!1,this.#P-=1)}redo(){this.#P<this.#M.length-1&&(this.#P+=1,this.#T=!0,this.#M[this.#P].cmd(),this.#T=!1)}hasSomethingToUndo(){return -1!==this.#P}hasSomethingToRedo(){return this.#P<this.#M.length-1}destroy(){this.#M=null}}et.CommandManager=ed;class ec{constructor(ee){this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;let{isMac:et}=en.FeatureTest.platform;for(let[ei,en,es=!1]of ee)for(let ee of ei){let ei=ee.startsWith("mac+");et&&ei?(this.callbacks.set(ee.slice(4),{callback:en,bubbles:es}),this.allKeys.add(ee.split("+").at(-1))):et||ei||(this.callbacks.set(ee,{callback:en,bubbles:es}),this.allKeys.add(ee.split("+").at(-1)))}}#L(ee){ee.altKey&&this.buffer.push("alt"),ee.ctrlKey&&this.buffer.push("ctrl"),ee.metaKey&&this.buffer.push("meta"),ee.shiftKey&&this.buffer.push("shift"),this.buffer.push(ee.key);let et=this.buffer.join("+");return this.buffer.length=0,et}exec(ee,et){if(!this.allKeys.has(et.key))return;let ei=this.callbacks.get(this.#L(et));if(!ei)return;let{callback:en,bubbles:es}=ei;en.bind(ee)(),es||(et.stopPropagation(),et.preventDefault())}}et.KeyboardManager=ec;class eu{static _colorsMapping=new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]);get _colors(){let ee=new Map([["CanvasText",null],["Canvas",null]]);return(0,es.getColorValues)(ee),(0,en.shadow)(this,"_colors",ee)}convert(ee){let et=(0,es.getRGB)(ee);if(!window.matchMedia("(forced-colors: active)").matches)return et;for(let[ee,ei]of this._colors)if(ei.every((ee,ei)=>ee===et[ei]))return eu._colorsMapping.get(ee);return et}getHexCode(ee){let et=this._colors.get(ee);return et?en.Util.makeHexColor(...et):ee}}et.ColorManager=eu;class ep{#R=null;#D=new Map;#I=new Map;#F=null;#B=new ed;#N=0;#$=new Set;#j=null;#H=new Set;#W=null;#z=new eh;#U=!1;#q=en.AnnotationEditorType.NONE;#V=new Set;#X=this.copy.bind(this);#G=this.cut.bind(this);#Y=this.paste.bind(this);#K=this.keydown.bind(this);#Q=this.onEditingAction.bind(this);#J=this.onPageChanging.bind(this);#Z=this.onScaleChanging.bind(this);#ee=this.onRotationChanging.bind(this);#et={isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1};#ei=null;static get _keyboardManager(){return(0,en.shadow)(this,"_keyboardManager",new ec([[["ctrl+a","mac+meta+a"],ep.prototype.selectAll],[["ctrl+z","mac+meta+z"],ep.prototype.undo],[["ctrl+y","ctrl+shift+Z","mac+meta+shift+Z"],ep.prototype.redo],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete"],ep.prototype.delete],[["Escape","mac+Escape"],ep.prototype.unselectAll]]))}constructor(ee,et,ei){this.#ei=ee,this.#W=et,this.#W._on("editingaction",this.#Q),this.#W._on("pagechanging",this.#J),this.#W._on("scalechanging",this.#Z),this.#W._on("rotationchanging",this.#ee),this.#F=ei,this.viewParameters={realScale:es.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:0}}destroy(){for(let ee of(this.#en(),this.#W._off("editingaction",this.#Q),this.#W._off("pagechanging",this.#J),this.#W._off("scalechanging",this.#Z),this.#W._off("rotationchanging",this.#ee),this.#I.values()))ee.destroy();this.#I.clear(),this.#D.clear(),this.#H.clear(),this.#R=null,this.#V.clear(),this.#B.destroy()}onPageChanging({pageNumber:ee}){this.#N=ee-1}focusMainContainer(){this.#ei.focus()}addShouldRescale(ee){this.#H.add(ee)}removeShouldRescale(ee){this.#H.delete(ee)}onScaleChanging({scale:ee}){for(let et of(this.commitOrRemove(),this.viewParameters.realScale=ee*es.PixelsPerInch.PDF_TO_CSS_UNITS,this.#H))et.onScaleChanging()}onRotationChanging({pagesRotation:ee}){this.commitOrRemove(),this.viewParameters.rotation=ee}addToAnnotationStorage(ee){ee.isEmpty()||!this.#F||this.#F.has(ee.id)||this.#F.setValue(ee.id,ee)}#es(){this.#ei.addEventListener("keydown",this.#K)}#en(){this.#ei.removeEventListener("keydown",this.#K)}#ea(){document.addEventListener("copy",this.#X),document.addEventListener("cut",this.#G),document.addEventListener("paste",this.#Y)}#er(){document.removeEventListener("copy",this.#X),document.removeEventListener("cut",this.#G),document.removeEventListener("paste",this.#Y)}copy(ee){if(ee.preventDefault(),this.#R&&this.#R.commitOrRemove(),!this.hasSelection)return;let et=[];for(let ee of this.#V){let ei=ee.serialize(!0);ei&&et.push(ei)}0!==et.length&&ee.clipboardData.setData("application/pdfjs",JSON.stringify(et))}cut(ee){this.copy(ee),this.delete()}paste(ee){ee.preventDefault();let et=ee.clipboardData.getData("application/pdfjs");if(!et)return;try{et=JSON.parse(et)}catch(ee){(0,en.warn)(`paste: "${ee.message}".`);return}if(!Array.isArray(et))return;this.unselectAll();let ei=this.#I.get(this.#N);try{let ee=[];for(let en of et){let et=ei.deserialize(en);if(!et)return;ee.push(et)}let en=()=>{for(let et of ee)this.#eo(et);this.#el(ee)},es=()=>{for(let et of ee)et.remove()};this.addCommands({cmd:en,undo:es,mustExec:!0})}catch(ee){(0,en.warn)(`paste: "${ee.message}".`)}}keydown(ee){this.getActive()?.shouldGetKeyboardEvents()||ep._keyboardManager.exec(this,ee)}onEditingAction(ee){["undo","redo","delete","selectAll"].includes(ee.name)&&this[ee.name]()}#eh(ee){let et=Object.entries(ee).some(([ee,et])=>this.#et[ee]!==et);et&&this.#W.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(this.#et,ee)})}#ed(ee){this.#W.dispatch("annotationeditorparamschanged",{source:this,details:ee})}setEditingState(ee){ee?(this.#es(),this.#ea(),this.#eh({isEditing:this.#q!==en.AnnotationEditorType.NONE,isEmpty:this.#ec(),hasSomethingToUndo:this.#B.hasSomethingToUndo(),hasSomethingToRedo:this.#B.hasSomethingToRedo(),hasSelectedEditor:!1})):(this.#en(),this.#er(),this.#eh({isEditing:!1}))}registerEditorTypes(ee){if(!this.#j)for(let et of(this.#j=ee,this.#j))this.#ed(et.defaultPropertiesToUpdate)}getId(){return this.#z.getId()}get currentLayer(){return this.#I.get(this.#N)}get currentPageIndex(){return this.#N}addLayer(ee){this.#I.set(ee.pageIndex,ee),this.#U?ee.enable():ee.disable()}removeLayer(ee){this.#I.delete(ee.pageIndex)}updateMode(ee){if(this.#q=ee,ee===en.AnnotationEditorType.NONE)this.setEditingState(!1),this.#eu();else for(let et of(this.setEditingState(!0),this.#ep(),this.#I.values()))et.updateMode(ee)}updateToolbar(ee){ee!==this.#q&&this.#W.dispatch("switchannotationeditormode",{source:this,mode:ee})}updateParams(ee,et){if(this.#j){for(let ei of this.#V)ei.updateParams(ee,et);for(let ei of this.#j)ei.updateDefaultParams(ee,et)}}#ep(){if(!this.#U)for(let ee of(this.#U=!0,this.#I.values()))ee.enable()}#eu(){if(this.unselectAll(),this.#U)for(let ee of(this.#U=!1,this.#I.values()))ee.disable()}getEditors(ee){let et=[];for(let ei of this.#D.values())ei.pageIndex===ee&&et.push(ei);return et}getEditor(ee){return this.#D.get(ee)}addEditor(ee){this.#D.set(ee.id,ee)}removeEditor(ee){this.#D.delete(ee.id),this.unselect(ee),ee.annotationElementId&&this.#$.has(ee.annotationElementId)||this.#F?.remove(ee.id)}addDeletedAnnotationElement(ee){this.#$.add(ee.annotationElementId),ee.deleted=!0}isDeletedAnnotationElement(ee){return this.#$.has(ee)}removeDeletedAnnotationElement(ee){this.#$.delete(ee.annotationElementId),ee.deleted=!1}#eo(ee){let et=this.#I.get(ee.pageIndex);et?et.addOrRebuild(ee):this.addEditor(ee)}setActiveEditor(ee){this.#R!==ee&&(this.#R=ee,ee&&this.#ed(ee.propertiesToUpdate))}toggleSelected(ee){if(this.#V.has(ee)){this.#V.delete(ee),ee.unselect(),this.#eh({hasSelectedEditor:this.hasSelection});return}this.#V.add(ee),ee.select(),this.#ed(ee.propertiesToUpdate),this.#eh({hasSelectedEditor:!0})}setSelected(ee){for(let et of this.#V)et!==ee&&et.unselect();this.#V.clear(),this.#V.add(ee),ee.select(),this.#ed(ee.propertiesToUpdate),this.#eh({hasSelectedEditor:!0})}isSelected(ee){return this.#V.has(ee)}unselect(ee){ee.unselect(),this.#V.delete(ee),this.#eh({hasSelectedEditor:this.hasSelection})}get hasSelection(){return 0!==this.#V.size}undo(){this.#B.undo(),this.#eh({hasSomethingToUndo:this.#B.hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:this.#ec()})}redo(){this.#B.redo(),this.#eh({hasSomethingToUndo:!0,hasSomethingToRedo:this.#B.hasSomethingToRedo(),isEmpty:this.#ec()})}addCommands(ee){this.#B.add(ee),this.#eh({hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:this.#ec()})}#ec(){if(0===this.#D.size)return!0;if(1===this.#D.size)for(let ee of this.#D.values())return ee.isEmpty();return!1}delete(){if(this.commitOrRemove(),!this.hasSelection)return;let ee=[...this.#V],et=()=>{for(let et of ee)et.remove()},ei=()=>{for(let et of ee)this.#eo(et)};this.addCommands({cmd:et,undo:ei,mustExec:!0})}commitOrRemove(){this.#R?.commitOrRemove()}#el(ee){for(let et of(this.#V.clear(),ee))et.isEmpty()||(this.#V.add(et),et.select());this.#eh({hasSelectedEditor:!0})}selectAll(){for(let ee of this.#V)ee.commit();this.#el(this.#D.values())}unselectAll(){if(this.#R){this.#R.commitOrRemove();return}if(0!==this.#V.size){for(let ee of this.#V)ee.unselect();this.#V.clear(),this.#eh({hasSelectedEditor:!1})}}isActive(ee){return this.#R===ee}getActive(){return this.#R}getMode(){return this.#q}}et.AnnotationEditorUIManager=ep},(ee,et,ei)=>{let en;Object.defineProperty(et,"__esModule",{value:!0}),et.StatTimer=et.RenderingCancelledException=et.PixelsPerInch=et.PageViewport=et.PDFDateString=et.DOMStandardFontDataFactory=et.DOMSVGFactory=et.DOMFilterFactory=et.DOMCanvasFactory=et.DOMCMapReaderFactory=et.AnnotationPrefix=void 0,et.deprecated=eS,et.getColorValues=eP,et.getCurrentTransform=eL,et.getCurrentTransformInverse=eR,et.getFilenameFromUrl=ew,et.getPdfFilenameFromUrl=ek,et.getRGB=eO,et.getXfaPageViewport=eT,et.isDataScheme=e_,et.isPdfFile=eA,et.isValidFetchUrl=eE,et.loadScript=ex,et.setLayerDimensions=eD;var es=ei(7),er=ei(1);let eo="http://www.w3.org/2000/svg",eh="pdfjs_internal_id_";et.AnnotationPrefix=eh;class ed{static CSS=96;static PDF=72;static PDF_TO_CSS_UNITS=this.CSS/this.PDF}et.PixelsPerInch=ed;class ec extends es.BaseFilterFactory{#ef;#eg;#t;#em;#ev;#ey;#eb;#e_;#eA;#ew;#S=0;constructor({docId:ee,ownerDocument:et=globalThis.document}={}){super(),this.#t=ee,this.#em=et}get #ek(){return this.#ef||=new Map}get #eC(){if(!this.#eg){let ee=this.#em.createElement("div"),{style:et}=ee;et.visibility="hidden",et.contain="strict",et.width=et.height=0,et.position="absolute",et.top=et.left=0,et.zIndex=-1;let ei=this.#em.createElementNS(eo,"svg");ei.setAttribute("width",0),ei.setAttribute("height",0),this.#eg=this.#em.createElementNS(eo,"defs"),ee.append(ei),ei.append(this.#eg),this.#em.body.append(ee)}return this.#eg}addFilter(ee){let et,ei,en,es;if(!ee)return"none";let er=this.#ek.get(ee);if(er)return er;if(1===ee.length){let er=ee[0],eo=Array(256);for(let ee=0;ee<256;ee++)eo[ee]=er[ee]/255;es=et=ei=en=eo.join(",")}else{let[er,eo,eh]=ee,ed=Array(256),ec=Array(256),eu=Array(256);for(let ee=0;ee<256;ee++)ed[ee]=er[ee]/255,ec[ee]=eo[ee]/255,eu[ee]=eh[ee]/255;es=`${et=ed.join(",")}${ei=ec.join(",")}${en=eu.join(",")}`}if(er=this.#ek.get(es))return this.#ek.set(ee,er),er;let eo=`g_${this.#t}_transfer_map_${this.#S++}`,eh=`url(#${eo})`;this.#ek.set(ee,eh),this.#ek.set(es,eh);let ed=this.#eE(eo);return this.#ex(et,ei,en,ed),eh}addHCMFilter(ee,et){let ei=`${ee}-${et}`;if(this.#ey===ei||(this.#ey=ei,this.#eb="none",this.#ev?.remove(),!ee||!et))return this.#eb;let en=this.#eS(ee);ee=er.Util.makeHexColor(...en);let es=this.#eS(et);if(et=er.Util.makeHexColor(...es),this.#eC.style.color="","#000000"===ee&&"#ffffff"===et||ee===et)return this.#eb;let eo=Array(256);for(let ee=0;ee<=255;ee++){let et=ee/255;eo[ee]=et<=.03928?et/12.92:((et+.055)/1.055)**2.4}let eh=eo.join(","),ed=`g_${this.#t}_hcm_filter`,ec=this.#e_=this.#eE(ed);this.#ex(eh,eh,eh,ec),this.#eM(ec);let eu=(ee,et)=>{let ei=en[ee]/255,er=es[ee]/255,eo=Array(et+1);for(let ee=0;ee<=et;ee++)eo[ee]=ei+ee/et*(er-ei);return eo.join(",")};return this.#ex(eu(0,5),eu(1,5),eu(2,5),ec),this.#eb=`url(#${ed})`,this.#eb}addHighlightHCMFilter(ee,et,ei,en){let es=`${ee}-${et}-${ei}-${en}`;if(this.#eA===es||(this.#eA=es,this.#ew="none",this.#e_?.remove(),!ee||!et))return this.#ew;let[er,eo]=[ee,et].map(this.#eS.bind(this)),eh=Math.round(.2126*er[0]+.7152*er[1]+.0722*er[2]),ed=Math.round(.2126*eo[0]+.7152*eo[1]+.0722*eo[2]),[ec,eu]=[ei,en].map(this.#eS.bind(this));ed<eh&&([eh,ed,ec,eu]=[ed,eh,eu,ec]),this.#eC.style.color="";let ep=(ee,et,ei)=>{let en=Array(256),es=(ed-eh)/ei,er=ee/255,eo=(et-ee)/(255*ei),ec=0;for(let ee=0;ee<=ei;ee++){let et=Math.round(eh+ee*es),ei=er+ee*eo;for(let ee=ec;ee<=et;ee++)en[ee]=ei;ec=et+1}for(let ee=ec;ee<256;ee++)en[ee]=en[ec-1];return en.join(",")},ef=`g_${this.#t}_hcm_highlight_filter`,eg=this.#e_=this.#eE(ef);return this.#eM(eg),this.#ex(ep(ec[0],eu[0],5),ep(ec[1],eu[1],5),ep(ec[2],eu[2],5),eg),this.#ew=`url(#${ef})`,this.#ew}destroy(ee=!1){ee&&(this.#eb||this.#ew)||(this.#eg&&(this.#eg.parentNode.parentNode.remove(),this.#eg=null),this.#ef&&(this.#ef.clear(),this.#ef=null),this.#S=0)}#eM(ee){let et=this.#em.createElementNS(eo,"feColorMatrix");et.setAttribute("type","matrix"),et.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),ee.append(et)}#eE(ee){let et=this.#em.createElementNS(eo,"filter");return et.setAttribute("color-interpolation-filters","sRGB"),et.setAttribute("id",ee),this.#eC.append(et),et}#eT(ee,et,ei){let en=this.#em.createElementNS(eo,et);en.setAttribute("type","discrete"),en.setAttribute("tableValues",ei),ee.append(en)}#ex(ee,et,ei,en){let es=this.#em.createElementNS(eo,"feComponentTransfer");en.append(es),this.#eT(es,"feFuncR",ee),this.#eT(es,"feFuncG",et),this.#eT(es,"feFuncB",ei)}#eS(ee){return this.#eC.style.color=ee,eO(getComputedStyle(this.#eC).getPropertyValue("color"))}}et.DOMFilterFactory=ec;class eu extends es.BaseCanvasFactory{constructor({ownerDocument:ee=globalThis.document}={}){super(),this._document=ee}_createCanvas(ee,et){let ei=this._document.createElement("canvas");return ei.width=ee,ei.height=et,ei}}async function ep(ee,et=!1){if(eE(ee,document.baseURI)){let ei=await fetch(ee);if(!ei.ok)throw Error(ei.statusText);return et?new Uint8Array(await ei.arrayBuffer()):(0,er.stringToBytes)(await ei.text())}return new Promise((ei,en)=>{let es=new XMLHttpRequest;es.open("GET",ee,!0),et&&(es.responseType="arraybuffer"),es.onreadystatechange=()=>{if(es.readyState===XMLHttpRequest.DONE){if(200===es.status||0===es.status){let ee;if(et&&es.response?ee=new Uint8Array(es.response):!et&&es.responseText&&(ee=(0,er.stringToBytes)(es.responseText)),ee){ei(ee);return}}en(Error(es.statusText))}},es.send(null)})}et.DOMCanvasFactory=eu;class ef extends es.BaseCMapReaderFactory{_fetchData(ee,et){return ep(ee,this.isCompressed).then(ee=>({cMapData:ee,compressionType:et}))}}et.DOMCMapReaderFactory=ef;class eg extends es.BaseStandardFontDataFactory{_fetchData(ee){return ep(ee,!0)}}et.DOMStandardFontDataFactory=eg;class em extends es.BaseSVGFactory{_createSVG(ee){return document.createElementNS(eo,ee)}}et.DOMSVGFactory=em;class ey{constructor({viewBox:ee,scale:et,rotation:ei,offsetX:en=0,offsetY:es=0,dontFlip:er=!1}){let eo,eh,ed,ec,eu,ep,ef,eg;this.viewBox=ee,this.scale=et,this.rotation=ei,this.offsetX=en,this.offsetY=es;let em=(ee[2]+ee[0])/2,ey=(ee[3]+ee[1])/2;switch((ei%=360)<0&&(ei+=360),ei){case 180:eo=-1,eh=0,ed=0,ec=1;break;case 90:eo=0,eh=1,ed=1,ec=0;break;case 270:eo=0,eh=-1,ed=-1,ec=0;break;case 0:eo=1,eh=0,ed=0,ec=-1;break;default:throw Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}er&&(ed=-ed,ec=-ec),0===eo?(eu=Math.abs(ey-ee[1])*et+en,ep=Math.abs(em-ee[0])*et+es,ef=(ee[3]-ee[1])*et,eg=(ee[2]-ee[0])*et):(eu=Math.abs(em-ee[0])*et+en,ep=Math.abs(ey-ee[1])*et+es,ef=(ee[2]-ee[0])*et,eg=(ee[3]-ee[1])*et),this.transform=[eo*et,eh*et,ed*et,ec*et,eu-eo*et*em-ed*et*ey,ep-eh*et*em-ec*et*ey],this.width=ef,this.height=eg}get rawDims(){let{viewBox:ee}=this;return(0,er.shadow)(this,"rawDims",{pageWidth:ee[2]-ee[0],pageHeight:ee[3]-ee[1],pageX:ee[0],pageY:ee[1]})}clone({scale:ee=this.scale,rotation:et=this.rotation,offsetX:ei=this.offsetX,offsetY:en=this.offsetY,dontFlip:es=!1}={}){return new ey({viewBox:this.viewBox.slice(),scale:ee,rotation:et,offsetX:ei,offsetY:en,dontFlip:es})}convertToViewportPoint(ee,et){return er.Util.applyTransform([ee,et],this.transform)}convertToViewportRectangle(ee){let et=er.Util.applyTransform([ee[0],ee[1]],this.transform),ei=er.Util.applyTransform([ee[2],ee[3]],this.transform);return[et[0],et[1],ei[0],ei[1]]}convertToPdfPoint(ee,et){return er.Util.applyInverseTransform([ee,et],this.transform)}}et.PageViewport=ey;class eb extends er.BaseException{constructor(ee,et=0){super(ee,"RenderingCancelledException"),this.extraDelay=et}}function e_(ee){let et=ee.length,ei=0;for(;ei<et&&""===ee[ei].trim();)ei++;return"data:"===ee.substring(ei,ei+5).toLowerCase()}function eA(ee){return"string"==typeof ee&&/\.pdf$/i.test(ee)}function ew(ee,et=!1){return et||([ee]=ee.split(/[#?]/,1)),ee.substring(ee.lastIndexOf("/")+1)}function ek(ee,et="document.pdf"){if("string"!=typeof ee)return et;if(e_(ee))return(0,er.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),et;let ei=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,en=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,es=ei.exec(ee),eo=en.exec(es[1])||en.exec(es[2])||en.exec(es[3]);if(eo&&(eo=eo[0]).includes("%"))try{eo=en.exec(decodeURIComponent(eo))[0]}catch{}return eo||et}et.RenderingCancelledException=eb;class eC{started=Object.create(null);times=[];time(ee){ee in this.started&&(0,er.warn)(`Timer is already running for ${ee}`),this.started[ee]=Date.now()}timeEnd(ee){ee in this.started||(0,er.warn)(`Timer has not been started for ${ee}`),this.times.push({name:ee,start:this.started[ee],end:Date.now()}),delete this.started[ee]}toString(){let ee=[],et=0;for(let{name:ee}of this.times)et=Math.max(ee.length,et);for(let{name:ei,start:en,end:es}of this.times)ee.push(`${ei.padEnd(et)} ${es-en}ms
`);return ee.join("")}}function eE(ee,et){try{let{protocol:ei}=et?new URL(ee,et):new URL(ee);return"http:"===ei||"https:"===ei}catch{return!1}}function ex(ee,et=!1){return new Promise((ei,en)=>{let es=document.createElement("script");es.src=ee,es.onload=function(ee){et&&es.remove(),ei(ee)},es.onerror=function(){en(Error(`Cannot load script at: ${es.src}`))},(document.head||document.documentElement).append(es)})}function eS(ee){console.log("Deprecated API usage: "+ee)}et.StatTimer=eC;class eM{static toDateObject(ee){if(!ee||"string"!=typeof ee)return null;en||=RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?");let et=en.exec(ee);if(!et)return null;let ei=parseInt(et[1],10),es=parseInt(et[2],10);es=es>=1&&es<=12?es-1:0;let er=parseInt(et[3],10);er=er>=1&&er<=31?er:1;let eo=parseInt(et[4],10);eo=eo>=0&&eo<=23?eo:0;let eh=parseInt(et[5],10);eh=eh>=0&&eh<=59?eh:0;let ed=parseInt(et[6],10);ed=ed>=0&&ed<=59?ed:0;let ec=et[7]||"Z",eu=parseInt(et[8],10);eu=eu>=0&&eu<=23?eu:0;let ep=parseInt(et[9],10)||0;return ep=ep>=0&&ep<=59?ep:0,"-"===ec?(eo+=eu,eh+=ep):"+"===ec&&(eo-=eu,eh-=ep),new Date(Date.UTC(ei,es,er,eo,eh,ed))}}function eT(ee,{scale:et=1,rotation:ei=0}){let{width:en,height:es}=ee.attributes.style,er=[0,0,parseInt(en),parseInt(es)];return new ey({viewBox:er,scale:et,rotation:ei})}function eO(ee){if(ee.startsWith("#")){let et=parseInt(ee.slice(1),16);return[(16711680&et)>>16,(65280&et)>>8,255&et]}return ee.startsWith("rgb(")?ee.slice(4,-1).split(",").map(ee=>parseInt(ee)):ee.startsWith("rgba(")?ee.slice(5,-1).split(",").map(ee=>parseInt(ee)).slice(0,3):((0,er.warn)(`Not a valid color format: "${ee}"`),[0,0,0])}function eP(ee){let et=document.createElement("span");for(let ei of(et.style.visibility="hidden",document.body.append(et),ee.keys())){et.style.color=ei;let en=window.getComputedStyle(et).color;ee.set(ei,eO(en))}et.remove()}function eL(ee){let{a:et,b:ei,c:en,d:es,e:er,f:eo}=ee.getTransform();return[et,ei,en,es,er,eo]}function eR(ee){let{a:et,b:ei,c:en,d:es,e:er,f:eo}=ee.getTransform().invertSelf();return[et,ei,en,es,er,eo]}function eD(ee,et,ei=!1,en=!0){if(et instanceof ey){let{pageWidth:en,pageHeight:es}=et.rawDims,{style:er}=ee,eo=`calc(var(--scale-factor) * ${en}px)`,eh=`calc(var(--scale-factor) * ${es}px)`;ei&&et.rotation%180!=0?(er.width=eh,er.height=eo):(er.width=eo,er.height=eh)}en&&ee.setAttribute("data-main-rotation",et.rotation)}et.PDFDateString=eM},(ee,et,ei)=>{Object.defineProperty(et,"__esModule",{value:!0}),et.BaseStandardFontDataFactory=et.BaseSVGFactory=et.BaseFilterFactory=et.BaseCanvasFactory=et.BaseCMapReaderFactory=void 0;var en=ei(1);class es{constructor(){this.constructor===es&&(0,en.unreachable)("Cannot initialize BaseFilterFactory.")}addFilter(ee){return"none"}addHCMFilter(ee,et){return"none"}addHighlightHCMFilter(ee,et,ei,en){return"none"}destroy(ee=!1){}}et.BaseFilterFactory=es;class er{constructor(){this.constructor===er&&(0,en.unreachable)("Cannot initialize BaseCanvasFactory.")}create(ee,et){if(ee<=0||et<=0)throw Error("Invalid canvas size");let ei=this._createCanvas(ee,et);return{canvas:ei,context:ei.getContext("2d")}}reset(ee,et,ei){if(!ee.canvas)throw Error("Canvas is not specified");if(et<=0||ei<=0)throw Error("Invalid canvas size");ee.canvas.width=et,ee.canvas.height=ei}destroy(ee){if(!ee.canvas)throw Error("Canvas is not specified");ee.canvas.width=0,ee.canvas.height=0,ee.canvas=null,ee.context=null}_createCanvas(ee,et){(0,en.unreachable)("Abstract method `_createCanvas` called.")}}et.BaseCanvasFactory=er;class eo{constructor({baseUrl:ee=null,isCompressed:et=!0}){this.constructor===eo&&(0,en.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=ee,this.isCompressed=et}async fetch({name:ee}){if(!this.baseUrl)throw Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!ee)throw Error("CMap name must be specified.");let et=this.baseUrl+ee+(this.isCompressed?".bcmap":""),ei=this.isCompressed?en.CMapCompressionType.BINARY:en.CMapCompressionType.NONE;return this._fetchData(et,ei).catch(ee=>{throw Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${et}`)})}_fetchData(ee,et){(0,en.unreachable)("Abstract method `_fetchData` called.")}}et.BaseCMapReaderFactory=eo;class eh{constructor({baseUrl:ee=null}){this.constructor===eh&&(0,en.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=ee}async fetch({filename:ee}){if(!this.baseUrl)throw Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!ee)throw Error("Font filename must be specified.");let et=`${this.baseUrl}${ee}`;return this._fetchData(et).catch(ee=>{throw Error(`Unable to load font data at: ${et}`)})}_fetchData(ee){(0,en.unreachable)("Abstract method `_fetchData` called.")}}et.BaseStandardFontDataFactory=eh;class ed{constructor(){this.constructor===ed&&(0,en.unreachable)("Cannot initialize BaseSVGFactory.")}create(ee,et,ei=!1){if(ee<=0||et<=0)throw Error("Invalid SVG dimensions");let en=this._createSVG("svg:svg");return en.setAttribute("version","1.1"),ei||(en.setAttribute("width",`${ee}px`),en.setAttribute("height",`${et}px`)),en.setAttribute("preserveAspectRatio","none"),en.setAttribute("viewBox",`0 0 ${ee} ${et}`),en}createElement(ee){if("string"!=typeof ee)throw Error("Invalid SVG element type");return this._createSVG(ee)}_createSVG(ee){(0,en.unreachable)("Abstract method `_createSVG` called.")}}et.BaseSVGFactory=ed},(ee,et,ei)=>{Object.defineProperty(et,"__esModule",{value:!0}),et.MurmurHash3_64=void 0;var en=ei(1);let es=3285377520,er=4294901760,eo=65535;class eh{constructor(ee){this.h1=ee?4294967295&ee:es,this.h2=ee?4294967295&ee:es}update(ee){let et,ei;if("string"==typeof ee){et=new Uint8Array(2*ee.length),ei=0;for(let en=0,es=ee.length;en<es;en++){let es=ee.charCodeAt(en);es<=255?et[ei++]=es:(et[ei++]=es>>>8,et[ei++]=255&es)}}else if((0,en.isArrayBuffer)(ee))ei=(et=ee.slice()).byteLength;else throw Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");let es=ei>>2,eh=ei-4*es,ed=new Uint32Array(et.buffer,0,es),ec=0,eu=0,ep=this.h1,ef=this.h2,eg=3432918353,em=461845907,ey=eg&eo,eb=em&eo;for(let ee=0;ee<es;ee++)1&ee?(ep^=ec=(ec=(ec=(ec=ed[ee])*eg&er|ec*ey&eo)<<15|ec>>>17)*em&er|ec*eb&eo,ep=5*(ep=ep<<13|ep>>>19)+3864292196):(ef^=eu=(eu=(eu=(eu=ed[ee])*eg&er|eu*ey&eo)<<15|eu>>>17)*em&er|eu*eb&eo,ef=5*(ef=ef<<13|ef>>>19)+3864292196);switch(ec=0,eh){case 3:ec^=et[4*es+2]<<16;case 2:ec^=et[4*es+1]<<8;case 1:ec^=et[4*es],ec=(ec=(ec=ec*eg&er|ec*ey&eo)<<15|ec>>>17)*em&er|ec*eb&eo,1&es?ep^=ec:ef^=ec}this.h1=ep,this.h2=ef}hexdigest(){let ee=this.h1,et=this.h2;return ee^=et>>>1,ee=3981806797*ee&er|36045*ee&eo,et=4283543511*et&er|((et<<16|ee>>>16)*2950163797&er)>>>16,ee^=et>>>1,ee=444984403*ee&er|60499*ee&eo,et=3301882366*et&er|((et<<16|ee>>>16)*3120437893&er)>>>16,((ee^=et>>>1)>>>0).toString(16).padStart(8,"0")+(et>>>0).toString(16).padStart(8,"0")}}et.MurmurHash3_64=eh},(ee,et,ei)=>{Object.defineProperty(et,"__esModule",{value:!0}),et.FontLoader=et.FontFaceObject=void 0;var en=ei(1),es=ei(10);class er{#eO=new Set;constructor({ownerDocument:ee=globalThis.document,styleElement:et=null}){this._document=ee,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(ee){this.nativeFontFaces.add(ee),this._document.fonts.add(ee)}removeNativeFontFace(ee){this.nativeFontFaces.delete(ee),this._document.fonts.delete(ee)}insertRule(ee){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));let et=this.styleElement.sheet;et.insertRule(ee,et.cssRules.length)}clear(){for(let ee of this.nativeFontFaces)this._document.fonts.delete(ee);this.nativeFontFaces.clear(),this.#eO.clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont(ee){if(!(!ee||this.#eO.has(ee.loadedName))){if((0,en.assert)(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){let{loadedName:et,src:ei,style:es}=ee,er=new FontFace(et,ei,es);this.addNativeFontFace(er);try{await er.load(),this.#eO.add(et)}catch{(0,en.warn)(`Cannot load system font: ${ee.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(er)}return}(0,en.unreachable)("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(ee){if(ee.attached||ee.missingFile&&!ee.systemFontInfo)return;if(ee.attached=!0,ee.systemFontInfo){await this.loadSystemFont(ee.systemFontInfo);return}if(this.isFontLoadingAPISupported){let et=ee.createNativeFontFace();if(et){this.addNativeFontFace(et);try{await et.loaded}catch(ei){throw(0,en.warn)(`Failed to load font '${et.family}': '${ei}'.`),ee.disableFontFace=!0,ei}}return}let et=ee.createFontFaceRule();if(et){if(this.insertRule(et),this.isSyncFontLoadingSupported)return;await new Promise(et=>{let ei=this._queueLoadingCallback(et);this._prepareFontLoadEvent(ee,ei)})}}get isFontLoadingAPISupported(){let ee=!!this._document?.fonts;return(0,en.shadow)(this,"isFontLoadingAPISupported",ee)}get isSyncFontLoadingSupported(){let ee=!1;return es.isNodeJS?ee=!0:"undefined"!=typeof navigator&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent)&&(ee=!0),(0,en.shadow)(this,"isSyncFontLoadingSupported",ee)}_queueLoadingCallback(ee){function et(){for((0,en.assert)(!es.done,"completeRequest() cannot be called twice."),es.done=!0;ei.length>0&&ei[0].done;){let ee=ei.shift();setTimeout(ee.callback,0)}}let{loadingRequests:ei}=this,es={done:!1,complete:et,callback:ee};return ei.push(es),es}get _loadTestFont(){let ee=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return(0,en.shadow)(this,"_loadTestFont",ee)}_prepareFontLoadEvent(ee,et){let ei,es;function er(ee,et){return ee.charCodeAt(et)<<24|ee.charCodeAt(et+1)<<16|ee.charCodeAt(et+2)<<8|255&ee.charCodeAt(et+3)}function eo(ee,et,ei,en){let es=ee.substring(0,et),er=ee.substring(et+ei);return es+en+er}let eh=this._document.createElement("canvas");eh.width=1,eh.height=1;let ed=eh.getContext("2d"),ec=0;function eu(ee,et){if(++ec>30){(0,en.warn)("Load test font never loaded."),et();return}ed.font="30px "+ee,ed.fillText(".",0,20);let ei=ed.getImageData(0,0,1,1);if(ei.data[3]>0){et();return}setTimeout(eu.bind(null,ee,et))}let ep=`lt${Date.now()}${this.loadTestFontId++}`,ef=this._loadTestFont,eg=976;ef=eo(ef,eg,ep.length,ep);let em=16,ey=1482184792,eb=er(ef,em);for(ei=0,es=ep.length-3;ei<es;ei+=4)eb=eb-ey+er(ep,ei)|0;ei<ep.length&&(eb=eb-ey+er(ep+"XXX",ei)|0),ef=eo(ef,em,4,(0,en.string32)(eb));let e_=`url(data:font/opentype;base64,${btoa(ef)});`,eA=`@font-face {font-family:"${ep}";src:${e_}}`;this.insertRule(eA);let ew=this._document.createElement("div");for(let et of(ew.style.visibility="hidden",ew.style.width=ew.style.height="10px",ew.style.position="absolute",ew.style.top=ew.style.left="0px",[ee.loadedName,ep])){let ee=this._document.createElement("span");ee.textContent="Hi",ee.style.fontFamily=et,ew.append(ee)}this._document.body.append(ew),eu(ep,()=>{ew.remove(),et.complete()})}}et.FontLoader=er;class eo{constructor(ee,{isEvalSupported:et=!0,disableFontFace:ei=!1,ignoreErrors:en=!1,inspectFont:es=null}){for(let et in this.compiledGlyphs=Object.create(null),ee)this[et]=ee[et];this.isEvalSupported=!1!==et,this.disableFontFace=!0===ei,this.ignoreErrors=!0===en,this._inspectFont=es}createNativeFontFace(){let ee;if(!this.data||this.disableFontFace)return null;if(this.cssFontInfo){let et={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(et.style=`oblique ${this.cssFontInfo.italicAngle}deg`),ee=new FontFace(this.cssFontInfo.fontFamily,this.data,et)}else ee=new FontFace(this.loadedName,this.data,{});return this._inspectFont?.(this),ee}createFontFaceRule(){let ee;if(!this.data||this.disableFontFace)return null;let et=(0,en.bytesToString)(this.data),ei=`url(data:${this.mimetype};base64,${btoa(et)});`;if(this.cssFontInfo){let et=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(et+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),ee=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${et}src:${ei}}`}else ee=`@font-face {font-family:"${this.loadedName}";src:${ei}}`;return this._inspectFont?.(this,ei),ee}getPathGenerator(ee,et){let ei;if(void 0!==this.compiledGlyphs[et])return this.compiledGlyphs[et];try{ei=ee.get(this.loadedName+"_path_"+et)}catch(ee){if(!this.ignoreErrors)throw ee;return(0,en.warn)(`getPathGenerator - ignoring character: "${ee}".`),this.compiledGlyphs[et]=function(ee,et){}}if(this.isEvalSupported&&en.FeatureTest.isEvalSupported){let ee=[];for(let et of ei){let ei=void 0!==et.args?et.args.join(","):"";ee.push("c.",et.cmd,"(",ei,");\n")}return this.compiledGlyphs[et]=Function("c","size",ee.join(""))}return this.compiledGlyphs[et]=function(ee,et){for(let en of ei)"scale"===en.cmd&&(en.args=[et,-et]),ee[en.cmd].apply(ee,en.args)}}}et.FontFaceObject=eo},(ee,et)=>{Object.defineProperty(et,"__esModule",{value:!0}),et.isNodeJS=void 0;let ei="object"==typeof process&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&"browser"!==process.type);et.isNodeJS=ei},(ee,et,ei)=>{Object.defineProperty(et,"__esModule",{value:!0}),et.CanvasGraphics=void 0;var en=ei(1),es=ei(6),er=ei(12),eo=ei(13),eh=ei(10);let ed=16,ec=100,eu=4096,ep=15,ef=10,eg=1e3,em=16;function ey(ee,et){if(ee._removeMirroring)throw Error("Context is already forwarding operations.");ee.__originalSave=ee.save,ee.__originalRestore=ee.restore,ee.__originalRotate=ee.rotate,ee.__originalScale=ee.scale,ee.__originalTranslate=ee.translate,ee.__originalTransform=ee.transform,ee.__originalSetTransform=ee.setTransform,ee.__originalResetTransform=ee.resetTransform,ee.__originalClip=ee.clip,ee.__originalMoveTo=ee.moveTo,ee.__originalLineTo=ee.lineTo,ee.__originalBezierCurveTo=ee.bezierCurveTo,ee.__originalRect=ee.rect,ee.__originalClosePath=ee.closePath,ee.__originalBeginPath=ee.beginPath,ee._removeMirroring=()=>{ee.save=ee.__originalSave,ee.restore=ee.__originalRestore,ee.rotate=ee.__originalRotate,ee.scale=ee.__originalScale,ee.translate=ee.__originalTranslate,ee.transform=ee.__originalTransform,ee.setTransform=ee.__originalSetTransform,ee.resetTransform=ee.__originalResetTransform,ee.clip=ee.__originalClip,ee.moveTo=ee.__originalMoveTo,ee.lineTo=ee.__originalLineTo,ee.bezierCurveTo=ee.__originalBezierCurveTo,ee.rect=ee.__originalRect,ee.closePath=ee.__originalClosePath,ee.beginPath=ee.__originalBeginPath,delete ee._removeMirroring},ee.save=function(){et.save(),this.__originalSave()},ee.restore=function(){et.restore(),this.__originalRestore()},ee.translate=function(ee,ei){et.translate(ee,ei),this.__originalTranslate(ee,ei)},ee.scale=function(ee,ei){et.scale(ee,ei),this.__originalScale(ee,ei)},ee.transform=function(ee,ei,en,es,er,eo){et.transform(ee,ei,en,es,er,eo),this.__originalTransform(ee,ei,en,es,er,eo)},ee.setTransform=function(ee,ei,en,es,er,eo){et.setTransform(ee,ei,en,es,er,eo),this.__originalSetTransform(ee,ei,en,es,er,eo)},ee.resetTransform=function(){et.resetTransform(),this.__originalResetTransform()},ee.rotate=function(ee){et.rotate(ee),this.__originalRotate(ee)},ee.clip=function(ee){et.clip(ee),this.__originalClip(ee)},ee.moveTo=function(ee,ei){et.moveTo(ee,ei),this.__originalMoveTo(ee,ei)},ee.lineTo=function(ee,ei){et.lineTo(ee,ei),this.__originalLineTo(ee,ei)},ee.bezierCurveTo=function(ee,ei,en,es,er,eo){et.bezierCurveTo(ee,ei,en,es,er,eo),this.__originalBezierCurveTo(ee,ei,en,es,er,eo)},ee.rect=function(ee,ei,en,es){et.rect(ee,ei,en,es),this.__originalRect(ee,ei,en,es)},ee.closePath=function(){et.closePath(),this.__originalClosePath()},ee.beginPath=function(){et.beginPath(),this.__originalBeginPath()}}class eb{constructor(ee){this.canvasFactory=ee,this.cache=Object.create(null)}getCanvas(ee,et,ei){let en;return void 0!==this.cache[ee]?(en=this.cache[ee],this.canvasFactory.reset(en,et,ei)):(en=this.canvasFactory.create(et,ei),this.cache[ee]=en),en}delete(ee){delete this.cache[ee]}clear(){for(let ee in this.cache){let et=this.cache[ee];this.canvasFactory.destroy(et),delete this.cache[ee]}}}function e_(ee,et,ei,en,er,eo,eh,ed,ec,eu){let[ep,ef,eg,em,ey,eb]=(0,es.getCurrentTransform)(ee);if(0===ef&&0===eg){let es=eh*ep+ey,e_=Math.round(es),eA=ed*em+eb,ew=Math.round(eA),ek=(eh+ec)*ep+ey,eC=Math.abs(Math.round(ek)-e_)||1,eE=(ed+eu)*em+eb,ex=Math.abs(Math.round(eE)-ew)||1;return ee.setTransform(Math.sign(ep),0,0,Math.sign(em),e_,ew),ee.drawImage(et,ei,en,er,eo,0,0,eC,ex),ee.setTransform(ep,ef,eg,em,ey,eb),[eC,ex]}if(0===ep&&0===em){let es=ed*eg+ey,e_=Math.round(es),eA=eh*ef+eb,ew=Math.round(eA),ek=(ed+eu)*eg+ey,eC=Math.abs(Math.round(ek)-e_)||1,eE=(eh+ec)*ef+eb,ex=Math.abs(Math.round(eE)-ew)||1;return ee.setTransform(0,Math.sign(ef),Math.sign(eg),0,e_,ew),ee.drawImage(et,ei,en,er,eo,0,0,ex,eC),ee.setTransform(ep,ef,eg,em,ey,eb),[ex,eC]}ee.drawImage(et,ei,en,er,eo,eh,ed,ec,eu);let e_=Math.hypot(ep,ef),eA=Math.hypot(eg,em);return[e_*ec,eA*eu]}function eA(ee){let et,ei,en;let{width:es,height:er}=ee;if(es>eg||er>eg)return null;let eo=1e3,eh=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),ed=es+1,ec=new Uint8Array(ed*(er+1)),eu=es+7&-8,ep=new Uint8Array(eu*er),ef=0;for(let et of ee.data){let ee=128;for(;ee>0;)ep[ef++]=et&ee?0:255,ee>>=1}let em=0;for(0!==ep[ef=0]&&(ec[0]=1,++em),ei=1;ei<es;ei++)ep[ef]!==ep[ef+1]&&(ec[ei]=ep[ef]?2:1,++em),ef++;for(0!==ep[ef]&&(ec[ei]=2,++em),et=1;et<er;et++){ef=et*eu,en=et*ed,ep[ef-eu]!==ep[ef]&&(ec[en]=ep[ef]?1:8,++em);let ee=(ep[ef]?4:0)+(ep[ef-eu]?8:0);for(ei=1;ei<es;ei++)eh[ee=(ee>>2)+(ep[ef+1]?4:0)+(ep[ef-eu+1]?8:0)]&&(ec[en+ei]=eh[ee],++em),ef++;if(ep[ef-eu]!==ep[ef]&&(ec[en+ei]=ep[ef]?2:4,++em),em>eo)return null}for(ef=eu*(er-1),en=et*ed,0!==ep[ef]&&(ec[en]=8,++em),ei=1;ei<es;ei++)ep[ef]!==ep[ef+1]&&(ec[en+ei]=ep[ef]?4:8,++em),ef++;if(0!==ep[ef]&&(ec[en+ei]=4,++em),em>eo)return null;let ey=new Int32Array([0,ed,-1,0,-ed,0,0,0,1]),eb=new Path2D;for(et=0;em&&et<=er;et++){let ee=et*ed,ei=ee+es;for(;ee<ei&&!ec[ee];)ee++;if(ee===ei)continue;eb.moveTo(ee%ed,et);let en=ee,er=ec[ee];do{let et=ey[er];do ee+=et;while(!ec[ee]);let ei=ec[ee];5!==ei&&10!==ei?(er=ei,ec[ee]=0):(er=ei&51*er>>4,ec[ee]&=er>>2|er<<2),eb.lineTo(ee%ed,ee/ed|0),!ec[ee]&&--em}while(en!==ee);--et}ep=null,ec=null;let e_=function(ee){ee.save(),ee.scale(1/es,-1/er),ee.translate(0,-er),ee.fill(eb),ee.beginPath(),ee.restore()};return e_}class ew{constructor(ee,et){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=en.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=en.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=en.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,ee,et])}clone(){let ee=Object.create(this);return ee.clipBox=this.clipBox.slice(),ee}setCurrentPoint(ee,et){this.x=ee,this.y=et}updatePathMinMax(ee,et,ei){[et,ei]=en.Util.applyTransform([et,ei],ee),this.minX=Math.min(this.minX,et),this.minY=Math.min(this.minY,ei),this.maxX=Math.max(this.maxX,et),this.maxY=Math.max(this.maxY,ei)}updateRectMinMax(ee,et){let ei=en.Util.applyTransform(et,ee),es=en.Util.applyTransform(et.slice(2),ee);this.minX=Math.min(this.minX,ei[0],es[0]),this.minY=Math.min(this.minY,ei[1],es[1]),this.maxX=Math.max(this.maxX,ei[0],es[0]),this.maxY=Math.max(this.maxY,ei[1],es[1])}updateScalingPathMinMax(ee,et){en.Util.scaleMinMax(ee,et),this.minX=Math.min(this.minX,et[0]),this.maxX=Math.max(this.maxX,et[1]),this.minY=Math.min(this.minY,et[2]),this.maxY=Math.max(this.maxY,et[3])}updateCurvePathMinMax(ee,et,ei,es,er,eo,eh,ed,ec,eu){let ep=en.Util.bezierBoundingBox(et,ei,es,er,eo,eh,ed,ec);if(eu){eu[0]=Math.min(eu[0],ep[0],ep[2]),eu[1]=Math.max(eu[1],ep[0],ep[2]),eu[2]=Math.min(eu[2],ep[1],ep[3]),eu[3]=Math.max(eu[3],ep[1],ep[3]);return}this.updateRectMinMax(ee,ep)}getPathBoundingBox(ee=er.PathType.FILL,et=null){let ei=[this.minX,this.minY,this.maxX,this.maxY];if(ee===er.PathType.STROKE){et||(0,en.unreachable)("Stroke bounding box must include transform.");let ee=en.Util.singularValueDecompose2dScale(et),es=ee[0]*this.lineWidth/2,er=ee[1]*this.lineWidth/2;ei[0]-=es,ei[1]-=er,ei[2]+=es,ei[3]+=er}return ei}updateClipFromPath(){let ee=en.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(ee||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(ee){this.clipBox=ee,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(ee=er.PathType.FILL,et=null){return en.Util.intersect(this.clipBox,this.getPathBoundingBox(ee,et))}}function ek(ee,et){let ei,es,er,eo;if("undefined"!=typeof ImageData&&et instanceof ImageData){ee.putImageData(et,0,0);return}let eh=et.height,ed=et.width,ec=eh%em,eu=(eh-ec)/em,ep=0===ec?eu:eu+1,ef=ee.createImageData(ed,em),eg=0,ey,eb=et.data,e_=ef.data;if(et.kind===en.ImageKind.GRAYSCALE_1BPP){let et=eb.byteLength,eo=new Uint32Array(e_.buffer,0,e_.byteLength>>2),eh=eo.length,eA=ed+7>>3,ew=4294967295,ek=en.FeatureTest.isLittleEndian?4278190080:255;for(ei=0;ei<ep;ei++){for(es=0,er=ei<eu?em:ec,ey=0;es<er;es++){let ee=et-eg,ei=0,en=ee>eA?ed:8*ee-7,es=-8&en,er=0,eh=0;for(;ei<es;ei+=8)eh=eb[eg++],eo[ey++]=128&eh?ew:ek,eo[ey++]=64&eh?ew:ek,eo[ey++]=32&eh?ew:ek,eo[ey++]=16&eh?ew:ek,eo[ey++]=8&eh?ew:ek,eo[ey++]=4&eh?ew:ek,eo[ey++]=2&eh?ew:ek,eo[ey++]=1&eh?ew:ek;for(;ei<en;ei++)0===er&&(eh=eb[eg++],er=128),eo[ey++]=eh&er?ew:ek,er>>=1}for(;ey<eh;)eo[ey++]=0;ee.putImageData(ef,0,ei*em)}}else if(et.kind===en.ImageKind.RGBA_32BPP){for(ei=0,es=0,eo=ed*em*4;ei<eu;ei++)e_.set(eb.subarray(eg,eg+eo)),eg+=eo,ee.putImageData(ef,0,es),es+=em;ei<ep&&(eo=ed*ec*4,e_.set(eb.subarray(eg,eg+eo)),ee.putImageData(ef,0,es))}else if(et.kind===en.ImageKind.RGB_24BPP)for(ei=0,eo=ed*(er=em);ei<ep;ei++){for(ei>=eu&&(eo=ed*(er=ec)),ey=0,es=eo;es--;)e_[ey++]=eb[eg++],e_[ey++]=eb[eg++],e_[ey++]=eb[eg++],e_[ey++]=255;ee.putImageData(ef,0,ei*em)}else throw Error(`bad image kind: ${et.kind}`)}function eC(ee,et){if(et.bitmap){ee.drawImage(et.bitmap,0,0);return}let ei=et.height,en=et.width,es=ei%em,er=(ei-es)/em,eh=0===es?er:er+1,ed=ee.createImageData(en,em),ec=0,eu=et.data,ep=ed.data;for(let et=0;et<eh;et++){let ei=et<er?em:es;({srcPos:ec}=(0,eo.convertBlackAndWhiteToRGBA)({src:eu,srcPos:ec,dest:ep,width:en,height:ei,nonBlackColor:0})),ee.putImageData(ed,0,et*em)}}function eE(ee,et){let ei=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(let en of ei)void 0!==ee[en]&&(et[en]=ee[en]);void 0!==ee.setLineDash&&(et.setLineDash(ee.getLineDash()),et.lineDashOffset=ee.lineDashOffset)}function ex(ee){ee.strokeStyle=ee.fillStyle="#000000",ee.fillRule="nonzero",ee.globalAlpha=1,ee.lineWidth=1,ee.lineCap="butt",ee.lineJoin="miter",ee.miterLimit=10,ee.globalCompositeOperation="source-over",ee.font="10px sans-serif",void 0!==ee.setLineDash&&(ee.setLineDash([]),ee.lineDashOffset=0),eh.isNodeJS||(ee.filter="none")}function eS(ee,et,ei,en){let es=ee.length;for(let er=3;er<es;er+=4){let es=ee[er];if(0===es)ee[er-3]=et,ee[er-2]=ei,ee[er-1]=en;else if(es<255){let eo=255-es;ee[er-3]=ee[er-3]*es+et*eo>>8,ee[er-2]=ee[er-2]*es+ei*eo>>8,ee[er-1]=ee[er-1]*es+en*eo>>8}}}function eM(ee,et,ei){let en=ee.length,es=1/255;for(let er=3;er<en;er+=4){let en=ei?ei[ee[er]]:ee[er];et[er]=et[er]*en*es|0}}function eT(ee,et,ei){let en=ee.length;for(let es=3;es<en;es+=4){let en=77*ee[es-3]+152*ee[es-2]+28*ee[es-1];et[es]=ei?et[es]*ei[en>>8]>>8:et[es]*en>>16}}function eO(ee,et,ei,en,es,er,eo,eh,ed,ec,eu){let ep;let ef=!!er,eg=ef?er[0]:0,em=ef?er[1]:0,ey=ef?er[2]:0;ep="Luminosity"===es?eT:eM;let eb=1048576,e_=Math.min(en,Math.ceil(eb/ei));for(let es=0;es<en;es+=e_){let er=Math.min(e_,en-es),eb=ee.getImageData(eh-ec,es+(ed-eu),ei,er),eA=et.getImageData(eh,es+ed,ei,er);ef&&eS(eb.data,eg,em,ey),ep(eb.data,eA.data,eo),et.putImageData(eA,eh,es+ed)}}function eP(ee,et,ei,en){let es=en[0],er=en[1],eo=en[2]-es,eh=en[3]-er;0!==eo&&0!==eh&&(eO(et.context,ei,eo,eh,et.subtype,et.backdrop,et.transferMap,es,er,et.offsetX,et.offsetY),ee.save(),ee.globalAlpha=1,ee.globalCompositeOperation="source-over",ee.setTransform(1,0,0,1,0,0),ee.drawImage(ei.canvas,0,0),ee.restore())}function eL(ee,et){let ei=en.Util.singularValueDecompose2dScale(ee);ei[0]=Math.fround(ei[0]),ei[1]=Math.fround(ei[1]);let er=Math.fround((globalThis.devicePixelRatio||1)*es.PixelsPerInch.PDF_TO_CSS_UNITS);return void 0!==et?et:ei[0]<=er||ei[1]<=er}let eR=["butt","round","square"],eD=["miter","round","bevel"],eI={},eF={};class eB{constructor(ee,et,ei,en,es,{optionalContentConfig:er,markedContentStack:eo=null},eh,ed){this.ctx=ee,this.current=new ew(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=et,this.objs=ei,this.canvasFactory=en,this.filterFactory=es,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=eo||[],this.optionalContentConfig=er,this.cachedCanvases=new eb(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=eh,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=ed,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(ee,et=null){return"string"==typeof ee?ee.startsWith("g_")?this.commonObjs.get(ee):this.objs.get(ee):et}beginDrawing({transform:ee,viewport:et,transparency:ei=!1,background:en=null}){let er=this.ctx.canvas.width,eo=this.ctx.canvas.height,eh=this.ctx.fillStyle;if(this.ctx.fillStyle=en||"#ffffff",this.ctx.fillRect(0,0,er,eo),this.ctx.fillStyle=eh,ei){let ee=this.cachedCanvases.getCanvas("transparent",er,eo);this.compositeCtx=this.ctx,this.transparentCanvas=ee.canvas,this.ctx=ee.context,this.ctx.save(),this.ctx.transform(...(0,es.getCurrentTransform)(this.compositeCtx))}this.ctx.save(),ex(this.ctx),ee&&(this.ctx.transform(...ee),this.outputScaleX=ee[0],this.outputScaleY=ee[0]),this.ctx.transform(...et.transform),this.viewportScale=et.scale,this.baseTransform=(0,es.getCurrentTransform)(this.ctx)}executeOperatorList(ee,et,ei,es){let er;let eo=ee.argsArray,eh=ee.fnArray,ed=et||0,ec=eo.length;if(ec===ed)return ed;let eu=ec-ed>ef&&"function"==typeof ei,eg=eu?Date.now()+ep:0,em=0,ey=this.commonObjs,eb=this.objs;for(;;){if(void 0!==es&&ed===es.nextBreakPoint)return es.breakIt(ed,ei),ed;if((er=eh[ed])!==en.OPS.dependency)this[er].apply(this,eo[ed]);else for(let ee of eo[ed]){let et=ee.startsWith("g_")?ey:eb;if(!et.has(ee))return et.get(ee,ei),ed}if(++ed===ec)return ed;if(eu&&++em>ef){if(Date.now()>eg)return ei(),ed;em=0}}}#eP(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)}endDrawing(){for(let ee of(this.#eP(),this.cachedCanvases.clear(),this.cachedPatterns.clear(),this._cachedBitmapsMap.values())){for(let et of ee.values())"undefined"!=typeof HTMLCanvasElement&&et instanceof HTMLCanvasElement&&(et.width=et.height=0);ee.clear()}this._cachedBitmapsMap.clear(),this.#eL()}#eL(){if(this.pageColors){let ee=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if("none"!==ee){let et=this.ctx.filter;this.ctx.filter=ee,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=et}}}_scaleImage(ee,et){let ei,en;let es=ee.width,er=ee.height,eo=Math.max(Math.hypot(et[0],et[1]),1),eh=Math.max(Math.hypot(et[2],et[3]),1),ed=es,ec=er,eu="prescale1";for(;eo>2&&ed>1||eh>2&&ec>1;){let et=ed,es=ec;eo>2&&ed>1&&(et=ed>=16384?Math.floor(ed/2)-1||1:Math.ceil(ed/2),eo/=ed/et),eh>2&&ec>1&&(es=ec>=16384?Math.floor(ec/2)-1||1:Math.ceil(ec)/2,eh/=ec/es),(en=(ei=this.cachedCanvases.getCanvas(eu,et,es)).context).clearRect(0,0,et,es),en.drawImage(ee,0,0,ed,ec,0,0,et,es),ee=ei.canvas,ed=et,ec=es,eu="prescale1"===eu?"prescale2":"prescale1"}return{img:ee,paintWidth:ed,paintHeight:ec}}_createMaskCanvas(ee){let et,ei,eo,eh;let ed=this.ctx,{width:ec,height:eu}=ee,ep=this.current.fillColor,ef=this.current.patternFill,eg=(0,es.getCurrentTransform)(ed);if((ee.bitmap||ee.data)&&ee.count>1){let en=ee.bitmap||ee.data.buffer;ei=JSON.stringify(ef?eg:[eg.slice(0,4),ep]),(et=this._cachedBitmapsMap.get(en))||(et=new Map,this._cachedBitmapsMap.set(en,et));let es=et.get(ei);if(es&&!ef){let ee=Math.round(Math.min(eg[0],eg[2])+eg[4]),et=Math.round(Math.min(eg[1],eg[3])+eg[5]);return{canvas:es,offsetX:ee,offsetY:et}}eo=es}eo||eC((eh=this.cachedCanvases.getCanvas("maskCanvas",ec,eu)).context,ee);let em=en.Util.transform(eg,[1/ec,0,0,-1/eu,0,0]);em=en.Util.transform(em,[1,0,0,1,0,-eu]);let ey=en.Util.applyTransform([0,0],em),eb=en.Util.applyTransform([ec,eu],em),eA=en.Util.normalizeRect([ey[0],ey[1],eb[0],eb[1]]),ew=Math.round(eA[2]-eA[0])||1,ek=Math.round(eA[3]-eA[1])||1,eE=this.cachedCanvases.getCanvas("fillCanvas",ew,ek),ex=eE.context,eS=Math.min(ey[0],eb[0]),eM=Math.min(ey[1],eb[1]);ex.translate(-eS,-eM),ex.transform(...em),!eo&&(eo=(eo=this._scaleImage(eh.canvas,(0,es.getCurrentTransformInverse)(ex))).img,et&&ef&&et.set(ei,eo)),ex.imageSmoothingEnabled=eL((0,es.getCurrentTransform)(ex),ee.interpolate),e_(ex,eo,0,0,eo.width,eo.height,0,0,ec,eu),ex.globalCompositeOperation="source-in";let eT=en.Util.transform((0,es.getCurrentTransformInverse)(ex),[1,0,0,1,-eS,-eM]);return ex.fillStyle=ef?ep.getPattern(ed,this,eT,er.PathType.FILL):ep,ex.fillRect(0,0,ec,eu),et&&!ef&&(this.cachedCanvases.delete("fillCanvas"),et.set(ei,eE.canvas)),{canvas:eE.canvas,offsetX:Math.round(eS),offsetY:Math.round(eM)}}setLineWidth(ee){ee!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=ee,this.ctx.lineWidth=ee}setLineCap(ee){this.ctx.lineCap=eR[ee]}setLineJoin(ee){this.ctx.lineJoin=eD[ee]}setMiterLimit(ee){this.ctx.miterLimit=ee}setDash(ee,et){let ei=this.ctx;void 0!==ei.setLineDash&&(ei.setLineDash(ee),ei.lineDashOffset=et)}setRenderingIntent(ee){}setFlatness(ee){}setGState(ee){for(let[et,ei]of ee)switch(et){case"LW":this.setLineWidth(ei);break;case"LC":this.setLineCap(ei);break;case"LJ":this.setLineJoin(ei);break;case"ML":this.setMiterLimit(ei);break;case"D":this.setDash(ei[0],ei[1]);break;case"RI":this.setRenderingIntent(ei);break;case"FL":this.setFlatness(ei);break;case"Font":this.setFont(ei[0],ei[1]);break;case"CA":this.current.strokeAlpha=ei;break;case"ca":this.current.fillAlpha=ei,this.ctx.globalAlpha=ei;break;case"BM":this.ctx.globalCompositeOperation=ei;break;case"SMask":this.current.activeSMask=ei?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(ei)}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){let ee=this.inSMaskMode;this.current.activeSMask&&!ee?this.beginSMaskMode():!this.current.activeSMask&&ee&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw Error("beginSMaskMode called while already in smask mode");let ee=this.ctx.canvas.width,et=this.ctx.canvas.height,ei="smaskGroupAt"+this.groupLevel,en=this.cachedCanvases.getCanvas(ei,ee,et);this.suspendedCtx=this.ctx,this.ctx=en.context;let er=this.ctx;er.setTransform(...(0,es.getCurrentTransform)(this.suspendedCtx)),eE(this.suspendedCtx,er),ey(er,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),eE(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(ee){if(!this.current.activeSMask)return;ee?(ee[0]=Math.floor(ee[0]),ee[1]=Math.floor(ee[1]),ee[2]=Math.ceil(ee[2]),ee[3]=Math.ceil(ee[3])):ee=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];let et=this.current.activeSMask,ei=this.suspendedCtx;eP(ei,et,this.ctx,ee),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}save(){this.inSMaskMode?(eE(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();let ee=this.current;this.stateStack.push(ee),this.current=ee.clone()}restore(){0===this.stateStack.length&&this.inSMaskMode&&this.endSMaskMode(),0!==this.stateStack.length&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),eE(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(ee,et,ei,en,es,er){this.ctx.transform(ee,et,ei,en,es,er),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(ee,et,ei){let er,eo;let eh=this.ctx,ed=this.current,ec=ed.x,eu=ed.y,ep=(0,es.getCurrentTransform)(eh),ef=0===ep[0]&&0===ep[3]||0===ep[1]&&0===ep[2],eg=ef?ei.slice(0):null;for(let ei=0,es=0,em=ee.length;ei<em;ei++)switch(0|ee[ei]){case en.OPS.rectangle:ec=et[es++],eu=et[es++];let em=et[es++],ey=et[es++],eb=ec+em,e_=eu+ey;eh.moveTo(ec,eu),0===em||0===ey?eh.lineTo(eb,e_):(eh.lineTo(eb,eu),eh.lineTo(eb,e_),eh.lineTo(ec,e_)),ef||ed.updateRectMinMax(ep,[ec,eu,eb,e_]),eh.closePath();break;case en.OPS.moveTo:ec=et[es++],eu=et[es++],eh.moveTo(ec,eu),ef||ed.updatePathMinMax(ep,ec,eu);break;case en.OPS.lineTo:ec=et[es++],eu=et[es++],eh.lineTo(ec,eu),ef||ed.updatePathMinMax(ep,ec,eu);break;case en.OPS.curveTo:er=ec,eo=eu,ec=et[es+4],eu=et[es+5],eh.bezierCurveTo(et[es],et[es+1],et[es+2],et[es+3],ec,eu),ed.updateCurvePathMinMax(ep,er,eo,et[es],et[es+1],et[es+2],et[es+3],ec,eu,eg),es+=6;break;case en.OPS.curveTo2:er=ec,eo=eu,eh.bezierCurveTo(ec,eu,et[es],et[es+1],et[es+2],et[es+3]),ed.updateCurvePathMinMax(ep,er,eo,ec,eu,et[es],et[es+1],et[es+2],et[es+3],eg),ec=et[es+2],eu=et[es+3],es+=4;break;case en.OPS.curveTo3:er=ec,eo=eu,ec=et[es+2],eu=et[es+3],eh.bezierCurveTo(et[es],et[es+1],ec,eu,ec,eu),ed.updateCurvePathMinMax(ep,er,eo,et[es],et[es+1],ec,eu,ec,eu,eg),es+=4;break;case en.OPS.closePath:eh.closePath()}ef&&ed.updateScalingPathMinMax(ep,eg),ed.setCurrentPoint(ec,eu)}closePath(){this.ctx.closePath()}stroke(ee=!0){let et=this.ctx,ei=this.current.strokeColor;et.globalAlpha=this.current.strokeAlpha,this.contentVisible&&("object"==typeof ei&&ei?.getPattern?(et.save(),et.strokeStyle=ei.getPattern(et,this,(0,es.getCurrentTransformInverse)(et),er.PathType.STROKE),this.rescaleAndStroke(!1),et.restore()):this.rescaleAndStroke(!0)),ee&&this.consumePath(this.current.getClippedPathBoundingBox()),et.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(ee=!0){let et=this.ctx,ei=this.current.fillColor,en=this.current.patternFill,eo=!1;en&&(et.save(),et.fillStyle=ei.getPattern(et,this,(0,es.getCurrentTransformInverse)(et),er.PathType.FILL),eo=!0);let eh=this.current.getClippedPathBoundingBox();this.contentVisible&&null!==eh&&(this.pendingEOFill?(et.fill("evenodd"),this.pendingEOFill=!1):et.fill()),eo&&et.restore(),ee&&this.consumePath(eh)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=eI}eoClip(){this.pendingClip=eF}beginText(){this.current.textMatrix=en.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){let ee=this.pendingTextPaths,et=this.ctx;if(void 0===ee){et.beginPath();return}for(let ei of(et.save(),et.beginPath(),ee))et.setTransform(...ei.transform),et.translate(ei.x,ei.y),ei.addToPath(et,ei.fontSize);et.restore(),et.clip(),et.beginPath(),delete this.pendingTextPaths}setCharSpacing(ee){this.current.charSpacing=ee}setWordSpacing(ee){this.current.wordSpacing=ee}setHScale(ee){this.current.textHScale=ee/100}setLeading(ee){this.current.leading=-ee}setFont(ee,et){let ei=this.commonObjs.get(ee),es=this.current;if(!ei)throw Error(`Can't find font for ${ee}`);if(es.fontMatrix=ei.fontMatrix||en.FONT_IDENTITY_MATRIX,(0===es.fontMatrix[0]||0===es.fontMatrix[3])&&(0,en.warn)("Invalid font matrix for font "+ee),et<0?(et=-et,es.fontDirection=-1):es.fontDirection=1,this.current.font=ei,this.current.fontSize=et,ei.isType3Font)return;let er=ei.loadedName||"sans-serif",eo=ei.systemFontInfo?.css||`"${er}", ${ei.fallbackName}`,eh="normal";ei.black?eh="900":ei.bold&&(eh="bold");let eu=ei.italic?"italic":"normal",ep=et;et<ed?ep=ed:et>ec&&(ep=ec),this.current.fontSizeScale=et/ep,this.ctx.font=`${eu} ${eh} ${ep}px ${eo}`}setTextRenderingMode(ee){this.current.textRenderingMode=ee}setTextRise(ee){this.current.textRise=ee}moveText(ee,et){this.current.x=this.current.lineX+=ee,this.current.y=this.current.lineY+=et}setLeadingMoveText(ee,et){this.setLeading(-et),this.moveText(ee,et)}setTextMatrix(ee,et,ei,en,es,er){this.current.textMatrix=[ee,et,ei,en,es,er],this.current.textMatrixScale=Math.hypot(ee,et),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(ee,et,ei,er){let eo;let eh=this.ctx,ed=this.current,ec=ed.font,eu=ed.textRenderingMode,ep=ed.fontSize/ed.fontSizeScale,ef=eu&en.TextRenderingMode.FILL_STROKE_MASK,eg=!!(eu&en.TextRenderingMode.ADD_TO_PATH_FLAG),em=ed.patternFill&&!ec.missingFile;if((ec.disableFontFace||eg||em)&&(eo=ec.getPathGenerator(this.commonObjs,ee)),ec.disableFontFace||em?(eh.save(),eh.translate(et,ei),eh.beginPath(),eo(eh,ep),er&&eh.setTransform(...er),(ef===en.TextRenderingMode.FILL||ef===en.TextRenderingMode.FILL_STROKE)&&eh.fill(),(ef===en.TextRenderingMode.STROKE||ef===en.TextRenderingMode.FILL_STROKE)&&eh.stroke(),eh.restore()):((ef===en.TextRenderingMode.FILL||ef===en.TextRenderingMode.FILL_STROKE)&&eh.fillText(ee,et,ei),(ef===en.TextRenderingMode.STROKE||ef===en.TextRenderingMode.FILL_STROKE)&&eh.strokeText(ee,et,ei)),eg){let ee=this.pendingTextPaths||=[];ee.push({transform:(0,es.getCurrentTransform)(eh),x:et,y:ei,fontSize:ep,addToPath:eo})}}get isFontSubpixelAAEnabled(){let{context:ee}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);ee.scale(1.5,1),ee.fillText("I",0,10);let et=ee.getImageData(0,0,10,10).data,ei=!1;for(let ee=3;ee<et.length;ee+=4)if(et[ee]>0&&et[ee]<255){ei=!0;break}return(0,en.shadow)(this,"isFontSubpixelAAEnabled",ei)}showText(ee){let et;let ei=this.current,eo=ei.font;if(eo.isType3Font)return this.showType3Text(ee);let eh=ei.fontSize;if(0===eh)return;let ed=this.ctx,ec=ei.fontSizeScale,eu=ei.charSpacing,ep=ei.wordSpacing,ef=ei.fontDirection,eg=ei.textHScale*ef,em=ee.length,ey=eo.vertical,eb=ey?1:-1,e_=eo.defaultVMetrics,eA=eh*ei.fontMatrix[0],ew=ei.textRenderingMode===en.TextRenderingMode.FILL&&!eo.disableFontFace&&!ei.patternFill;if(ed.save(),ed.transform(...ei.textMatrix),ed.translate(ei.x,ei.y+ei.textRise),ef>0?ed.scale(eg,-1):ed.scale(eg,1),ei.patternFill){ed.save();let ee=ei.fillColor.getPattern(ed,this,(0,es.getCurrentTransformInverse)(ed),er.PathType.FILL);et=(0,es.getCurrentTransform)(ed),ed.restore(),ed.fillStyle=ee}let ek=ei.lineWidth,eC=ei.textMatrixScale;if(0===eC||0===ek){let ee=ei.textRenderingMode&en.TextRenderingMode.FILL_STROKE_MASK;(ee===en.TextRenderingMode.STROKE||ee===en.TextRenderingMode.FILL_STROKE)&&(ek=this.getSinglePixelWidth())}else ek/=eC;if(1!==ec&&(ed.scale(ec,ec),ek/=ec),ed.lineWidth=ek,eo.isInvalidPDFjsFont){let et=[],en=0;for(let ei of ee)et.push(ei.unicode),en+=ei.width;ed.fillText(et.join(""),0,0),ei.x+=en*eA*eg,ed.restore(),this.compose();return}let eE=0,ex;for(ex=0;ex<em;++ex){let ei,en,es;let er=ee[ex];if("number"==typeof er){eE+=eb*er*eh/1e3;continue}let eg=!1,em=(er.isSpace?ep:0)+eu,ek=er.fontChar,eC=er.accent,eS=er.width;if(ey){let ee=er.vmetric||e_,et=-(er.vmetric?ee[1]:.5*eS)*eA,es=ee[2]*eA;eS=ee?-ee[0]:eS,ei=et/ec,en=(eE+es)/ec}else ei=eE/ec,en=0;if(eo.remeasure&&eS>0){let ee=1e3*ed.measureText(ek).width/eh*ec;if(eS<ee&&this.isFontSubpixelAAEnabled){let et=eS/ee;eg=!0,ed.save(),ed.scale(et,1),ei/=et}else eS!==ee&&(ei+=(eS-ee)/2e3*eh/ec)}if(this.contentVisible&&(er.isInFont||eo.missingFile)){if(ew&&!eC)ed.fillText(ek,ei,en);else if(this.paintChar(ek,ei,en,et),eC){let ee=ei+eh*eC.offset.x/ec,es=en-eh*eC.offset.y/ec;this.paintChar(eC.fontChar,ee,es,et)}}eE+=es=ey?eS*eA-em*ef:eS*eA+em*ef,eg&&ed.restore()}ey?ei.y-=eE:ei.x+=eE*eg,ed.restore(),this.compose()}showType3Text(ee){let et,ei,es,er;let eo=this.ctx,eh=this.current,ed=eh.font,ec=eh.fontSize,eu=eh.fontDirection,ep=ed.vertical?1:-1,ef=eh.charSpacing,eg=eh.wordSpacing,em=eh.textHScale*eu,ey=eh.fontMatrix||en.FONT_IDENTITY_MATRIX,eb=ee.length,e_=eh.textRenderingMode===en.TextRenderingMode.INVISIBLE;if(!e_&&0!==ec){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,eo.save(),eo.transform(...eh.textMatrix),eo.translate(eh.x,eh.y),eo.scale(em,eu),et=0;et<eb;++et){if("number"==typeof(ei=ee[et])){er=ep*ei*ec/1e3,this.ctx.translate(er,0),eh.x+=er*em;continue}let eu=(ei.isSpace?eg:0)+ef,eb=ed.charProcOperatorList[ei.operatorListId];if(!eb){(0,en.warn)(`Type3 character "${ei.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=ei,this.save(),eo.scale(ec,ec),eo.transform(...ey),this.executeOperatorList(eb),this.restore());let e_=en.Util.applyTransform([ei.width,0],ey);es=e_[0]*ec+eu,eo.translate(es,0),eh.x+=es*em}eo.restore(),this.processingType3=null}}setCharWidth(ee,et){}setCharWidthAndBounds(ee,et,ei,en,es,er){this.ctx.rect(ei,en,es-ei,er-en),this.ctx.clip(),this.endPath()}getColorN_Pattern(ee){let et;if("TilingPattern"===ee[0]){let ei=ee[1],en=this.baseTransform||(0,es.getCurrentTransform)(this.ctx),eo={createCanvasGraphics:ee=>new eB(ee,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};et=new er.TilingPattern(ee,ei,this.ctx,eo,en)}else et=this._getPattern(ee[1],ee[2]);return et}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(ee,et,ei){let es=en.Util.makeHexColor(ee,et,ei);this.ctx.strokeStyle=es,this.current.strokeColor=es}setFillRGBColor(ee,et,ei){let es=en.Util.makeHexColor(ee,et,ei);this.ctx.fillStyle=es,this.current.fillColor=es,this.current.patternFill=!1}_getPattern(ee,et=null){let ei;return this.cachedPatterns.has(ee)?ei=this.cachedPatterns.get(ee):(ei=(0,er.getShadingPattern)(this.getObject(ee)),this.cachedPatterns.set(ee,ei)),et&&(ei.matrix=et),ei}shadingFill(ee){if(!this.contentVisible)return;let et=this.ctx;this.save();let ei=this._getPattern(ee);et.fillStyle=ei.getPattern(et,this,(0,es.getCurrentTransformInverse)(et),er.PathType.SHADING);let eo=(0,es.getCurrentTransformInverse)(et);if(eo){let{width:ee,height:ei}=et.canvas,[es,er,eh,ed]=en.Util.getAxialAlignedBoundingBox([0,0,ee,ei],eo);this.ctx.fillRect(es,er,eh-es,ed-er)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,en.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,en.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(ee,et){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(ee)&&6===ee.length&&this.transform(...ee),this.baseTransform=(0,es.getCurrentTransform)(this.ctx),et)){let ee=et[2]-et[0],ei=et[3]-et[1];this.ctx.rect(et[0],et[1],ee,ei),this.current.updateRectMinMax((0,es.getCurrentTransform)(this.ctx),et),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(ee){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);let et=this.ctx;ee.isolated||(0,en.info)("TODO: Support non-isolated groups."),ee.knockout&&(0,en.warn)("Knockout groups not supported.");let ei=(0,es.getCurrentTransform)(et);if(ee.matrix&&et.transform(...ee.matrix),!ee.bbox)throw Error("Bounding box is required.");let er=en.Util.getAxialAlignedBoundingBox(ee.bbox,(0,es.getCurrentTransform)(et)),eo=[0,0,et.canvas.width,et.canvas.height];er=en.Util.intersect(er,eo)||[0,0,0,0];let eh=Math.floor(er[0]),ed=Math.floor(er[1]),ec=Math.max(Math.ceil(er[2])-eh,1),ep=Math.max(Math.ceil(er[3])-ed,1),ef=1,eg=1;ec>eu&&(ef=ec/eu,ec=eu),ep>eu&&(eg=ep/eu,ep=eu),this.current.startNewPathAndClipBox([0,0,ec,ep]);let em="groupAt"+this.groupLevel;ee.smask&&(em+="_smask_"+this.smaskCounter++%2);let ey=this.cachedCanvases.getCanvas(em,ec,ep),eb=ey.context;eb.scale(1/ef,1/eg),eb.translate(-eh,-ed),eb.transform(...ei),ee.smask?this.smaskStack.push({canvas:ey.canvas,context:eb,offsetX:eh,offsetY:ed,scaleX:ef,scaleY:eg,subtype:ee.smask.subtype,backdrop:ee.smask.backdrop,transferMap:ee.smask.transferMap||null,startTransformInverse:null}):(et.setTransform(1,0,0,1,0,0),et.translate(eh,ed),et.scale(ef,eg),et.save()),eE(et,eb),this.ctx=eb,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(et),this.groupLevel++}endGroup(ee){if(!this.contentVisible)return;this.groupLevel--;let et=this.ctx,ei=this.groupStack.pop();if(this.ctx=ei,this.ctx.imageSmoothingEnabled=!1,ee.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();let ee=(0,es.getCurrentTransform)(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...ee);let ei=en.Util.getAxialAlignedBoundingBox([0,0,et.canvas.width,et.canvas.height],ee);this.ctx.drawImage(et.canvas,0,0),this.ctx.restore(),this.compose(ei)}}beginAnnotation(ee,et,ei,er,eo){if(this.#eP(),ex(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),Array.isArray(et)&&4===et.length){let er=et[2]-et[0],eh=et[3]-et[1];if(eo&&this.annotationCanvasMap){ei=ei.slice(),ei[4]-=et[0],ei[5]-=et[1],(et=et.slice())[0]=et[1]=0,et[2]=er,et[3]=eh;let[eo,ed]=en.Util.singularValueDecompose2dScale((0,es.getCurrentTransform)(this.ctx)),{viewportScale:ec}=this,eu=Math.ceil(er*this.outputScaleX*ec),ep=Math.ceil(eh*this.outputScaleY*ec);this.annotationCanvas=this.canvasFactory.create(eu,ep);let{canvas:ef,context:eg}=this.annotationCanvas;this.annotationCanvasMap.set(ee,ef),this.annotationCanvas.savedCtx=this.ctx,this.ctx=eg,this.ctx.save(),this.ctx.setTransform(eo,0,0,-ed,0,eh*ed),ex(this.ctx)}else ex(this.ctx),this.ctx.rect(et[0],et[1],er,eh),this.ctx.clip(),this.endPath()}this.current=new ew(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...ei),this.transform(...er)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),this.#eL(),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(ee){if(!this.contentVisible)return;let et=ee.count;(ee=this.getObject(ee.data,ee)).count=et;let ei=this.ctx,en=this.processingType3;if(en&&(void 0===en.compiled&&(en.compiled=eA(ee)),en.compiled)){en.compiled(ei);return}let es=this._createMaskCanvas(ee),er=es.canvas;ei.save(),ei.setTransform(1,0,0,1,0,0),ei.drawImage(er,es.offsetX,es.offsetY),ei.restore(),this.compose()}paintImageMaskXObjectRepeat(ee,et,ei=0,er=0,eo,eh){if(!this.contentVisible)return;ee=this.getObject(ee.data,ee);let ed=this.ctx;ed.save();let ec=(0,es.getCurrentTransform)(ed);ed.transform(et,ei,er,eo,0,0);let eu=this._createMaskCanvas(ee);ed.setTransform(1,0,0,1,eu.offsetX-ec[4],eu.offsetY-ec[5]);for(let ee=0,es=eh.length;ee<es;ee+=2){let es=en.Util.transform(ec,[et,ei,er,eo,eh[ee],eh[ee+1]]),[ep,ef]=en.Util.applyTransform([0,0],es);ed.drawImage(eu.canvas,ep,ef)}ed.restore(),this.compose()}paintImageMaskXObjectGroup(ee){if(!this.contentVisible)return;let et=this.ctx,ei=this.current.fillColor,en=this.current.patternFill;for(let eo of ee){let{data:ee,width:eh,height:ed,transform:ec}=eo,eu=this.cachedCanvases.getCanvas("maskCanvas",eh,ed),ep=eu.context;ep.save();let ef=this.getObject(ee,eo);eC(ep,ef),ep.globalCompositeOperation="source-in",ep.fillStyle=en?ei.getPattern(ep,this,(0,es.getCurrentTransformInverse)(et),er.PathType.FILL):ei,ep.fillRect(0,0,eh,ed),ep.restore(),et.save(),et.transform(...ec),et.scale(1,-1),e_(et,eu.canvas,0,0,eh,ed,0,-1,1,1),et.restore()}this.compose()}paintImageXObject(ee){if(!this.contentVisible)return;let et=this.getObject(ee);if(!et){(0,en.warn)("Dependent image isn't ready yet");return}this.paintInlineImageXObject(et)}paintImageXObjectRepeat(ee,et,ei,es){if(!this.contentVisible)return;let er=this.getObject(ee);if(!er){(0,en.warn)("Dependent image isn't ready yet");return}let eo=er.width,eh=er.height,ed=[];for(let ee=0,en=es.length;ee<en;ee+=2)ed.push({transform:[et,0,0,ei,es[ee],es[ee+1]],x:0,y:0,w:eo,h:eh});this.paintInlineImageXObjectGroup(er,ed)}applyTransferMapsToCanvas(ee){return"none"!==this.current.transferMaps&&(ee.filter=this.current.transferMaps,ee.drawImage(ee.canvas,0,0),ee.filter="none"),ee.canvas}applyTransferMapsToBitmap(ee){if("none"===this.current.transferMaps)return ee.bitmap;let{bitmap:et,width:ei,height:en}=ee,es=this.cachedCanvases.getCanvas("inlineImage",ei,en),er=es.context;return er.filter=this.current.transferMaps,er.drawImage(et,0,0),er.filter="none",es.canvas}paintInlineImageXObject(ee){let et;if(!this.contentVisible)return;let ei=ee.width,en=ee.height,er=this.ctx;if(this.save(),eh.isNodeJS||(er.filter="none"),er.scale(1/ei,-1/en),ee.bitmap)et=this.applyTransferMapsToBitmap(ee);else if("function"==typeof HTMLElement&&ee instanceof HTMLElement||!ee.data)et=ee;else{let es=this.cachedCanvases.getCanvas("inlineImage",ei,en),er=es.context;ek(er,ee),et=this.applyTransferMapsToCanvas(er)}let eo=this._scaleImage(et,(0,es.getCurrentTransformInverse)(er));er.imageSmoothingEnabled=eL((0,es.getCurrentTransform)(er),ee.interpolate),e_(er,eo.img,0,0,eo.paintWidth,eo.paintHeight,0,-en,ei,en),this.compose(),this.restore()}paintInlineImageXObjectGroup(ee,et){let ei;if(!this.contentVisible)return;let en=this.ctx;if(ee.bitmap)ei=ee.bitmap;else{let et=ee.width,en=ee.height,es=this.cachedCanvases.getCanvas("inlineImage",et,en),er=es.context;ek(er,ee),ei=this.applyTransferMapsToCanvas(er)}for(let ee of et)en.save(),en.transform(...ee.transform),en.scale(1,-1),e_(en,ei,ee.x,ee.y,ee.w,ee.h,0,-1,1,1),en.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(ee){}markPointProps(ee,et){}beginMarkedContent(ee){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(ee,et){"OC"===ee?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(et)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(ee){let et=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(ee);let ei=this.ctx;this.pendingClip&&(et||(this.pendingClip===eF?ei.clip("evenodd"):ei.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),ei.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){let ee=(0,es.getCurrentTransform)(this.ctx);if(0===ee[1]&&0===ee[2])this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(ee[0]),Math.abs(ee[3]));else{let et=Math.abs(ee[0]*ee[3]-ee[2]*ee[1]),ei=Math.hypot(ee[0],ee[2]),en=Math.hypot(ee[1],ee[3]);this._cachedGetSinglePixelWidth=Math.max(ei,en)/et}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(-1===this._cachedScaleForStroking[0]){let ee,et;let{lineWidth:ei}=this.current,{a:en,b:es,c:er,d:eo}=this.ctx.getTransform();if(0===es&&0===er){let es=Math.abs(en),er=Math.abs(eo);if(es===er){if(0===ei)ee=et=1/es;else{let en=es*ei;ee=et=en<1?1/en:1}}else if(0===ei)ee=1/es,et=1/er;else{let en=es*ei,eo=er*ei;ee=en<1?1/en:1,et=eo<1?1/eo:1}}else{let eh=Math.abs(en*eo-es*er),ed=Math.hypot(en,es),ec=Math.hypot(er,eo);if(0===ei)ee=ec/eh,et=ed/eh;else{let en=ei*eh;ee=ec>en?ec/en:1,et=ed>en?ed/en:1}}this._cachedScaleForStroking[0]=ee,this._cachedScaleForStroking[1]=et}return this._cachedScaleForStroking}rescaleAndStroke(ee){let{ctx:et}=this,{lineWidth:ei}=this.current,[en,es]=this.getScaleForStroking();if(et.lineWidth=ei||1,1===en&&1===es){et.stroke();return}let er=et.getLineDash();if(ee&&et.save(),et.scale(en,es),er.length>0){let ee=Math.max(en,es);et.setLineDash(er.map(et=>et/ee)),et.lineDashOffset/=ee}et.stroke(),ee&&et.restore()}isContentVisible(){for(let ee=this.markedContentStack.length-1;ee>=0;ee--)if(!this.markedContentStack[ee].visible)return!1;return!0}}for(let ee in et.CanvasGraphics=eB,en.OPS)void 0!==eB.prototype[ee]&&(eB.prototype[en.OPS[ee]]=eB.prototype[ee])},(ee,et,ei)=>{Object.defineProperty(et,"__esModule",{value:!0}),et.TilingPattern=et.PathType=void 0,et.getShadingPattern=eg;var en=ei(1),es=ei(6);let er={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function eo(ee,et){if(!et)return;let ei=et[2]-et[0],en=et[3]-et[1],es=new Path2D;es.rect(et[0],et[1],ei,en),ee.clip(es)}et.PathType=er;class eh{constructor(){this.constructor===eh&&(0,en.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,en.unreachable)("Abstract method `getPattern` called.")}}class ed extends eh{constructor(ee){super(),this._type=ee[1],this._bbox=ee[2],this._colorStops=ee[3],this._p0=ee[4],this._p1=ee[5],this._r0=ee[6],this._r1=ee[7],this.matrix=null}_createGradient(ee){let et;for(let ei of("axial"===this._type?et=ee.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):"radial"===this._type&&(et=ee.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1)),this._colorStops))et.addColorStop(ei[0],ei[1]);return et}getPattern(ee,et,ei,eh){let ed;if(eh===er.STROKE||eh===er.FILL){let er=et.current.getClippedPathBoundingBox(eh,(0,es.getCurrentTransform)(ee))||[0,0,0,0],ec=Math.ceil(er[2]-er[0])||1,eu=Math.ceil(er[3]-er[1])||1,ep=et.cachedCanvases.getCanvas("pattern",ec,eu,!0),ef=ep.context;ef.clearRect(0,0,ef.canvas.width,ef.canvas.height),ef.beginPath(),ef.rect(0,0,ef.canvas.width,ef.canvas.height),ef.translate(-er[0],-er[1]),ei=en.Util.transform(ei,[1,0,0,1,er[0],er[1]]),ef.transform(...et.baseTransform),this.matrix&&ef.transform(...this.matrix),eo(ef,this._bbox),ef.fillStyle=this._createGradient(ef),ef.fill(),ed=ee.createPattern(ep.canvas,"no-repeat");let eg=new DOMMatrix(ei);ed.setTransform(eg)}else eo(ee,this._bbox),ed=this._createGradient(ee);return ed}}function ec(ee,et,ei,en,es,er,eo,eh){let ed,ec,eu,ep,ef,eg,em,ey,eb;let e_=et.coords,eA=et.colors,ew=ee.data,ek=4*ee.width;e_[ei+1]>e_[en+1]&&(ed=ei,ei=en,en=ed,ed=er,er=eo,eo=ed),e_[en+1]>e_[es+1]&&(ed=en,en=es,es=ed,ed=eo,eo=eh,eh=ed),e_[ei+1]>e_[en+1]&&(ed=ei,ei=en,en=ed,ed=er,er=eo,eo=ed);let eC=(e_[ei]+et.offsetX)*et.scaleX,eE=(e_[ei+1]+et.offsetY)*et.scaleY,ex=(e_[en]+et.offsetX)*et.scaleX,eS=(e_[en+1]+et.offsetY)*et.scaleY,eM=(e_[es]+et.offsetX)*et.scaleX,eT=(e_[es+1]+et.offsetY)*et.scaleY;if(eE>=eT)return;let eO=eA[er],eP=eA[er+1],eL=eA[er+2],eR=eA[eo],eD=eA[eo+1],eI=eA[eo+2],eF=eA[eh],eB=eA[eh+1],eN=eA[eh+2],e$=Math.round(eE),ej=Math.round(eT);for(let ee=e$;ee<=ej;ee++){let et;if(ee<eS){let et;ec=eC-(eC-ex)*(et=ee<eE?0:(eE-ee)/(eE-eS)),eu=eO-(eO-eR)*et,ep=eP-(eP-eD)*et,ef=eL-(eL-eI)*et}else{let et;ec=ex-(ex-eM)*(et=ee>eT?1:eS===eT?0:(eS-ee)/(eS-eT)),eu=eR-(eR-eF)*et,ep=eD-(eD-eB)*et,ef=eI-(eI-eN)*et}eg=eC-(eC-eM)*(et=ee<eE?0:ee>eT?1:(eE-ee)/(eE-eT)),em=eO-(eO-eF)*et,ey=eP-(eP-eB)*et,eb=eL-(eL-eN)*et;let ei=Math.round(Math.min(ec,eg)),en=Math.round(Math.max(ec,eg)),es=ek*ee+4*ei;for(let ee=ei;ee<=en;ee++)(et=(ec-ee)/(ec-eg))<0?et=0:et>1&&(et=1),ew[es++]=eu-(eu-em)*et|0,ew[es++]=ep-(ep-ey)*et|0,ew[es++]=ef-(ef-eb)*et|0,ew[es++]=255}}function eu(ee,et,ei){let en,es;let er=et.coords,eo=et.colors;switch(et.type){case"lattice":let eh=et.verticesPerRow,ed=Math.floor(er.length/eh)-1,eu=eh-1;for(en=0;en<ed;en++){let et=en*eh;for(let en=0;en<eu;en++,et++)ec(ee,ei,er[et],er[et+1],er[et+eh],eo[et],eo[et+1],eo[et+eh]),ec(ee,ei,er[et+eh+1],er[et+1],er[et+eh],eo[et+eh+1],eo[et+1],eo[et+eh])}break;case"triangles":for(en=0,es=er.length;en<es;en+=3)ec(ee,ei,er[en],er[en+1],er[en+2],eo[en],eo[en+1],eo[en+2]);break;default:throw Error("illegal figure")}}class ep extends eh{constructor(ee){super(),this._coords=ee[2],this._colors=ee[3],this._figures=ee[4],this._bounds=ee[5],this._bbox=ee[7],this._background=ee[8],this.matrix=null}_createMeshCanvas(ee,et,ei){let en=1.1,es=3e3,er=2,eo=Math.floor(this._bounds[0]),eh=Math.floor(this._bounds[1]),ed=Math.ceil(this._bounds[2])-eo,ec=Math.ceil(this._bounds[3])-eh,ep=Math.min(Math.ceil(Math.abs(ed*ee[0]*en)),es),ef=Math.min(Math.ceil(Math.abs(ec*ee[1]*en)),es),eg=ed/ep,em=ec/ef,ey={coords:this._coords,colors:this._colors,offsetX:-eo,offsetY:-eh,scaleX:1/eg,scaleY:1/em},eb=ep+2*er,e_=ef+2*er,eA=ei.getCanvas("mesh",eb,e_,!1),ew=eA.context,ek=ew.createImageData(ep,ef);if(et){let ee=ek.data;for(let ei=0,en=ee.length;ei<en;ei+=4)ee[ei]=et[0],ee[ei+1]=et[1],ee[ei+2]=et[2],ee[ei+3]=255}for(let ee of this._figures)eu(ek,ee,ey);ew.putImageData(ek,er,er);let eC=eA.canvas;return{canvas:eC,offsetX:eo-er*eg,offsetY:eh-er*em,scaleX:eg,scaleY:em}}getPattern(ee,et,ei,eh){let ed;if(eo(ee,this._bbox),eh===er.SHADING)ed=en.Util.singularValueDecompose2dScale((0,es.getCurrentTransform)(ee));else if(ed=en.Util.singularValueDecompose2dScale(et.baseTransform),this.matrix){let ee=en.Util.singularValueDecompose2dScale(this.matrix);ed=[ed[0]*ee[0],ed[1]*ee[1]]}let ec=this._createMeshCanvas(ed,eh===er.SHADING?null:this._background,et.cachedCanvases);return eh!==er.SHADING&&(ee.setTransform(...et.baseTransform),this.matrix&&ee.transform(...this.matrix)),ee.translate(ec.offsetX,ec.offsetY),ee.scale(ec.scaleX,ec.scaleY),ee.createPattern(ec.canvas,"no-repeat")}}class ef extends eh{getPattern(){return"hotpink"}}function eg(ee){switch(ee[0]){case"RadialAxial":return new ed(ee);case"Mesh":return new ep(ee);case"Dummy":return new ef}throw Error(`Unknown IR type: ${ee[0]}`)}let em={COLORED:1,UNCOLORED:2};class ey{static MAX_PATTERN_SIZE=3e3;constructor(ee,et,ei,en,es){this.operatorList=ee[2],this.matrix=ee[3]||[1,0,0,1,0,0],this.bbox=ee[4],this.xstep=ee[5],this.ystep=ee[6],this.paintType=ee[7],this.tilingType=ee[8],this.color=et,this.ctx=ei,this.canvasGraphicsFactory=en,this.baseTransform=es}createPatternCanvas(ee){let et=this.operatorList,ei=this.bbox,er=this.xstep,eo=this.ystep,eh=this.paintType,ed=this.tilingType,ec=this.color,eu=this.canvasGraphicsFactory;(0,en.info)("TilingType: "+ed);let ep=ei[0],ef=ei[1],eg=ei[2],em=ei[3],ey=en.Util.singularValueDecompose2dScale(this.matrix),eb=en.Util.singularValueDecompose2dScale(this.baseTransform),e_=[ey[0]*eb[0],ey[1]*eb[1]],eA=this.getSizeAndScale(er,this.ctx.canvas.width,e_[0]),ew=this.getSizeAndScale(eo,this.ctx.canvas.height,e_[1]),ek=ee.cachedCanvases.getCanvas("pattern",eA.size,ew.size,!0),eC=ek.context,eE=eu.createCanvasGraphics(eC);eE.groupLevel=ee.groupLevel,this.setFillAndStrokeStyleToContext(eE,eh,ec);let ex=ep,eS=ef,eM=eg,eT=em;return ep<0&&(ex=0,eM+=Math.abs(ep)),ef<0&&(eS=0,eT+=Math.abs(ef)),eC.translate(-(eA.scale*ex),-(ew.scale*eS)),eE.transform(eA.scale,0,0,ew.scale,0,0),eC.save(),this.clipBbox(eE,ex,eS,eM,eT),eE.baseTransform=(0,es.getCurrentTransform)(eE.ctx),eE.executeOperatorList(et),eE.endDrawing(),{canvas:ek.canvas,scaleX:eA.scale,scaleY:ew.scale,offsetX:ex,offsetY:eS}}getSizeAndScale(ee,et,ei){ee=Math.abs(ee);let en=Math.max(ey.MAX_PATTERN_SIZE,et),es=Math.ceil(ee*ei);return es>=en?es=en:ei=es/ee,{scale:ei,size:es}}clipBbox(ee,et,ei,en,er){let eo=en-et,eh=er-ei;ee.ctx.rect(et,ei,eo,eh),ee.current.updateRectMinMax((0,es.getCurrentTransform)(ee.ctx),[et,ei,en,er]),ee.clip(),ee.endPath()}setFillAndStrokeStyleToContext(ee,et,ei){let es=ee.ctx,er=ee.current;switch(et){case em.COLORED:let eo=this.ctx;es.fillStyle=eo.fillStyle,es.strokeStyle=eo.strokeStyle,er.fillColor=eo.fillStyle,er.strokeColor=eo.strokeStyle;break;case em.UNCOLORED:let eh=en.Util.makeHexColor(ei[0],ei[1],ei[2]);es.fillStyle=eh,es.strokeStyle=eh,er.fillColor=eh,er.strokeColor=eh;break;default:throw new en.FormatError(`Unsupported paint type: ${et}`)}}getPattern(ee,et,ei,es){let eo=ei;es!==er.SHADING&&(eo=en.Util.transform(eo,et.baseTransform),this.matrix&&(eo=en.Util.transform(eo,this.matrix)));let eh=this.createPatternCanvas(et),ed=new DOMMatrix(eo);ed=(ed=ed.translate(eh.offsetX,eh.offsetY)).scale(1/eh.scaleX,1/eh.scaleY);let ec=ee.createPattern(eh.canvas,"repeat");return ec.setTransform(ed),ec}}et.TilingPattern=ey},(ee,et,ei)=>{Object.defineProperty(et,"__esModule",{value:!0}),et.convertBlackAndWhiteToRGBA=er,et.convertToRGBA=es,et.grayToRGBA=eh;var en=ei(1);function es(ee){switch(ee.kind){case en.ImageKind.GRAYSCALE_1BPP:return er(ee);case en.ImageKind.RGB_24BPP:return eo(ee)}return null}function er({src:ee,srcPos:et=0,dest:ei,width:es,height:er,nonBlackColor:eo=4294967295,inverseDecode:eh=!1}){let ed=en.FeatureTest.isLittleEndian?4278190080:255,[ec,eu]=eh?[eo,ed]:[ed,eo],ep=es>>3,ef=7&es,eg=ee.length;ei=new Uint32Array(ei.buffer);let em=0;for(let en=0;en<er;en++){for(let en=et+ep;et<en;et++){let en=et<eg?ee[et]:255;ei[em++]=128&en?eu:ec,ei[em++]=64&en?eu:ec,ei[em++]=32&en?eu:ec,ei[em++]=16&en?eu:ec,ei[em++]=8&en?eu:ec,ei[em++]=4&en?eu:ec,ei[em++]=2&en?eu:ec,ei[em++]=1&en?eu:ec}if(0===ef)continue;let en=et<eg?ee[et++]:255;for(let ee=0;ee<ef;ee++)ei[em++]=en&1<<7-ee?eu:ec}return{srcPos:et,destPos:em}}function eo({src:ee,srcPos:et=0,dest:ei,destPos:es=0,width:er,height:eo}){let eh=0,ed=ee.length>>2,ec=new Uint32Array(ee.buffer,et,ed);if(en.FeatureTest.isLittleEndian){for(;eh<ed-2;eh+=3,es+=4){let ee=ec[eh],et=ec[eh+1],en=ec[eh+2];ei[es]=4278190080|ee,ei[es+1]=ee>>>24|et<<8|4278190080,ei[es+2]=et>>>16|en<<16|4278190080,ei[es+3]=en>>>8|4278190080}for(let et=4*eh,en=ee.length;et<en;et+=3)ei[es++]=ee[et]|ee[et+1]<<8|ee[et+2]<<16|4278190080}else{for(;eh<ed-2;eh+=3,es+=4){let ee=ec[eh],et=ec[eh+1],en=ec[eh+2];ei[es]=255|ee,ei[es+1]=ee<<24|et>>>8|255,ei[es+2]=et<<16|en>>>16|255,ei[es+3]=en<<8|255}for(let et=4*eh,en=ee.length;et<en;et+=3)ei[es++]=ee[et]<<24|ee[et+1]<<16|ee[et+2]<<8|255}return{srcPos:et,destPos:es}}function eh(ee,et){if(en.FeatureTest.isLittleEndian)for(let ei=0,en=ee.length;ei<en;ei++)et[ei]=65793*ee[ei]|4278190080;else for(let ei=0,en=ee.length;ei<en;ei++)et[ei]=16843008*ee[ei]|255}},(ee,et)=>{Object.defineProperty(et,"__esModule",{value:!0}),et.GlobalWorkerOptions=void 0;let ei=Object.create(null);et.GlobalWorkerOptions=ei,ei.workerPort=null,ei.workerSrc=""},(ee,et,ei)=>{Object.defineProperty(et,"__esModule",{value:!0}),et.MessageHandler=void 0;var en=ei(1);let es={DATA:1,ERROR:2},er={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function eo(ee){switch(ee instanceof Error||"object"==typeof ee&&null!==ee||(0,en.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),ee.name){case"AbortException":return new en.AbortException(ee.message);case"MissingPDFException":return new en.MissingPDFException(ee.message);case"PasswordException":return new en.PasswordException(ee.message,ee.code);case"UnexpectedResponseException":return new en.UnexpectedResponseException(ee.message,ee.status);case"UnknownErrorException":return new en.UnknownErrorException(ee.message,ee.details);default:return new en.UnknownErrorException(ee.message,ee.toString())}}class eh{constructor(ee,et,ei){this.sourceName=ee,this.targetName=et,this.comObj=ei,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=ee=>{let et=ee.data;if(et.targetName!==this.sourceName)return;if(et.stream){this.#eR(et);return}if(et.callback){let ee=et.callbackId,ei=this.callbackCapabilities[ee];if(!ei)throw Error(`Cannot resolve callback ${ee}`);if(delete this.callbackCapabilities[ee],et.callback===es.DATA)ei.resolve(et.data);else if(et.callback===es.ERROR)ei.reject(eo(et.reason));else throw Error("Unexpected callback case");return}let en=this.actionHandler[et.action];if(!en)throw Error(`Unknown action from worker: ${et.action}`);if(et.callbackId){let ee=this.sourceName,er=et.sourceName;new Promise(function(ee){ee(en(et.data))}).then(function(en){ei.postMessage({sourceName:ee,targetName:er,callback:es.DATA,callbackId:et.callbackId,data:en})},function(en){ei.postMessage({sourceName:ee,targetName:er,callback:es.ERROR,callbackId:et.callbackId,reason:eo(en)})});return}if(et.streamId){this.#eD(et);return}en(et.data)},ei.addEventListener("message",this._onComObjOnMessage)}on(ee,et){let ei=this.actionHandler;if(ei[ee])throw Error(`There is already an actionName called "${ee}"`);ei[ee]=et}send(ee,et,ei){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:ee,data:et},ei)}sendWithPromise(ee,et,ei){let es=this.callbackId++,er=new en.PromiseCapability;this.callbackCapabilities[es]=er;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:ee,callbackId:es,data:et},ei)}catch(ee){er.reject(ee)}return er.promise}sendWithStream(ee,et,ei,es){let eh=this.streamId++,ed=this.sourceName,ec=this.targetName,eu=this.comObj;return new ReadableStream({start:ei=>{let er=new en.PromiseCapability;return this.streamControllers[eh]={controller:ei,startCall:er,pullCall:null,cancelCall:null,isClosed:!1},eu.postMessage({sourceName:ed,targetName:ec,action:ee,streamId:eh,data:et,desiredSize:ei.desiredSize},es),er.promise},pull:ee=>{let et=new en.PromiseCapability;return this.streamControllers[eh].pullCall=et,eu.postMessage({sourceName:ed,targetName:ec,stream:er.PULL,streamId:eh,desiredSize:ee.desiredSize}),et.promise},cancel:ee=>{(0,en.assert)(ee instanceof Error,"cancel must have a valid reason");let et=new en.PromiseCapability;return this.streamControllers[eh].cancelCall=et,this.streamControllers[eh].isClosed=!0,eu.postMessage({sourceName:ed,targetName:ec,stream:er.CANCEL,streamId:eh,reason:eo(ee)}),et.promise}},ei)}#eD(ee){let et=ee.streamId,ei=this.sourceName,es=ee.sourceName,eh=this.comObj,ed=this,ec=this.actionHandler[ee.action],eu={enqueue(ee,eo=1,ed){if(this.isCancelled)return;let ec=this.desiredSize;this.desiredSize-=eo,ec>0&&this.desiredSize<=0&&(this.sinkCapability=new en.PromiseCapability,this.ready=this.sinkCapability.promise),eh.postMessage({sourceName:ei,targetName:es,stream:er.ENQUEUE,streamId:et,chunk:ee},ed)},close(){this.isCancelled||(this.isCancelled=!0,eh.postMessage({sourceName:ei,targetName:es,stream:er.CLOSE,streamId:et}),delete ed.streamSinks[et])},error(ee){(0,en.assert)(ee instanceof Error,"error must have a valid reason"),this.isCancelled||(this.isCancelled=!0,eh.postMessage({sourceName:ei,targetName:es,stream:er.ERROR,streamId:et,reason:eo(ee)}))},sinkCapability:new en.PromiseCapability,onPull:null,onCancel:null,isCancelled:!1,desiredSize:ee.desiredSize,ready:null};eu.sinkCapability.resolve(),eu.ready=eu.sinkCapability.promise,this.streamSinks[et]=eu,new Promise(function(et){et(ec(ee.data,eu))}).then(function(){eh.postMessage({sourceName:ei,targetName:es,stream:er.START_COMPLETE,streamId:et,success:!0})},function(ee){eh.postMessage({sourceName:ei,targetName:es,stream:er.START_COMPLETE,streamId:et,reason:eo(ee)})})}#eR(ee){let et=ee.streamId,ei=this.sourceName,es=ee.sourceName,eh=this.comObj,ed=this.streamControllers[et],ec=this.streamSinks[et];switch(ee.stream){case er.START_COMPLETE:ee.success?ed.startCall.resolve():ed.startCall.reject(eo(ee.reason));break;case er.PULL_COMPLETE:ee.success?ed.pullCall.resolve():ed.pullCall.reject(eo(ee.reason));break;case er.PULL:if(!ec){eh.postMessage({sourceName:ei,targetName:es,stream:er.PULL_COMPLETE,streamId:et,success:!0});break}ec.desiredSize<=0&&ee.desiredSize>0&&ec.sinkCapability.resolve(),ec.desiredSize=ee.desiredSize,new Promise(function(ee){ee(ec.onPull?.())}).then(function(){eh.postMessage({sourceName:ei,targetName:es,stream:er.PULL_COMPLETE,streamId:et,success:!0})},function(ee){eh.postMessage({sourceName:ei,targetName:es,stream:er.PULL_COMPLETE,streamId:et,reason:eo(ee)})});break;case er.ENQUEUE:if((0,en.assert)(ed,"enqueue should have stream controller"),ed.isClosed)break;ed.controller.enqueue(ee.chunk);break;case er.CLOSE:if((0,en.assert)(ed,"close should have stream controller"),ed.isClosed)break;ed.isClosed=!0,ed.controller.close(),this.#eI(ed,et);break;case er.ERROR:(0,en.assert)(ed,"error should have stream controller"),ed.controller.error(eo(ee.reason)),this.#eI(ed,et);break;case er.CANCEL_COMPLETE:ee.success?ed.cancelCall.resolve():ed.cancelCall.reject(eo(ee.reason)),this.#eI(ed,et);break;case er.CANCEL:if(!ec)break;new Promise(function(et){et(ec.onCancel?.(eo(ee.reason)))}).then(function(){eh.postMessage({sourceName:ei,targetName:es,stream:er.CANCEL_COMPLETE,streamId:et,success:!0})},function(ee){eh.postMessage({sourceName:ei,targetName:es,stream:er.CANCEL_COMPLETE,streamId:et,reason:eo(ee)})}),ec.sinkCapability.reject(eo(ee.reason)),ec.isCancelled=!0,delete this.streamSinks[et];break;default:throw Error("Unexpected stream case")}}async #eI(ee,et){await Promise.allSettled([ee.startCall?.promise,ee.pullCall?.promise,ee.cancelCall?.promise]),delete this.streamControllers[et]}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}et.MessageHandler=eh},(ee,et,ei)=>{Object.defineProperty(et,"__esModule",{value:!0}),et.Metadata=void 0;var en=ei(1);class es{#eF;#eB;constructor({parsedData:ee,rawData:et}){this.#eF=ee,this.#eB=et}getRaw(){return this.#eB}get(ee){return this.#eF.get(ee)??null}getAll(){return(0,en.objectFromMap)(this.#eF)}has(ee){return this.#eF.has(ee)}}et.Metadata=es},(ee,et,ei)=>{Object.defineProperty(et,"__esModule",{value:!0}),et.OptionalContentConfig=void 0;var en=ei(1),es=ei(8);let er=Symbol("INTERNAL");class eo{#eN=!0;constructor(ee,et){this.name=ee,this.intent=et}get visible(){return this.#eN}_setVisible(ee,et){ee!==er&&(0,en.unreachable)("Internal method `_setVisible` called."),this.#eN=et}}class eh{#e$=null;#ej=new Map;#eH=null;#eW=null;constructor(ee){if(this.name=null,this.creator=null,null===ee)return;for(let et of(this.name=ee.name,this.creator=ee.creator,this.#eW=ee.order,ee.groups))this.#ej.set(et.id,new eo(et.name,et.intent));if("OFF"===ee.baseState)for(let ee of this.#ej.values())ee._setVisible(er,!1);for(let et of ee.on)this.#ej.get(et)._setVisible(er,!0);for(let et of ee.off)this.#ej.get(et)._setVisible(er,!1);this.#eH=this.getHash()}#ez(ee){let et=ee.length;if(et<2)return!0;let ei=ee[0];for(let es=1;es<et;es++){let et;let er=ee[es];if(Array.isArray(er))et=this.#ez(er);else{if(!this.#ej.has(er))return(0,en.warn)(`Optional content group not found: ${er}`),!0;et=this.#ej.get(er).visible}switch(ei){case"And":if(!et)return!1;break;case"Or":if(et)return!0;break;case"Not":return!et;default:return!0}}return"And"===ei}isVisible(ee){if(0===this.#ej.size)return!0;if(!ee)return(0,en.warn)("Optional content group not defined."),!0;if("OCG"===ee.type)return this.#ej.has(ee.id)?this.#ej.get(ee.id).visible:((0,en.warn)(`Optional content group not found: ${ee.id}`),!0);if("OCMD"===ee.type){if(ee.expression)return this.#ez(ee.expression);if(ee.policy&&"AnyOn"!==ee.policy){if("AllOn"===ee.policy){for(let et of ee.ids){if(!this.#ej.has(et)){(0,en.warn)(`Optional content group not found: ${et}`);break}if(!this.#ej.get(et).visible)return!1}return!0}if("AnyOff"===ee.policy){for(let et of ee.ids){if(!this.#ej.has(et))return(0,en.warn)(`Optional content group not found: ${et}`),!0;if(!this.#ej.get(et).visible)return!0}return!1}if("AllOff"===ee.policy){for(let et of ee.ids){if(!this.#ej.has(et)){(0,en.warn)(`Optional content group not found: ${et}`);break}if(this.#ej.get(et).visible)return!1}return!0}}else{for(let et of ee.ids){if(!this.#ej.has(et))return(0,en.warn)(`Optional content group not found: ${et}`),!0;if(this.#ej.get(et).visible)return!0}return!1}return(0,en.warn)(`Unknown optional content policy ${ee.policy}.`),!0}return(0,en.warn)(`Unknown group type ${ee.type}.`),!0}setVisibility(ee,et=!0){if(!this.#ej.has(ee)){(0,en.warn)(`Optional content group not found: ${ee}`);return}this.#ej.get(ee)._setVisible(er,!!et),this.#e$=null}get hasInitialVisibility(){return this.getHash()===this.#eH}getOrder(){return this.#ej.size?this.#eW?this.#eW.slice():[...this.#ej.keys()]:null}getGroups(){return this.#ej.size>0?(0,en.objectFromMap)(this.#ej):null}getGroup(ee){return this.#ej.get(ee)||null}getHash(){if(null!==this.#e$)return this.#e$;let ee=new es.MurmurHash3_64;for(let[et,ei]of this.#ej)ee.update(`${et}:${ei.visible}`);return this.#e$=ee.hexdigest()}}et.OptionalContentConfig=eh},(ee,et,ei)=>{Object.defineProperty(et,"__esModule",{value:!0}),et.PDFDataTransportStream=void 0;var en=ei(1),es=ei(6);class er{constructor({length:ee,initialData:et,progressiveDone:ei=!1,contentDispositionFilename:es=null,disableRange:er=!1,disableStream:eo=!1},eh){if((0,en.assert)(eh,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=ei,this._contentDispositionFilename=es,et?.length>0){let ee=et instanceof Uint8Array&&et.byteLength===et.buffer.byteLength?et.buffer:new Uint8Array(et).buffer;this._queuedChunks.push(ee)}this._pdfDataRangeTransport=eh,this._isStreamingSupported=!eo,this._isRangeSupported=!er,this._contentLength=ee,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((ee,et)=>{this._onReceiveData({begin:ee,chunk:et})}),this._pdfDataRangeTransport.addProgressListener((ee,et)=>{this._onProgress({loaded:ee,total:et})}),this._pdfDataRangeTransport.addProgressiveReadListener(ee=>{this._onReceiveData({chunk:ee})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData({begin:ee,chunk:et}){let ei=et instanceof Uint8Array&&et.byteLength===et.buffer.byteLength?et.buffer:new Uint8Array(et).buffer;if(void 0===ee)this._fullRequestReader?this._fullRequestReader._enqueue(ei):this._queuedChunks.push(ei);else{let et=this._rangeReaders.some(function(et){return et._begin===ee&&(et._enqueue(ei),!0)});(0,en.assert)(et,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}_onProgress(ee){void 0===ee.total?this._rangeReaders[0]?.onProgress?.({loaded:ee.loaded}):this._fullRequestReader?.onProgress?.({loaded:ee.loaded,total:ee.total})}_onProgressiveDone(){this._fullRequestReader?.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(ee){let et=this._rangeReaders.indexOf(ee);et>=0&&this._rangeReaders.splice(et,1)}getFullReader(){(0,en.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");let ee=this._queuedChunks;return this._queuedChunks=null,new eo(this,ee,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(ee,et){if(et<=this._progressiveDataLength)return null;let ei=new eh(this,ee,et);return this._pdfDataRangeTransport.requestDataRange(ee,et),this._rangeReaders.push(ei),ei}cancelAllRequests(ee){for(let et of(this._fullRequestReader?.cancel(ee),this._rangeReaders.slice(0)))et.cancel(ee);this._pdfDataRangeTransport.abort()}}et.PDFDataTransportStream=er;class eo{constructor(ee,et,ei=!1,en=null){for(let er of(this._stream=ee,this._done=ei||!1,this._filename=(0,es.isPdfFile)(en)?en:null,this._queuedChunks=et||[],this._loaded=0,this._queuedChunks))this._loaded+=er.byteLength;this._requests=[],this._headersReady=Promise.resolve(),ee._fullRequestReader=this,this.onProgress=null}_enqueue(ee){if(!this._done){if(this._requests.length>0){let et=this._requests.shift();et.resolve({value:ee,done:!1})}else this._queuedChunks.push(ee);this._loaded+=ee.byteLength}}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0){let ee=this._queuedChunks.shift();return{value:ee,done:!1}}if(this._done)return{value:void 0,done:!0};let ee=new en.PromiseCapability;return this._requests.push(ee),ee.promise}cancel(ee){for(let ee of(this._done=!0,this._requests))ee.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class eh{constructor(ee,et,ei){this._stream=ee,this._begin=et,this._end=ei,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(ee){if(!this._done){if(0===this._requests.length)this._queuedChunk=ee;else{let et=this._requests.shift();for(let ei of(et.resolve({value:ee,done:!1}),this._requests))ei.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){let ee=this._queuedChunk;return this._queuedChunk=null,{value:ee,done:!1}}if(this._done)return{value:void 0,done:!0};let ee=new en.PromiseCapability;return this._requests.push(ee),ee.promise}cancel(ee){for(let ee of(this._done=!0,this._requests))ee.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(ee,et)=>{Object.defineProperty(et,"__esModule",{value:!0}),et.XfaText=void 0;class ei{static textContent(ee){let et=[],en={items:et,styles:Object.create(null)};function es(ee){if(!ee)return;let en=null,er=ee.name;if("#text"===er)en=ee.value;else{if(!ei.shouldBuildText(er))return;ee?.attributes?.textContent?en=ee.attributes.textContent:ee.value&&(en=ee.value)}if(null!==en&&et.push({str:en}),ee.children)for(let et of ee.children)es(et)}return es(ee),en}static shouldBuildText(ee){return!("textarea"===ee||"input"===ee||"option"===ee||"select"===ee)}}et.XfaText=ei},(ee,et,ei)=>{Object.defineProperty(et,"__esModule",{value:!0}),et.NodeStandardFontDataFactory=et.NodeFilterFactory=et.NodeCanvasFactory=et.NodeCMapReaderFactory=void 0;var en=ei(7);let es=function(ee){return new Promise((et,ei)=>{let en=__webpack_require__("9495");en.readFile(ee,(ee,en)=>{if(ee||!en){ei(Error(ee));return}et(new Uint8Array(en))})})};class er extends en.BaseFilterFactory{}et.NodeFilterFactory=er;class eo extends en.BaseCanvasFactory{_createCanvas(ee,et){let ei=__webpack_require__("2878");return ei.createCanvas(ee,et)}}et.NodeCanvasFactory=eo;class eh extends en.BaseCMapReaderFactory{_fetchData(ee,et){return es(ee).then(ee=>({cMapData:ee,compressionType:et}))}}et.NodeCMapReaderFactory=eh;class ed extends en.BaseStandardFontDataFactory{_fetchData(ee){return es(ee)}}et.NodeStandardFontDataFactory=ed},(ee,et,ei)=>{Object.defineProperty(et,"__esModule",{value:!0}),et.PDFNodeStream=void 0;var en=ei(1),es=ei(22);let er=__webpack_require__("9495"),eo=__webpack_require__("1975"),eh=__webpack_require__("5266"),ed=__webpack_require__("4898"),ec=/^file:\/\/\/[a-zA-Z]:\//;function eu(ee){let et=ed.parse(ee);return"file:"===et.protocol||et.host?et:/^[a-z]:[/\\]/i.test(ee)?ed.parse(`file:///${ee}`):(et.host||(et.protocol="file:"),et)}class ep{constructor(ee){this.source=ee,this.url=eu(ee.url),this.isHttp="http:"===this.url.protocol||"https:"===this.url.protocol,this.isFsUrl="file:"===this.url.protocol,this.httpHeaders=this.isHttp&&ee.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return(0,en.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new e_(this):new ey(this),this._fullRequestReader}getRangeReader(ee,et){if(et<=this._progressiveDataLength)return null;let ei=this.isFsUrl?new eA(this,ee,et):new eb(this,ee,et);return this._rangeRequestReaders.push(ei),ei}cancelAllRequests(ee){for(let et of(this._fullRequestReader?.cancel(ee),this._rangeRequestReaders.slice(0)))et.cancel(ee)}}et.PDFNodeStream=ep;class ef{constructor(ee){this._url=ee.url,this._done=!1,this._storedError=null,this.onProgress=null;let et=ee.source;this._contentLength=et.length,this._loaded=0,this._filename=null,this._disableRange=et.disableRange||!1,this._rangeChunkSize=et.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._isStreamingSupported=!et.disableStream,this._isRangeSupported=!et.disableRange,this._readableStream=null,this._readCapability=new en.PromiseCapability,this._headersCapability=new en.PromiseCapability}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;let ee=this._readableStream.read();if(null===ee)return this._readCapability=new en.PromiseCapability,this.read();this._loaded+=ee.length,this.onProgress?.({loaded:this._loaded,total:this._contentLength});let et=new Uint8Array(ee).buffer;return{value:et,done:!1}}cancel(ee){if(!this._readableStream){this._error(ee);return}this._readableStream.destroy(ee)}_error(ee){this._storedError=ee,this._readCapability.resolve()}_setReadableStream(ee){this._readableStream=ee,ee.on("readable",()=>{this._readCapability.resolve()}),ee.on("end",()=>{ee.destroy(),this._done=!0,this._readCapability.resolve()}),ee.on("error",ee=>{this._error(ee)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new en.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class eg{constructor(ee){this._url=ee.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=new en.PromiseCapability;let et=ee.source;this._isStreamingSupported=!et.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;let ee=this._readableStream.read();if(null===ee)return this._readCapability=new en.PromiseCapability,this.read();this._loaded+=ee.length,this.onProgress?.({loaded:this._loaded});let et=new Uint8Array(ee).buffer;return{value:et,done:!1}}cancel(ee){if(!this._readableStream){this._error(ee);return}this._readableStream.destroy(ee)}_error(ee){this._storedError=ee,this._readCapability.resolve()}_setReadableStream(ee){this._readableStream=ee,ee.on("readable",()=>{this._readCapability.resolve()}),ee.on("end",()=>{ee.destroy(),this._done=!0,this._readCapability.resolve()}),ee.on("error",ee=>{this._error(ee)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function em(ee,et){return{protocol:ee.protocol,auth:ee.auth,host:ee.hostname,port:ee.port,path:ee.path,method:"GET",headers:et}}class ey extends ef{constructor(ee){super(ee);let et=et=>{if(404===et.statusCode){let ee=new en.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=ee,this._headersCapability.reject(ee);return}this._headersCapability.resolve(),this._setReadableStream(et);let ei=ee=>this._readableStream.headers[ee.toLowerCase()],{allowRangeRequests:er,suggestedLength:eo}=(0,es.validateRangeRequestCapabilities)({getResponseHeader:ei,isHttp:ee.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=er,this._contentLength=eo||this._contentLength,this._filename=(0,es.extractFilenameFromHeader)(ei)};this._request=null,"http:"===this._url.protocol?this._request=eo.request(em(this._url,ee.httpHeaders),et):this._request=eh.request(em(this._url,ee.httpHeaders),et),this._request.on("error",ee=>{this._storedError=ee,this._headersCapability.reject(ee)}),this._request.end()}}class eb extends eg{constructor(ee,et,ei){for(let et in super(ee),this._httpHeaders={},ee.httpHeaders){let ei=ee.httpHeaders[et];void 0!==ei&&(this._httpHeaders[et]=ei)}this._httpHeaders.Range=`bytes=${et}-${ei-1}`;let es=ee=>{if(404===ee.statusCode){let ee=new en.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=ee;return}this._setReadableStream(ee)};this._request=null,"http:"===this._url.protocol?this._request=eo.request(em(this._url,this._httpHeaders),es):this._request=eh.request(em(this._url,this._httpHeaders),es),this._request.on("error",ee=>{this._storedError=ee}),this._request.end()}}class e_ extends ef{constructor(ee){super(ee);let et=decodeURIComponent(this._url.path);ec.test(this._url.href)&&(et=et.replace(/^\//,"")),er.lstat(et,(ee,ei)=>{if(ee){"ENOENT"===ee.code&&(ee=new en.MissingPDFException(`Missing PDF "${et}".`)),this._storedError=ee,this._headersCapability.reject(ee);return}this._contentLength=ei.size,this._setReadableStream(er.createReadStream(et)),this._headersCapability.resolve()})}}class eA extends eg{constructor(ee,et,ei){super(ee);let en=decodeURIComponent(this._url.path);ec.test(this._url.href)&&(en=en.replace(/^\//,"")),this._setReadableStream(er.createReadStream(en,{start:et,end:ei-1}))}}},(ee,et,ei)=>{Object.defineProperty(et,"__esModule",{value:!0}),et.createResponseStatusError=ed,et.extractFilenameFromHeader=eh,et.validateRangeRequestCapabilities=eo,et.validateResponseStatus=ec;var en=ei(1),es=ei(23),er=ei(6);function eo({getResponseHeader:ee,isHttp:et,rangeChunkSize:ei,disableRange:en}){let es={allowRangeRequests:!1,suggestedLength:void 0},er=parseInt(ee("Content-Length"),10);if(!Number.isInteger(er)||(es.suggestedLength=er,er<=2*ei||en||!et||"bytes"!==ee("Accept-Ranges")))return es;let eo=ee("Content-Encoding")||"identity";return"identity"!==eo||(es.allowRangeRequests=!0),es}function eh(ee){let et=ee("Content-Disposition");if(et){let ee=(0,es.getFilenameFromContentDispositionHeader)(et);if(ee.includes("%"))try{ee=decodeURIComponent(ee)}catch{}if((0,er.isPdfFile)(ee))return ee}return null}function ed(ee,et){return 404===ee||0===ee&&et.startsWith("file:")?new en.MissingPDFException('Missing PDF "'+et+'".'):new en.UnexpectedResponseException(`Unexpected server response (${ee}) while retrieving PDF "${et}".`,ee)}function ec(ee){return 200===ee||206===ee}},(ee,et,ei)=>{Object.defineProperty(et,"__esModule",{value:!0}),et.getFilenameFromContentDispositionHeader=es;var en=ei(1);function es(ee){let et=!0,ei=es("filename\\*","i").exec(ee);if(ei){let ee=ed(ei=ei[1]);return eo(ee=eu(ee=ec(ee=unescape(ee))))}if(ei=eh(ee)){let ee=eu(ei);return eo(ee)}if(ei=es("filename","i").exec(ee)){let ee=ed(ei=ei[1]);return eo(ee=eu(ee))}function es(ee,et){return RegExp("(?:^|;)\\s*"+ee+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',et)}function er(ee,ei){if(ee){if(!/^[\x00-\xFF]+$/.test(ei))return ei;try{let es=new TextDecoder(ee,{fatal:!0}),er=(0,en.stringToBytes)(ei);ei=es.decode(er),et=!1}catch{}}return ei}function eo(ee){return et&&/[\x80-\xff]/.test(ee)&&(ee=er("utf-8",ee),et&&(ee=er("iso-8859-1",ee))),ee}function eh(ee){let et;let ei=[],en=es("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;null!==(et=en.exec(ee));){let[,ee,en,es]=et;if((ee=parseInt(ee,10))in ei){if(0===ee)break;continue}ei[ee]=[en,es]}let er=[];for(let ee=0;ee<ei.length&&(ee in ei);++ee){let[et,en]=ei[ee];en=ed(en),et&&(en=unescape(en),0===ee&&(en=ec(en))),er.push(en)}return er.join("")}function ed(ee){if(ee.startsWith('"')){let et=ee.slice(1).split('\\"');for(let ee=0;ee<et.length;++ee){let ei=et[ee].indexOf('"');-1!==ei&&(et[ee]=et[ee].slice(0,ei),et.length=ee+1),et[ee]=et[ee].replaceAll(/\\(.)/g,"$1")}ee=et.join('"')}return ee}function ec(ee){let et=ee.indexOf("'");if(-1===et)return ee;let ei=ee.slice(0,et),en=ee.slice(et+1),es=en.replace(/^[^']*'/,"");return er(ei,es)}function eu(ee){return!ee.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(ee)?ee:ee.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(ee,et,ei,en){if("q"===ei||"Q"===ei)return er(et,en=(en=en.replaceAll("_"," ")).replaceAll(/=([0-9a-fA-F]{2})/g,function(ee,et){return String.fromCharCode(parseInt(et,16))}));try{en=atob(en)}catch{}return er(et,en)})}return""}},(ee,et,ei)=>{Object.defineProperty(et,"__esModule",{value:!0}),et.PDFNetworkStream=void 0;var en=ei(1),es=ei(22);let er=200,eo=206;function eh(ee){let et=ee.response;return"string"!=typeof et?et:(0,en.stringToBytes)(et).buffer}class ed{constructor(ee,et={}){this.url=ee,this.isHttp=/^https?:/i.test(ee),this.httpHeaders=this.isHttp&&et.httpHeaders||Object.create(null),this.withCredentials=et.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(ee,et,ei){let en={begin:ee,end:et};for(let ee in ei)en[ee]=ei[ee];return this.request(en)}requestFull(ee){return this.request(ee)}request(ee){let et=new XMLHttpRequest,ei=this.currXhrId++,en=this.pendingRequests[ei]={xhr:et};for(let ee in et.open("GET",this.url),et.withCredentials=this.withCredentials,this.httpHeaders){let ei=this.httpHeaders[ee];void 0!==ei&&et.setRequestHeader(ee,ei)}return this.isHttp&&"begin"in ee&&"end"in ee?(et.setRequestHeader("Range",`bytes=${ee.begin}-${ee.end-1}`),en.expectedStatus=eo):en.expectedStatus=er,et.responseType="arraybuffer",ee.onError&&(et.onerror=function(ei){ee.onError(et.status)}),et.onreadystatechange=this.onStateChange.bind(this,ei),et.onprogress=this.onProgress.bind(this,ei),en.onHeadersReceived=ee.onHeadersReceived,en.onDone=ee.onDone,en.onError=ee.onError,en.onProgress=ee.onProgress,et.send(null),ei}onProgress(ee,et){let ei=this.pendingRequests[ee];ei&&ei.onProgress?.(et)}onStateChange(ee,et){let ei=this.pendingRequests[ee];if(!ei)return;let en=ei.xhr;if(en.readyState>=2&&ei.onHeadersReceived&&(ei.onHeadersReceived(),delete ei.onHeadersReceived),4!==en.readyState||!(ee in this.pendingRequests))return;if(delete this.pendingRequests[ee],0===en.status&&this.isHttp){ei.onError?.(en.status);return}let es=en.status||er,ed=es===er&&ei.expectedStatus===eo;if(!ed&&es!==ei.expectedStatus){ei.onError?.(en.status);return}let ec=eh(en);if(es===eo){let ee=en.getResponseHeader("Content-Range"),et=/bytes (\d+)-(\d+)\/(\d+)/.exec(ee);ei.onDone({begin:parseInt(et[1],10),chunk:ec})}else ec?ei.onDone({begin:0,chunk:ec}):ei.onError?.(en.status)}getRequestXhr(ee){return this.pendingRequests[ee].xhr}isPendingRequest(ee){return ee in this.pendingRequests}abortRequest(ee){let et=this.pendingRequests[ee].xhr;delete this.pendingRequests[ee],et.abort()}}class ec{constructor(ee){this._source=ee,this._manager=new ed(ee.url,{httpHeaders:ee.httpHeaders,withCredentials:ee.withCredentials}),this._rangeChunkSize=ee.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(ee){let et=this._rangeRequestReaders.indexOf(ee);et>=0&&this._rangeRequestReaders.splice(et,1)}getFullReader(){return(0,en.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new eu(this._manager,this._source),this._fullRequestReader}getRangeReader(ee,et){let ei=new ep(this._manager,ee,et);return ei.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(ei),ei}cancelAllRequests(ee){for(let et of(this._fullRequestReader?.cancel(ee),this._rangeRequestReaders.slice(0)))et.cancel(ee)}}et.PDFNetworkStream=ec;class eu{constructor(ee,et){this._manager=ee;let ei={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=et.url,this._fullRequestId=ee.requestFull(ei),this._headersReceivedCapability=new en.PromiseCapability,this._disableRange=et.disableRange||!1,this._contentLength=et.length,this._rangeChunkSize=et.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){let ee=this._fullRequestId,et=this._manager.getRequestXhr(ee),ei=ee=>et.getResponseHeader(ee),{allowRangeRequests:en,suggestedLength:er}=(0,es.validateRangeRequestCapabilities)({getResponseHeader:ei,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});en&&(this._isRangeSupported=!0),this._contentLength=er||this._contentLength,this._filename=(0,es.extractFilenameFromHeader)(ei),this._isRangeSupported&&this._manager.abortRequest(ee),this._headersReceivedCapability.resolve()}_onDone(ee){if(ee){if(this._requests.length>0){let et=this._requests.shift();et.resolve({value:ee.chunk,done:!1})}else this._cachedChunks.push(ee.chunk)}if(this._done=!0,!(this._cachedChunks.length>0)){for(let ee of this._requests)ee.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(ee){for(let et of(this._storedError=(0,es.createResponseStatusError)(ee,this._url),this._headersReceivedCapability.reject(this._storedError),this._requests))et.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(ee){this.onProgress?.({loaded:ee.loaded,total:ee.lengthComputable?ee.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0){let ee=this._cachedChunks.shift();return{value:ee,done:!1}}if(this._done)return{value:void 0,done:!0};let ee=new en.PromiseCapability;return this._requests.push(ee),ee.promise}cancel(ee){for(let et of(this._done=!0,this._headersReceivedCapability.reject(ee),this._requests))et.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class ep{constructor(ee,et,ei){this._manager=ee;let en={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=ee.url,this._requestId=ee.requestRange(et,ei,en),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){this.onClosed?.(this)}_onDone(ee){let et=ee.chunk;if(this._requests.length>0){let ee=this._requests.shift();ee.resolve({value:et,done:!1})}else this._queuedChunk=et;for(let ee of(this._done=!0,this._requests))ee.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(ee){for(let et of(this._storedError=(0,es.createResponseStatusError)(ee,this._url),this._requests))et.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(ee){this.isStreamingSupported||this.onProgress?.({loaded:ee.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(null!==this._queuedChunk){let ee=this._queuedChunk;return this._queuedChunk=null,{value:ee,done:!1}}if(this._done)return{value:void 0,done:!0};let ee=new en.PromiseCapability;return this._requests.push(ee),ee.promise}cancel(ee){for(let ee of(this._done=!0,this._requests))ee.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(ee,et,ei)=>{Object.defineProperty(et,"__esModule",{value:!0}),et.PDFFetchStream=void 0;var en=ei(1),es=ei(22);function er(ee,et,ei){return{method:"GET",headers:ee,signal:ei.signal,mode:"cors",credentials:et?"include":"same-origin",redirect:"follow"}}function eo(ee){let et=new Headers;for(let ei in ee){let en=ee[ei];void 0!==en&&et.append(ei,en)}return et}function eh(ee){return ee instanceof Uint8Array?ee.buffer:ee instanceof ArrayBuffer?ee:((0,en.warn)(`getArrayBuffer - unexpected data format: ${ee}`),new Uint8Array(ee).buffer)}class ed{constructor(ee){this.source=ee,this.isHttp=/^https?:/i.test(ee.url),this.httpHeaders=this.isHttp&&ee.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return(0,en.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new ec(this),this._fullRequestReader}getRangeReader(ee,et){if(et<=this._progressiveDataLength)return null;let ei=new eu(this,ee,et);return this._rangeRequestReaders.push(ei),ei}cancelAllRequests(ee){for(let et of(this._fullRequestReader?.cancel(ee),this._rangeRequestReaders.slice(0)))et.cancel(ee)}}et.PDFFetchStream=ed;class ec{constructor(ee){this._stream=ee,this._reader=null,this._loaded=0,this._filename=null;let et=ee.source;this._withCredentials=et.withCredentials||!1,this._contentLength=et.length,this._headersCapability=new en.PromiseCapability,this._disableRange=et.disableRange||!1,this._rangeChunkSize=et.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!et.disableStream,this._isRangeSupported=!et.disableRange,this._headers=eo(this._stream.httpHeaders);let ei=et.url;fetch(ei,er(this._headers,this._withCredentials,this._abortController)).then(ee=>{if(!(0,es.validateResponseStatus)(ee.status))throw(0,es.createResponseStatusError)(ee.status,ei);this._reader=ee.body.getReader(),this._headersCapability.resolve();let et=et=>ee.headers.get(et),{allowRangeRequests:er,suggestedLength:eo}=(0,es.validateRangeRequestCapabilities)({getResponseHeader:et,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=er,this._contentLength=eo||this._contentLength,this._filename=(0,es.extractFilenameFromHeader)(et),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new en.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._headersCapability.promise;let{value:ee,done:et}=await this._reader.read();return et?{value:ee,done:et}:(this._loaded+=ee.byteLength,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:eh(ee),done:!1})}cancel(ee){this._reader?.cancel(ee),this._abortController.abort()}}class eu{constructor(ee,et,ei){this._stream=ee,this._reader=null,this._loaded=0;let eh=ee.source;this._withCredentials=eh.withCredentials||!1,this._readCapability=new en.PromiseCapability,this._isStreamingSupported=!eh.disableStream,this._abortController=new AbortController,this._headers=eo(this._stream.httpHeaders),this._headers.append("Range",`bytes=${et}-${ei-1}`);let ed=eh.url;fetch(ed,er(this._headers,this._withCredentials,this._abortController)).then(ee=>{if(!(0,es.validateResponseStatus)(ee.status))throw(0,es.createResponseStatusError)(ee.status,ed);this._readCapability.resolve(),this._reader=ee.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._readCapability.promise;let{value:ee,done:et}=await this._reader.read();return et?{value:ee,done:et}:(this._loaded+=ee.byteLength,this.onProgress?.({loaded:this._loaded}),{value:eh(ee),done:!1})}cancel(ee){this._reader?.cancel(ee),this._abortController.abort()}}},(ee,et,ei)=>{Object.defineProperty(et,"__esModule",{value:!0}),et.TextLayerRenderTask=void 0,et.renderTextLayer=ey,et.updateTextLayer=eb;var en=ei(1),es=ei(6);let er=1e5,eo=30,eh=.8,ed=new Map;function ec(ee,et){let ei;if(et&&en.FeatureTest.isOffscreenCanvasSupported)ei=new OffscreenCanvas(ee,ee).getContext("2d",{alpha:!1});else{let et=document.createElement("canvas");et.width=et.height=ee,ei=et.getContext("2d",{alpha:!1})}return ei}function eu(ee,et){let ei=ed.get(ee);if(ei)return ei;let en=ec(eo,et);en.font=`${eo}px ${ee}`;let es=en.measureText(""),er=es.fontBoundingBoxAscent,eu=Math.abs(es.fontBoundingBoxDescent);if(er){let et=er/(er+eu);return ed.set(ee,et),en.canvas.width=en.canvas.height=0,et}en.strokeStyle="red",en.clearRect(0,0,eo,eo),en.strokeText("g",0,0);let ep=en.getImageData(0,0,eo,eo).data;eu=0;for(let ee=ep.length-1-3;ee>=0;ee-=4)if(ep[ee]>0){eu=Math.ceil(ee/4/eo);break}en.clearRect(0,0,eo,eo),en.strokeText("A",0,eo),ep=en.getImageData(0,0,eo,eo).data,er=0;for(let ee=0,et=ep.length;ee<et;ee+=4)if(ep[ee]>0){er=eo-Math.floor(ee/4/eo);break}if(en.canvas.width=en.canvas.height=0,er){let et=er/(er+eu);return ed.set(ee,et),et}return ed.set(ee,eh),eh}function ep(ee,et,ei){let es,er;let eo=document.createElement("span"),eh={angle:0,canvasWidth:0,hasText:""!==et.str,hasEOL:et.hasEOL,fontSize:0};ee._textDivs.push(eo);let ed=en.Util.transform(ee._transform,et.transform),ec=Math.atan2(ed[1],ed[0]),ep=ei[et.fontName];ep.vertical&&(ec+=Math.PI/2);let ef=Math.hypot(ed[2],ed[3]),eg=ef*eu(ep.fontFamily,ee._isOffscreenCanvasSupported);0===ec?(es=ed[4],er=ed[5]-eg):(es=ed[4]+eg*Math.sin(ec),er=ed[5]-eg*Math.cos(ec));let em="calc(var(--scale-factor)*",ey=eo.style;ee._container===ee._rootContainer?(ey.left=`${(100*es/ee._pageWidth).toFixed(2)}%`,ey.top=`${(100*er/ee._pageHeight).toFixed(2)}%`):(ey.left=`${em}${es.toFixed(2)}px)`,ey.top=`${em}${er.toFixed(2)}px)`),ey.fontSize=`${em}${ef.toFixed(2)}px)`,ey.fontFamily=ep.fontFamily,eh.fontSize=ef,eo.setAttribute("role","presentation"),eo.textContent=et.str,eo.dir=et.dir,ee._fontInspectorEnabled&&(eo.dataset.fontName=et.fontName),0!==ec&&(eh.angle=ec*(180/Math.PI));let eb=!1;if(et.str.length>1)eb=!0;else if(" "!==et.str&&et.transform[0]!==et.transform[3]){let ee=Math.abs(et.transform[0]),ei=Math.abs(et.transform[3]);ee!==ei&&Math.max(ee,ei)/Math.min(ee,ei)>1.5&&(eb=!0)}eb&&(eh.canvasWidth=ep.vertical?et.height:et.width),ee._textDivProperties.set(eo,eh),ee._isReadableStream&&ee._layoutText(eo)}function ef(ee){let{div:et,scale:ei,properties:en,ctx:es,prevFontSize:er,prevFontFamily:eo}=ee,{style:eh}=et,ed="";if(0!==en.canvasWidth&&en.hasText){let{fontFamily:ec}=eh,{canvasWidth:eu,fontSize:ep}=en;(er!==ep||eo!==ec)&&(es.font=`${ep*ei}px ${ec}`,ee.prevFontSize=ep,ee.prevFontFamily=ec);let{width:ef}=es.measureText(et.textContent);ef>0&&(ed=`scaleX(${eu*ei/ef})`)}0!==en.angle&&(ed=`rotate(${en.angle}deg) ${ed}`),ed.length>0&&(eh.transform=ed)}function eg(ee){if(ee._canceled)return;let et=ee._textDivs,ei=ee._capability,en=et.length;if(en>er){ei.resolve();return}if(!ee._isReadableStream)for(let ei of et)ee._layoutText(ei);ei.resolve()}class em{constructor({textContentSource:ee,container:et,viewport:ei,textDivs:er,textDivProperties:eo,textContentItemsStr:eh,isOffscreenCanvasSupported:ed}){this._textContentSource=ee,this._isReadableStream=ee instanceof ReadableStream,this._container=this._rootContainer=et,this._textDivs=er||[],this._textContentItemsStr=eh||[],this._isOffscreenCanvasSupported=ed,this._fontInspectorEnabled=!!globalThis.FontInspector?.enabled,this._reader=null,this._textDivProperties=eo||new WeakMap,this._canceled=!1,this._capability=new en.PromiseCapability,this._layoutTextParams={prevFontSize:null,prevFontFamily:null,div:null,scale:ei.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:ec(0,ed)};let{pageWidth:eu,pageHeight:ep,pageX:ef,pageY:eg}=ei.rawDims;this._transform=[1,0,0,-1,-ef,eg+ep],this._pageWidth=eu,this._pageHeight=ep,(0,es.setLayerDimensions)(et,ei),this._capability.promise.finally(()=>{this._layoutTextParams=null}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new en.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),this._capability.reject(new en.AbortException("TextLayer task cancelled."))}_processItems(ee,et){for(let ei of ee){if(void 0===ei.str){if("beginMarkedContentProps"===ei.type||"beginMarkedContent"===ei.type){let ee=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),null!==ei.id&&this._container.setAttribute("id",`${ei.id}`),ee.append(this._container)}else"endMarkedContent"===ei.type&&(this._container=this._container.parentNode);continue}this._textContentItemsStr.push(ei.str),ep(this,ei,et)}}_layoutText(ee){let et=this._layoutTextParams.properties=this._textDivProperties.get(ee);if(this._layoutTextParams.div=ee,ef(this._layoutTextParams),et.hasText&&this._container.append(ee),et.hasEOL){let ee=document.createElement("br");ee.setAttribute("role","presentation"),this._container.append(ee)}}_render(){let ee=new en.PromiseCapability,et=Object.create(null);if(this._isReadableStream){let ei=()=>{this._reader.read().then(({value:en,done:es})=>{if(es){ee.resolve();return}Object.assign(et,en.styles),this._processItems(en.items,et),ei()},ee.reject)};this._reader=this._textContentSource.getReader(),ei()}else if(this._textContentSource){let{items:et,styles:ei}=this._textContentSource;this._processItems(et,ei),ee.resolve()}else throw Error('No "textContentSource" parameter specified.');ee.promise.then(()=>{et=null,eg(this)},this._capability.reject)}}function ey(ee){!ee.textContentSource&&(ee.textContent||ee.textContentStream)&&((0,es.deprecated)("The TextLayerRender `textContent`/`textContentStream` parameters will be removed in the future, please use `textContentSource` instead."),ee.textContentSource=ee.textContent||ee.textContentStream);let{container:et,viewport:ei}=ee,en=getComputedStyle(et),er=en.getPropertyValue("visibility"),eo=parseFloat(en.getPropertyValue("--scale-factor"));"visible"===er&&(!eo||Math.abs(eo-ei.scale)>1e-5)&&console.error("The `--scale-factor` CSS-variable must be set, to the same value as `viewport.scale`, either on the `container`-element itself or higher up in the DOM.");let eh=new em(ee);return eh._render(),eh}function eb({container:ee,viewport:et,textDivs:ei,textDivProperties:en,isOffscreenCanvasSupported:er,mustRotate:eo=!0,mustRescale:eh=!0}){if(eo&&(0,es.setLayerDimensions)(ee,{rotation:et.rotation}),eh){let ee=ec(0,er),es=et.scale*(globalThis.devicePixelRatio||1),eo={prevFontSize:null,prevFontFamily:null,div:null,scale:es,properties:null,ctx:ee};for(let ee of ei)eo.properties=en.get(ee),eo.div=ee,ef(eo)}}et.TextLayerRenderTask=em},(ee,et,ei)=>{Object.defineProperty(et,"__esModule",{value:!0}),et.AnnotationEditorLayer=void 0;var en=ei(1),es=ei(4),er=ei(5),eo=ei(28),eh=ei(33),ed=ei(6);class ec{#eU;#eq=!1;#eV=null;#eX=this.pointerup.bind(this);#eG=this.pointerdown.bind(this);#eY=new Map;#eK=!1;#eQ=!1;#eJ=!1;#eZ;static _initialized=!1;constructor(ee){ec._initialized||(ec._initialized=!0,eo.FreeTextEditor.initialize(ee.l10n),eh.InkEditor.initialize(ee.l10n)),ee.uiManager.registerEditorTypes([eo.FreeTextEditor,eh.InkEditor]),this.#eZ=ee.uiManager,this.pageIndex=ee.pageIndex,this.div=ee.div,this.#eU=ee.accessibilityManager,this.#eV=ee.annotationLayer,this.viewport=ee.viewport,this.#eZ.addLayer(this)}get isEmpty(){return 0===this.#eY.size}updateToolbar(ee){this.#eZ.updateToolbar(ee)}updateMode(ee=this.#eZ.getMode()){this.#e0(),ee===en.AnnotationEditorType.INK?(this.addInkEditorIfNeeded(!1),this.disableClick()):this.enableClick(),this.#eZ.unselectAll(),ee!==en.AnnotationEditorType.NONE&&(this.div.classList.toggle("freeTextEditing",ee===en.AnnotationEditorType.FREETEXT),this.div.classList.toggle("inkEditing",ee===en.AnnotationEditorType.INK),this.div.hidden=!1)}addInkEditorIfNeeded(ee){if(!ee&&this.#eZ.getMode()!==en.AnnotationEditorType.INK)return;if(!ee){for(let ee of this.#eY.values())if(ee.isEmpty()){ee.setInBackground();return}}let et=this.#e1({offsetX:0,offsetY:0});et.setInBackground()}setEditingState(ee){this.#eZ.setEditingState(ee)}addCommands(ee){this.#eZ.addCommands(ee)}enable(){this.div.style.pointerEvents="auto";let ee=new Set;for(let et of this.#eY.values())et.enableEditing(),et.annotationElementId&&ee.add(et.annotationElementId);if(!this.#eV)return;let et=this.#eV.getEditableAnnotations();for(let ei of et){if(ei.hide(),this.#eZ.isDeletedAnnotationElement(ei.data.id)||ee.has(ei.data.id))continue;let et=this.deserialize(ei);et&&(this.addOrRebuild(et),et.enableEditing())}}disable(){this.#eJ=!0,this.div.style.pointerEvents="none";let ee=new Set;for(let et of this.#eY.values()){if(et.disableEditing(),!et.annotationElementId||null!==et.serialize()){ee.add(et.annotationElementId);continue}this.getEditableAnnotation(et.annotationElementId)?.show(),et.remove()}if(this.#eV){let et=this.#eV.getEditableAnnotations();for(let ei of et){let{id:et}=ei.data;ee.has(et)||this.#eZ.isDeletedAnnotationElement(et)||ei.show()}}this.#e0(),this.isEmpty&&(this.div.hidden=!0),this.#eJ=!1}getEditableAnnotation(ee){return this.#eV?.getEditableAnnotation(ee)||null}setActiveEditor(ee){let et=this.#eZ.getActive();et!==ee&&this.#eZ.setActiveEditor(ee)}enableClick(){this.div.addEventListener("pointerdown",this.#eG),this.div.addEventListener("pointerup",this.#eX)}disableClick(){this.div.removeEventListener("pointerdown",this.#eG),this.div.removeEventListener("pointerup",this.#eX)}attach(ee){this.#eY.set(ee.id,ee);let{annotationElementId:et}=ee;et&&this.#eZ.isDeletedAnnotationElement(et)&&this.#eZ.removeDeletedAnnotationElement(ee)}detach(ee){this.#eY.delete(ee.id),this.#eU?.removePointerInTextLayer(ee.contentDiv),!this.#eJ&&ee.annotationElementId&&this.#eZ.addDeletedAnnotationElement(ee)}remove(ee){this.detach(ee),this.#eZ.removeEditor(ee),ee.div.style.display="none",setTimeout(()=>{ee.div.style.display="",ee.div.remove(),ee.isAttachedToDOM=!1,document.activeElement===document.body&&this.#eZ.focusMainContainer()},0),this.#eQ||this.addInkEditorIfNeeded(!1)}#e2(ee){ee.parent!==this&&(ee.annotationElementId&&(this.#eZ.addDeletedAnnotationElement(ee.annotationElementId),es.AnnotationEditor.deleteAnnotationElement(ee),ee.annotationElementId=null),this.attach(ee),ee.parent?.detach(ee),ee.setParent(this),ee.div&&ee.isAttachedToDOM&&(ee.div.remove(),this.div.append(ee.div)))}add(ee){if(this.#e2(ee),this.#eZ.addEditor(ee),this.attach(ee),!ee.isAttachedToDOM){let et=ee.render();this.div.append(et),ee.isAttachedToDOM=!0}this.moveEditorInDOM(ee),ee.onceAdded(),this.#eZ.addToAnnotationStorage(ee)}moveEditorInDOM(ee){this.#eU?.moveElementInDOM(this.div,ee.div,ee.contentDiv,!0)}addOrRebuild(ee){ee.needsToBeRebuilt()?ee.rebuild():this.add(ee)}getNextId(){return this.#eZ.getId()}#e3(ee){switch(this.#eZ.getMode()){case en.AnnotationEditorType.FREETEXT:return new eo.FreeTextEditor(ee);case en.AnnotationEditorType.INK:return new eh.InkEditor(ee)}return null}deserialize(ee){switch(ee.annotationType??ee.annotationEditorType){case en.AnnotationEditorType.FREETEXT:return eo.FreeTextEditor.deserialize(ee,this,this.#eZ);case en.AnnotationEditorType.INK:return eh.InkEditor.deserialize(ee,this,this.#eZ)}return null}#e1(ee){let et=this.getNextId(),ei=this.#e3({parent:this,id:et,x:ee.offsetX,y:ee.offsetY,uiManager:this.#eZ});return ei&&this.add(ei),ei}setSelected(ee){this.#eZ.setSelected(ee)}toggleSelected(ee){this.#eZ.toggleSelected(ee)}isSelected(ee){return this.#eZ.isSelected(ee)}unselect(ee){this.#eZ.unselect(ee)}pointerup(ee){let{isMac:et}=en.FeatureTest.platform;if(0===ee.button&&(!ee.ctrlKey||!et)&&ee.target===this.div&&this.#eK){if(this.#eK=!1,!this.#eq){this.#eq=!0;return}this.#e1(ee)}}pointerdown(ee){let{isMac:et}=en.FeatureTest.platform;if(0!==ee.button||ee.ctrlKey&&et||ee.target!==this.div)return;this.#eK=!0;let ei=this.#eZ.getActive();this.#eq=!ei||ei.isEmpty()}drop(ee){let et=ee.dataTransfer.getData("text/plain"),ei=this.#eZ.getEditor(et);if(!ei)return;ee.preventDefault(),ee.dataTransfer.dropEffect="move",this.#e2(ei);let en=this.div.getBoundingClientRect(),es=ee.clientX-en.x,er=ee.clientY-en.y;ei.translate(es-ei.startX,er-ei.startY),this.moveEditorInDOM(ei),ei.div.focus()}dragover(ee){ee.preventDefault()}destroy(){for(let ee of(this.#eZ.getActive()?.parent===this&&this.#eZ.setActiveEditor(null),this.#eY.values()))this.#eU?.removePointerInTextLayer(ee.contentDiv),ee.setParent(null),ee.isAttachedToDOM=!1,ee.div.remove();this.div=null,this.#eY.clear(),this.#eZ.removeLayer(this)}#e0(){for(let ee of(this.#eQ=!0,this.#eY.values()))ee.isEmpty()&&ee.remove();this.#eQ=!1}render({viewport:ee}){for(let et of(this.viewport=ee,(0,ed.setLayerDimensions)(this.div,ee),(0,er.bindEvents)(this,this.div,["dragover","drop"]),this.#eZ.getEditors(this.pageIndex)))this.add(et);this.updateMode()}update({viewport:ee}){this.#eZ.commitOrRemove(),this.viewport=ee,(0,ed.setLayerDimensions)(this.div,{rotation:ee.rotation}),this.updateMode()}get pageDimensions(){let{pageWidth:ee,pageHeight:et}=this.viewport.rawDims;return[ee,et]}}et.AnnotationEditorLayer=ec},(ee,et,ei)=>{Object.defineProperty(et,"__esModule",{value:!0}),et.FreeTextEditor=void 0;var en=ei(1),es=ei(5),er=ei(4),eo=ei(29);class eh extends er.AnnotationEditor{#e5=this.editorDivBlur.bind(this);#e4=this.editorDivFocus.bind(this);#e6=this.editorDivInput.bind(this);#e8=this.editorDivKeydown.bind(this);#e9;#e7="";#te=`${this.id}-editor`;#tt;#ti=null;static _freeTextDefaultContent="";static _l10nPromise;static _internalPadding=0;static _defaultColor=null;static _defaultFontSize=10;static get _keyboardManager(){return(0,en.shadow)(this,"_keyboardManager",new es.KeyboardManager([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],eh.prototype.commitOrRemove,!0],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],eh.prototype.commitOrRemove]]))}static _type="freetext";constructor(ee){super({...ee,name:"freeTextEditor"}),this.#e9=ee.color||eh._defaultColor||er.AnnotationEditor._defaultLineColor,this.#tt=ee.fontSize||eh._defaultFontSize}static initialize(ee){this._l10nPromise=new Map(["free_text2_default_content","editor_free_text2_aria_label"].map(et=>[et,ee.get(et)]));let et=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(et.getPropertyValue("--freetext-padding"))}static updateDefaultParams(ee,et){switch(ee){case en.AnnotationEditorParamsType.FREETEXT_SIZE:eh._defaultFontSize=et;break;case en.AnnotationEditorParamsType.FREETEXT_COLOR:eh._defaultColor=et}}updateParams(ee,et){switch(ee){case en.AnnotationEditorParamsType.FREETEXT_SIZE:this.#tn(et);break;case en.AnnotationEditorParamsType.FREETEXT_COLOR:this.#ts(et)}}static get defaultPropertiesToUpdate(){return[[en.AnnotationEditorParamsType.FREETEXT_SIZE,eh._defaultFontSize],[en.AnnotationEditorParamsType.FREETEXT_COLOR,eh._defaultColor||er.AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[en.AnnotationEditorParamsType.FREETEXT_SIZE,this.#tt],[en.AnnotationEditorParamsType.FREETEXT_COLOR,this.#e9]]}#tn(ee){let et=ee=>{this.editorDiv.style.fontSize=`calc(${ee}px * var(--scale-factor))`,this.translate(0,-(ee-this.#tt)*this.parentScale),this.#tt=ee,this.#ta()},ei=this.#tt;this.addCommands({cmd:()=>{et(ee)},undo:()=>{et(ei)},mustExec:!0,type:en.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})}#ts(ee){let et=this.#e9;this.addCommands({cmd:()=>{this.#e9=this.editorDiv.style.color=ee},undo:()=>{this.#e9=this.editorDiv.style.color=et},mustExec:!0,type:en.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})}getInitialTranslation(){let ee=this.parentScale;return[-eh._internalPadding*ee,-(eh._internalPadding+this.#tt)*ee]}rebuild(){super.rebuild(),null===this.div||this.isAttachedToDOM||this.parent.add(this)}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(en.AnnotationEditorType.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this.div.draggable=!1,this.div.removeAttribute("aria-activedescendant"),this.editorDiv.addEventListener("keydown",this.#e8),this.editorDiv.addEventListener("focus",this.#e4),this.editorDiv.addEventListener("blur",this.#e5),this.editorDiv.addEventListener("input",this.#e6))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",this.#te),this.div.draggable=!0,this.editorDiv.removeEventListener("keydown",this.#e8),this.editorDiv.removeEventListener("focus",this.#e4),this.editorDiv.removeEventListener("blur",this.#e5),this.editorDiv.removeEventListener("input",this.#e6),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freeTextEditing"))}focusin(ee){super.focusin(ee),ee.target!==this.editorDiv&&this.editorDiv.focus()}onceAdded(){if(this.width){this.#tr();return}this.enableEditMode(),this.editorDiv.focus()}isEmpty(){return!this.editorDiv||""===this.editorDiv.innerText.trim()}remove(){this.isEditing=!1,this.parent.setEditingState(!0),this.parent.div.classList.add("freeTextEditing"),super.remove()}#to(){let ee=this.editorDiv.getElementsByTagName("div");if(0===ee.length)return this.editorDiv.innerText;let et=[];for(let ei of ee)et.push(ei.innerText.replace(/\r\n?|\n/,""));return et.join("\n")}#ta(){let ee;let[et,ei]=this.parentDimensions;if(this.isAttachedToDOM)ee=this.div.getBoundingClientRect();else{let{currentLayer:et,div:ei}=this,en=ei.style.display;ei.style.display="hidden",et.div.append(this.div),ee=ei.getBoundingClientRect(),ei.remove(),ei.style.display=en}this.width=ee.width/et,this.height=ee.height/ei}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();let ee=this.#e7,et=this.#e7=this.#to().trimEnd();if(ee===et)return;let ei=ee=>{if(this.#e7=ee,!ee){this.remove();return}this.#tl(),this.rebuild(),this.#ta()};this.addCommands({cmd:()=>{ei(et)},undo:()=>{ei(ee)},mustExec:!1}),this.#ta()}shouldGetKeyboardEvents(){return this.isInEditMode()}dblclick(ee){this.enableEditMode(),this.editorDiv.focus()}keydown(ee){ee.target===this.div&&"Enter"===ee.key&&(this.enableEditMode(),this.editorDiv.focus())}editorDivKeydown(ee){eh._keyboardManager.exec(this,ee)}editorDivFocus(ee){this.isEditing=!0}editorDivBlur(ee){this.isEditing=!1}editorDivInput(ee){this.parent.div.classList.toggle("freeTextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){let ee,et;if(this.div)return this.div;this.width&&(ee=this.x,et=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",this.#te),this.enableEditing(),eh._l10nPromise.get("editor_free_text2_aria_label").then(ee=>this.editorDiv?.setAttribute("aria-label",ee)),eh._l10nPromise.get("free_text2_default_content").then(ee=>this.editorDiv?.setAttribute("default-content",ee)),this.editorDiv.contentEditable=!0;let{style:ei}=this.editorDiv;if(ei.fontSize=`calc(${this.#tt}px * var(--scale-factor))`,ei.color=this.#e9,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),(0,es.bindEvents)(this,this.div,["dblclick","keydown"]),this.width){let[ei,en]=this.parentDimensions;if(this.annotationElementId){let[es]=this.getInitialTranslation();this.setAt(ee*ei,et*en,es,es)}else this.setAt(ee*ei,et*en,this.width*ei,this.height*en);this.#tl(),this.div.draggable=!0,this.editorDiv.contentEditable=!1}else this.div.draggable=!1,this.editorDiv.contentEditable=!0;return this.div}#tl(){if(this.editorDiv.replaceChildren(),this.#e7)for(let ee of this.#e7.split("\n")){let et=document.createElement("div");et.append(ee?document.createTextNode(ee):document.createElement("br")),this.editorDiv.append(et)}}get contentDiv(){return this.editorDiv}static deserialize(ee,et,ei){let es=null;if(ee instanceof eo.FreeTextAnnotationElement){let{data:{defaultAppearanceData:{fontSize:et,fontColor:ei},rect:er,rotation:eo,id:eh},textContent:ed,parent:{page:{pageNumber:ec}}}=ee;if(!ed||0===ed.length)return null;es=ee={annotationType:en.AnnotationEditorType.FREETEXT,color:Array.from(ei),fontSize:et,value:ed.join("\n"),pageIndex:ec-1,rect:er,rotation:eo,id:eh,deleted:!1}}let er=super.deserialize(ee,et,ei);return er.#tt=ee.fontSize,er.#e9=en.Util.makeHexColor(...ee.color),er.#e7=ee.value,er.annotationElementId=ee.id||null,er.#ti=es,er}serialize(ee=!1){if(this.isEmpty())return null;if(this.deleted)return{pageIndex:this.pageIndex,id:this.annotationElementId,deleted:!0};let et=eh._internalPadding*this.parentScale,ei=this.getRect(et,et),es=er.AnnotationEditor._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:this.#e9),eo={annotationType:en.AnnotationEditorType.FREETEXT,color:es,fontSize:this.#tt,value:this.#e7,pageIndex:this.pageIndex,rect:ei,rotation:this.rotation};return ee?eo:this.annotationElementId&&!this.#th(eo)?null:(eo.id=this.annotationElementId,eo)}#th(ee){let{value:et,fontSize:ei,color:en,rect:es,pageIndex:er}=this.#ti;return ee.value!==et||ee.fontSize!==ei||ee.rect.some((ee,et)=>Math.abs(ee-es[et])>=1)||ee.color.some((ee,et)=>ee!==en[et])||ee.pageIndex!==er}#tr(ee=!1){if(!this.annotationElementId)return;if(this.#ta(),!ee&&(0===this.width||0===this.height)){setTimeout(()=>this.#tr(!0),0);return}let et=eh._internalPadding*this.parentScale;this.#ti.rect=this.getRect(et,et)}}et.FreeTextEditor=eh},(ee,et,ei)=>{Object.defineProperty(et,"__esModule",{value:!0}),et.InkAnnotationElement=et.FreeTextAnnotationElement=et.AnnotationLayer=void 0;var en=ei(1),es=ei(6),er=ei(3),eo=ei(30),eh=ei(31);let ed=1e3,ec=9,eu=new WeakSet;function ep(ee){return{width:ee[2]-ee[0],height:ee[3]-ee[1]}}class ef{static create(ee){let et=ee.data.annotationType;switch(et){case en.AnnotationType.LINK:return new em(ee);case en.AnnotationType.TEXT:return new ey(ee);case en.AnnotationType.WIDGET:let ei=ee.data.fieldType;switch(ei){case"Tx":return new e_(ee);case"Btn":if(ee.data.radioButton)return new ek(ee);if(ee.data.checkBox)return new ew(ee);return new eC(ee);case"Ch":return new eE(ee);case"Sig":return new eA(ee)}return new eb(ee);case en.AnnotationType.POPUP:return new ex(ee);case en.AnnotationType.FREETEXT:return new eM(ee);case en.AnnotationType.LINE:return new eT(ee);case en.AnnotationType.SQUARE:return new eO(ee);case en.AnnotationType.CIRCLE:return new eP(ee);case en.AnnotationType.POLYLINE:return new eL(ee);case en.AnnotationType.CARET:return new eD(ee);case en.AnnotationType.INK:return new eI(ee);case en.AnnotationType.POLYGON:return new eR(ee);case en.AnnotationType.HIGHLIGHT:return new eF(ee);case en.AnnotationType.UNDERLINE:return new eB(ee);case en.AnnotationType.SQUIGGLY:return new eN(ee);case en.AnnotationType.STRIKEOUT:return new e$(ee);case en.AnnotationType.STAMP:return new ej(ee);case en.AnnotationType.FILEATTACHMENT:return new eH(ee);default:return new eg(ee)}}}class eg{constructor(ee,{isRenderable:et=!1,ignoreBorder:ei=!1,createQuadrilaterals:en=!1}={}){this.isRenderable=et,this.data=ee.data,this.layer=ee.layer,this.linkService=ee.linkService,this.downloadManager=ee.downloadManager,this.imageResourcesPath=ee.imageResourcesPath,this.renderForms=ee.renderForms,this.svgFactory=ee.svgFactory,this.annotationStorage=ee.annotationStorage,this.enableScripting=ee.enableScripting,this.hasJSActions=ee.hasJSActions,this._fieldObjects=ee.fieldObjects,this.parent=ee.parent,et&&(this.container=this._createContainer(ei)),en&&(this.quadrilaterals=this._createQuadrilaterals(ei))}_createContainer(ee){let{data:et,parent:{page:ei,viewport:es}}=this,er=document.createElement("section");er.setAttribute("data-annotation-id",et.id),er.style.zIndex=this.parent.zIndex++,this.data.popupRef&&er.setAttribute("aria-haspopup","dialog"),et.noRotate&&er.classList.add("norotate");let{pageWidth:eo,pageHeight:eh,pageX:ed,pageY:ec}=es.rawDims;if(!et.rect||this instanceof ex){let{rotation:ee}=et;return et.hasOwnCanvas||0===ee||this.setRotation(ee,er),er}let{width:eu,height:ef}=ep(et.rect),eg=en.Util.normalizeRect([et.rect[0],ei.view[3]-et.rect[1]+ei.view[1],et.rect[2],ei.view[3]-et.rect[3]+ei.view[1]]);if(!ee&&et.borderStyle.width>0){er.style.borderWidth=`${et.borderStyle.width}px`;let ee=et.borderStyle.horizontalCornerRadius,ei=et.borderStyle.verticalCornerRadius;if(ee>0||ei>0){let et=`calc(${ee}px * var(--scale-factor)) / calc(${ei}px * var(--scale-factor))`;er.style.borderRadius=et}else if(this instanceof ek){let ee=`calc(${eu}px * var(--scale-factor)) / calc(${ef}px * var(--scale-factor))`;er.style.borderRadius=ee}switch(et.borderStyle.style){case en.AnnotationBorderStyleType.SOLID:er.style.borderStyle="solid";break;case en.AnnotationBorderStyleType.DASHED:er.style.borderStyle="dashed";break;case en.AnnotationBorderStyleType.BEVELED:(0,en.warn)("Unimplemented border style: beveled");break;case en.AnnotationBorderStyleType.INSET:(0,en.warn)("Unimplemented border style: inset");break;case en.AnnotationBorderStyleType.UNDERLINE:er.style.borderBottomStyle="solid"}let es=et.borderColor||null;es?er.style.borderColor=en.Util.makeHexColor(0|es[0],0|es[1],0|es[2]):er.style.borderWidth=0}er.style.left=`${100*(eg[0]-ed)/eo}%`,er.style.top=`${100*(eg[1]-ec)/eh}%`;let{rotation:em}=et;return et.hasOwnCanvas||0===em?(er.style.width=`${100*eu/eo}%`,er.style.height=`${100*ef/eh}%`):this.setRotation(em,er),er}setRotation(ee,et=this.container){let ei,en;let{pageWidth:es,pageHeight:er}=this.parent.viewport.rawDims,{width:eo,height:eh}=ep(this.data.rect);ee%180==0?(ei=100*eo/es,en=100*eh/er):(ei=100*eh/es,en=100*eo/er),et.style.width=`${ei}%`,et.style.height=`${en}%`,et.setAttribute("data-main-rotation",(360-ee)%360)}get _commonActions(){let ee=(ee,et,ei)=>{let en=ei.detail[ee];ei.target.style[et]=eo.ColorConverters[`${en[0]}_HTML`](en.slice(1))};return(0,en.shadow)(this,"_commonActions",{display:ee=>{let et=ee.detail.display%2==1;this.container.style.visibility=et?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:et,print:0===ee.detail.display||3===ee.detail.display})},print:ee=>{this.annotationStorage.setValue(this.data.id,{print:ee.detail.print})},hidden:ee=>{this.container.style.visibility=ee.detail.hidden?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:ee.detail.hidden})},focus:ee=>{setTimeout(()=>ee.target.focus({preventScroll:!1}),0)},userName:ee=>{ee.target.title=ee.detail.userName},readonly:ee=>{ee.detail.readonly?ee.target.setAttribute("readonly",""):ee.target.removeAttribute("readonly")},required:ee=>{this._setRequired(ee.target,ee.detail.required)},bgColor:et=>{ee("bgColor","backgroundColor",et)},fillColor:et=>{ee("fillColor","backgroundColor",et)},fgColor:et=>{ee("fgColor","color",et)},textColor:et=>{ee("textColor","color",et)},borderColor:et=>{ee("borderColor","borderColor",et)},strokeColor:et=>{ee("strokeColor","borderColor",et)},rotation:ee=>{let et=ee.detail.rotation;this.setRotation(et),this.annotationStorage.setValue(this.data.id,{rotation:et})}})}_dispatchEventFromSandbox(ee,et){let ei=this._commonActions;for(let en of Object.keys(et.detail)){let es=ee[en]||ei[en];es?.(et)}}_setDefaultPropertiesFromJS(ee){if(!this.enableScripting)return;let et=this.annotationStorage.getRawValue(this.data.id);if(!et)return;let ei=this._commonActions;for(let[en,es]of Object.entries(et)){let er=ei[en];if(er){let ei={detail:{[en]:es},target:ee};er(ei),delete et[en]}}}_createQuadrilaterals(ee=!1){if(!this.data.quadPoints)return null;let et=[],ei=this.data.rect,en=null;for(let ei of this.data.quadPoints)this.data.rect=[ei[2].x,ei[2].y,ei[1].x,ei[1].y],et.push(this._createContainer(ee)),en||=this.data.rect;return this.data.rect=ei,this.firstQuadRect=en,et}_createPopup(){let{container:ee,data:et}=this;ee.setAttribute("aria-haspopup","dialog");let ei=new ex({data:{color:et.color,titleObj:et.titleObj,modificationDate:et.modificationDate,contentsObj:et.contentsObj,richText:et.richText,parentRect:this.firstQuadRect||et.rect,borderStyle:0,id:`popup_${et.id}`,rotation:et.rotation},parent:this.parent,elements:[this]});this.parent.div.append(ei.render())}_renderQuadrilaterals(ee){for(let et of this.quadrilaterals)et.classList.add(ee);return this.quadrilaterals}render(){(0,en.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(ee,et=null){let ei=[];if(this._fieldObjects){let es=this._fieldObjects[ee];if(es)for(let{page:ee,id:er,exportValues:eo}of es){if(-1===ee||er===et)continue;let es="string"==typeof eo?eo:null,eh=document.querySelector(`[data-element-id="${er}"]`);if(eh&&!eu.has(eh)){(0,en.warn)(`_getElementsByName - element not allowed: ${er}`);continue}ei.push({id:er,exportValue:es,domElement:eh})}return ei}for(let en of document.getElementsByName(ee)){let{exportValue:ee}=en,es=en.getAttribute("data-element-id");es!==et&&eu.has(en)&&ei.push({id:es,exportValue:ee,domElement:en})}return ei}show(){this.container&&(this.container.hidden=!1),this.popup?.maybeShow()}hide(){this.container&&(this.container.hidden=!0),this.popup?.forceHide()}getElementsToTriggerPopup(){return this.quadrilaterals||this.container}addHighlightArea(){let ee=this.getElementsToTriggerPopup();if(Array.isArray(ee))for(let et of ee)et.classList.add("highlightArea");else ee.classList.add("highlightArea")}}class em extends eg{constructor(ee,et=null){super(ee,{isRenderable:!0,ignoreBorder:!!et?.ignoreBorder,createQuadrilaterals:!0}),this.isTooltipOnly=ee.data.isTooltipOnly}render(){let{data:ee,linkService:et}=this,ei=document.createElement("a");ei.setAttribute("data-element-id",ee.id);let en=!1;return(ee.url?(et.addLinkAttributes(ei,ee.url,ee.newWindow),en=!0):ee.action?(this._bindNamedAction(ei,ee.action),en=!0):ee.attachment?(this._bindAttachment(ei,ee.attachment),en=!0):ee.setOCGState?(this.#td(ei,ee.setOCGState),en=!0):ee.dest?(this._bindLink(ei,ee.dest),en=!0):(ee.actions&&(ee.actions.Action||ee.actions["Mouse Up"]||ee.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(ei,ee),en=!0),ee.resetForm?(this._bindResetFormAction(ei,ee.resetForm),en=!0):this.isTooltipOnly&&!en&&(this._bindLink(ei,""),en=!0)),this.quadrilaterals)?this._renderQuadrilaterals("linkAnnotation").map((ee,et)=>{let en=0===et?ei:ei.cloneNode();return ee.append(en),ee}):(this.container.classList.add("linkAnnotation"),en&&this.container.append(ei),this.container)}#tc(){this.container.setAttribute("data-internal-link","")}_bindLink(ee,et){ee.href=this.linkService.getDestinationHash(et),ee.onclick=()=>(et&&this.linkService.goToDestination(et),!1),(et||""===et)&&this.#tc()}_bindNamedAction(ee,et){ee.href=this.linkService.getAnchorUrl(""),ee.onclick=()=>(this.linkService.executeNamedAction(et),!1),this.#tc()}_bindAttachment(ee,et){ee.href=this.linkService.getAnchorUrl(""),ee.onclick=()=>(this.downloadManager?.openOrDownloadData(this.container,et.content,et.filename),!1),this.#tc()}#td(ee,et){ee.href=this.linkService.getAnchorUrl(""),ee.onclick=()=>(this.linkService.executeSetOCGState(et),!1),this.#tc()}_bindJSAction(ee,et){ee.href=this.linkService.getAnchorUrl("");let ei=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(let en of Object.keys(et.actions)){let es=ei.get(en);es&&(ee[es]=()=>(this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:et.id,name:en}}),!1))}ee.onclick||(ee.onclick=()=>!1),this.#tc()}_bindResetFormAction(ee,et){let ei=ee.onclick;if(ei||(ee.href=this.linkService.getAnchorUrl("")),this.#tc(),!this._fieldObjects){(0,en.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),ei||(ee.onclick=()=>!1);return}ee.onclick=()=>{ei?.();let{fields:ee,refs:es,include:er}=et,eo=[];if(0!==ee.length||0!==es.length){let et=new Set(es);for(let ei of ee){let ee=this._fieldObjects[ei]||[];for(let{id:ei}of ee)et.add(ei)}for(let ee of Object.values(this._fieldObjects))for(let ei of ee)et.has(ei.id)===er&&eo.push(ei)}else for(let ee of Object.values(this._fieldObjects))eo.push(...ee);let eh=this.annotationStorage,ed=[];for(let ee of eo){let{id:et}=ee;switch(ed.push(et),ee.type){case"text":{let ei=ee.defaultValue||"";eh.setValue(et,{value:ei});break}case"checkbox":case"radiobutton":{let ei=ee.defaultValue===ee.exportValues;eh.setValue(et,{value:ei});break}case"combobox":case"listbox":{let ei=ee.defaultValue||"";eh.setValue(et,{value:ei});break}default:continue}let ei=document.querySelector(`[data-element-id="${et}"]`);if(ei){if(!eu.has(ei)){(0,en.warn)(`_bindResetFormAction - element not allowed: ${et}`);continue}ei.dispatchEvent(new Event("resetform"))}}return this.enableScripting&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:ed,name:"ResetForm"}}),!1}}}class ey extends eg{constructor(ee){let et=!!(ee.data.popupRef||ee.data.titleObj?.str||ee.data.contentsObj?.str||ee.data.richText?.str);super(ee,{isRenderable:et})}render(){this.container.classList.add("textAnnotation");let ee=document.createElement("img");return ee.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",ee.alt="[{{type}} Annotation]",ee.dataset.l10nId="text_annotation_type",ee.dataset.l10nArgs=JSON.stringify({type:this.data.name}),this.data.popupRef||this._createPopup(),this.container.append(ee),this.container}}class eb extends eg{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}showElementAndHideCanvas(ee){this.data.hasOwnCanvas&&(ee.previousSibling?.nodeName==="CANVAS"&&(ee.previousSibling.hidden=!0),ee.hidden=!1)}_getKeyModifier(ee){let{isWin:et,isMac:ei}=en.FeatureTest.platform;return et&&ee.ctrlKey||ei&&ee.metaKey}_setEventListener(ee,et,ei,en){et.includes("mouse")?ee.addEventListener(et,ee=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:ei,value:en(ee),shift:ee.shiftKey,modifier:this._getKeyModifier(ee)}})}):ee.addEventListener(et,ee=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:ei,value:en(ee)}})})}_setEventListeners(ee,et,ei){for(let[en,es]of et)("Action"===es||this.data.actions?.[es])&&this._setEventListener(ee,en,es,ei)}_setBackgroundColor(ee){let et=this.data.backgroundColor||null;ee.style.backgroundColor=null===et?"transparent":en.Util.makeHexColor(et[0],et[1],et[2])}_setTextStyle(ee){let et;let ei=["left","center","right"],{fontColor:es}=this.data.defaultAppearanceData,er=this.data.defaultAppearanceData.fontSize||ec,eo=ee.style,eh=2,ed=ee=>Math.round(10*ee)/10;if(this.data.multiLine){let ee=Math.abs(this.data.rect[3]-this.data.rect[1]-eh),ei=Math.round(ee/(en.LINE_FACTOR*er))||1,es=ee/ei;et=Math.min(er,ed(es/en.LINE_FACTOR))}else{let ee=Math.abs(this.data.rect[3]-this.data.rect[1]-eh);et=Math.min(er,ed(ee/en.LINE_FACTOR))}eo.fontSize=`calc(${et}px * var(--scale-factor))`,eo.color=en.Util.makeHexColor(es[0],es[1],es[2]),null!==this.data.textAlignment&&(eo.textAlign=ei[this.data.textAlignment])}_setRequired(ee,et){et?ee.setAttribute("required",!0):ee.removeAttribute("required"),ee.setAttribute("aria-required",et)}}class e_ extends eb{constructor(ee){let et=ee.renderForms||!ee.data.hasAppearance&&!!ee.data.fieldValue;super(ee,{isRenderable:et})}setPropertyOnSiblings(ee,et,ei,en){let es=this.annotationStorage;for(let er of this._getElementsByName(ee.name,ee.id))er.domElement&&(er.domElement[et]=ei),es.setValue(er.id,{[en]:ei})}render(){let ee=this.annotationStorage,et=this.data.id;this.container.classList.add("textWidgetAnnotation");let ei=null;if(this.renderForms){let en=ee.getValue(et,{value:this.data.fieldValue}),es=en.value||"",er=ee.getValue(et,{charLimit:this.data.maxLen}).charLimit;er&&es.length>er&&(es=es.slice(0,er));let eo=en.formattedValue||this.data.textContent?.join("\n")||null;eo&&this.data.comb&&(eo=eo.replaceAll(/\s+/g,""));let eh={userValue:es,formattedValue:eo,lastCommittedValue:null,commitKey:1};this.data.multiLine?((ei=document.createElement("textarea")).textContent=eo??es,this.data.doNotScroll&&(ei.style.overflowY="hidden")):((ei=document.createElement("input")).type="text",ei.setAttribute("value",eo??es),this.data.doNotScroll&&(ei.style.overflowX="hidden")),this.data.hasOwnCanvas&&(ei.hidden=!0),eu.add(ei),ei.setAttribute("data-element-id",et),ei.disabled=this.data.readOnly,ei.name=this.data.baseFieldName||this.data.fieldName,ei.tabIndex=ed,this._setRequired(ei,this.data.required),er&&(ei.maxLength=er),ei.addEventListener("input",en=>{ee.setValue(et,{value:en.target.value}),this.setPropertyOnSiblings(ei,"value",en.target.value,"value"),eh.formattedValue=null}),ei.addEventListener("resetform",ee=>{let et=this.data.defaultFieldValue??"";ei.value=eh.userValue=et,eh.formattedValue=null});let ec=ee=>{let{formattedValue:et}=eh;null!=et&&(ee.target.value=et),ee.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){ei.addEventListener("focus",ee=>{let{target:et}=ee;eh.userValue&&(et.value=eh.userValue),eh.lastCommittedValue=et.value,eh.commitKey=1}),ei.addEventListener("updatefromsandbox",ei=>{this.showElementAndHideCanvas(ei.target);let en={value(ei){eh.userValue=ei.detail.value??"",ee.setValue(et,{value:eh.userValue.toString()}),ei.target.value=eh.userValue},formattedValue(ei){let{formattedValue:en}=ei.detail;eh.formattedValue=en,null!=en&&ei.target!==document.activeElement&&(ei.target.value=en),ee.setValue(et,{formattedValue:en})},selRange(ee){ee.target.setSelectionRange(...ee.detail.selRange)},charLimit:ei=>{let{charLimit:en}=ei.detail,{target:es}=ei;if(0===en){es.removeAttribute("maxLength");return}es.setAttribute("maxLength",en);let er=eh.userValue;er&&!(er.length<=en)&&(er=er.slice(0,en),es.value=eh.userValue=er,ee.setValue(et,{value:er}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:et,name:"Keystroke",value:er,willCommit:!0,commitKey:1,selStart:es.selectionStart,selEnd:es.selectionEnd}}))}};this._dispatchEventFromSandbox(en,ei)}),ei.addEventListener("keydown",ee=>{eh.commitKey=1;let ei=-1;if("Escape"===ee.key?ei=0:"Enter"!==ee.key||this.data.multiLine?"Tab"===ee.key&&(eh.commitKey=3):ei=2,-1===ei)return;let{value:en}=ee.target;eh.lastCommittedValue!==en&&(eh.lastCommittedValue=en,eh.userValue=en,this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:et,name:"Keystroke",value:en,willCommit:!0,commitKey:ei,selStart:ee.target.selectionStart,selEnd:ee.target.selectionEnd}}))});let en=ec;ec=null,ei.addEventListener("blur",ee=>{if(!ee.relatedTarget)return;let{value:ei}=ee.target;eh.userValue=ei,eh.lastCommittedValue!==ei&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:et,name:"Keystroke",value:ei,willCommit:!0,commitKey:eh.commitKey,selStart:ee.target.selectionStart,selEnd:ee.target.selectionEnd}}),en(ee)}),this.data.actions?.Keystroke&&ei.addEventListener("beforeinput",ee=>{eh.lastCommittedValue=null;let{data:ei,target:en}=ee,{value:es,selectionStart:er,selectionEnd:eo}=en,ed=er,ec=eo;switch(ee.inputType){case"deleteWordBackward":{let ee=es.substring(0,er).match(/\w*[^\w]*$/);ee&&(ed-=ee[0].length);break}case"deleteWordForward":{let ee=es.substring(er).match(/^[^\w]*\w*/);ee&&(ec+=ee[0].length);break}case"deleteContentBackward":er===eo&&(ed-=1);break;case"deleteContentForward":er===eo&&(ec+=1)}ee.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:et,name:"Keystroke",value:es,change:ei||"",willCommit:!1,selStart:ed,selEnd:ec}})}),this._setEventListeners(ei,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],ee=>ee.target.value)}if(ec&&ei.addEventListener("blur",ec),this.data.comb){let ee=this.data.rect[2]-this.data.rect[0],et=ee/er;ei.classList.add("comb"),ei.style.letterSpacing=`calc(${et}px * var(--scale-factor) - 1ch)`}}else(ei=document.createElement("div")).textContent=this.data.fieldValue,ei.style.verticalAlign="middle",ei.style.display="table-cell";return this._setTextStyle(ei),this._setBackgroundColor(ei),this._setDefaultPropertiesFromJS(ei),this.container.append(ei),this.container}}class eA extends eb{constructor(ee){super(ee,{isRenderable:!!ee.data.hasOwnCanvas})}}class ew extends eb{constructor(ee){super(ee,{isRenderable:ee.renderForms})}render(){let ee=this.annotationStorage,et=this.data,ei=et.id,en=ee.getValue(ei,{value:et.exportValue===et.fieldValue}).value;"string"==typeof en&&(en="Off"!==en,ee.setValue(ei,{value:en})),this.container.classList.add("buttonWidgetAnnotation","checkBox");let es=document.createElement("input");return eu.add(es),es.setAttribute("data-element-id",ei),es.disabled=et.readOnly,this._setRequired(es,this.data.required),es.type="checkbox",es.name=et.baseFieldName||et.fieldName,en&&es.setAttribute("checked",!0),es.setAttribute("exportValue",et.exportValue),es.tabIndex=ed,es.addEventListener("change",en=>{let{name:es,checked:er}=en.target;for(let en of this._getElementsByName(es,ei)){let ei=er&&en.exportValue===et.exportValue;en.domElement&&(en.domElement.checked=ei),ee.setValue(en.id,{value:ei})}ee.setValue(ei,{value:er})}),es.addEventListener("resetform",ee=>{let ei=et.defaultFieldValue||"Off";ee.target.checked=ei===et.exportValue}),this.enableScripting&&this.hasJSActions&&(es.addEventListener("updatefromsandbox",et=>{let en={value(et){et.target.checked="Off"!==et.detail.value,ee.setValue(ei,{value:et.target.checked})}};this._dispatchEventFromSandbox(en,et)}),this._setEventListeners(es,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],ee=>ee.target.checked)),this._setBackgroundColor(es),this._setDefaultPropertiesFromJS(es),this.container.append(es),this.container}}class ek extends eb{constructor(ee){super(ee,{isRenderable:ee.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");let ee=this.annotationStorage,et=this.data,ei=et.id,en=ee.getValue(ei,{value:et.fieldValue===et.buttonValue}).value;"string"==typeof en&&(en=en!==et.buttonValue,ee.setValue(ei,{value:en}));let es=document.createElement("input");if(eu.add(es),es.setAttribute("data-element-id",ei),es.disabled=et.readOnly,this._setRequired(es,this.data.required),es.type="radio",es.name=et.baseFieldName||et.fieldName,en&&es.setAttribute("checked",!0),es.tabIndex=ed,es.addEventListener("change",et=>{let{name:en,checked:es}=et.target;for(let et of this._getElementsByName(en,ei))ee.setValue(et.id,{value:!1});ee.setValue(ei,{value:es})}),es.addEventListener("resetform",ee=>{let ei=et.defaultFieldValue;ee.target.checked=null!=ei&&ei===et.buttonValue}),this.enableScripting&&this.hasJSActions){let en=et.buttonValue;es.addEventListener("updatefromsandbox",et=>{let es={value:et=>{let es=en===et.detail.value;for(let en of this._getElementsByName(et.target.name)){let et=es&&en.id===ei;en.domElement&&(en.domElement.checked=et),ee.setValue(en.id,{value:et})}}};this._dispatchEventFromSandbox(es,et)}),this._setEventListeners(es,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],ee=>ee.target.checked)}return this._setBackgroundColor(es),this._setDefaultPropertiesFromJS(es),this.container.append(es),this.container}}class eC extends em{constructor(ee){super(ee,{ignoreBorder:ee.data.hasAppearance})}render(){let ee=super.render();ee.classList.add("buttonWidgetAnnotation","pushButton"),this.data.alternativeText&&(ee.title=this.data.alternativeText);let et=ee.lastChild;return this.enableScripting&&this.hasJSActions&&et&&(this._setDefaultPropertiesFromJS(et),et.addEventListener("updatefromsandbox",ee=>{this._dispatchEventFromSandbox({},ee)})),ee}}class eE extends eb{constructor(ee){super(ee,{isRenderable:ee.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");let ee=this.annotationStorage,et=this.data.id,ei=ee.getValue(et,{value:this.data.fieldValue}),en=document.createElement("select");eu.add(en),en.setAttribute("data-element-id",et),en.disabled=this.data.readOnly,this._setRequired(en,this.data.required),en.name=this.data.baseFieldName||this.data.fieldName,en.tabIndex=ed;let es=this.data.combo&&this.data.options.length>0;for(let ee of(!this.data.combo&&(en.size=this.data.options.length,this.data.multiSelect&&(en.multiple=!0)),en.addEventListener("resetform",ee=>{let et=this.data.defaultFieldValue;for(let ee of en.options)ee.selected=ee.value===et}),this.data.options)){let et=document.createElement("option");et.textContent=ee.displayValue,et.value=ee.exportValue,ei.value.includes(ee.exportValue)&&(et.setAttribute("selected",!0),es=!1),en.append(et)}let er=null;if(es){let ee=document.createElement("option");ee.value=" ",ee.setAttribute("hidden",!0),ee.setAttribute("selected",!0),en.prepend(ee),er=()=>{ee.remove(),en.removeEventListener("input",er),er=null},en.addEventListener("input",er)}let eo=ee=>{let et=ee?"value":"textContent",{options:ei,multiple:es}=en;return es?Array.prototype.filter.call(ei,ee=>ee.selected).map(ee=>ee[et]):-1===ei.selectedIndex?null:ei[ei.selectedIndex][et]},eh=eo(!1),ec=ee=>{let et=ee.target.options;return Array.prototype.map.call(et,ee=>({displayValue:ee.textContent,exportValue:ee.value}))};return this.enableScripting&&this.hasJSActions?(en.addEventListener("updatefromsandbox",ei=>{let es={value(ei){er?.();let es=ei.detail.value,ed=new Set(Array.isArray(es)?es:[es]);for(let ee of en.options)ee.selected=ed.has(ee.value);ee.setValue(et,{value:eo(!0)}),eh=eo(!1)},multipleSelection(ee){en.multiple=!0},remove(ei){let es=en.options,er=ei.detail.remove;if(es[er].selected=!1,en.remove(er),es.length>0){let ee=Array.prototype.findIndex.call(es,ee=>ee.selected);-1===ee&&(es[0].selected=!0)}ee.setValue(et,{value:eo(!0),items:ec(ei)}),eh=eo(!1)},clear(ei){for(;0!==en.length;)en.remove(0);ee.setValue(et,{value:null,items:[]}),eh=eo(!1)},insert(ei){let{index:es,displayValue:er,exportValue:ed}=ei.detail.insert,eu=en.children[es],ep=document.createElement("option");ep.textContent=er,ep.value=ed,eu?eu.before(ep):en.append(ep),ee.setValue(et,{value:eo(!0),items:ec(ei)}),eh=eo(!1)},items(ei){let{items:es}=ei.detail;for(;0!==en.length;)en.remove(0);for(let ee of es){let{displayValue:et,exportValue:ei}=ee,es=document.createElement("option");es.textContent=et,es.value=ei,en.append(es)}en.options.length>0&&(en.options[0].selected=!0),ee.setValue(et,{value:eo(!0),items:ec(ei)}),eh=eo(!1)},indices(ei){let en=new Set(ei.detail.indices);for(let ee of ei.target.options)ee.selected=en.has(ee.index);ee.setValue(et,{value:eo(!0)}),eh=eo(!1)},editable(ee){ee.target.disabled=!ee.detail.editable}};this._dispatchEventFromSandbox(es,ei)}),en.addEventListener("input",ei=>{let en=eo(!0);ee.setValue(et,{value:en}),ei.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:et,name:"Keystroke",value:eh,changeEx:en,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(en,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],ee=>ee.target.value)):en.addEventListener("input",function(ei){ee.setValue(et,{value:eo(!0)})}),this.data.combo&&this._setTextStyle(en),this._setBackgroundColor(en),this._setDefaultPropertiesFromJS(en),this.container.append(en),this.container}}class ex extends eg{constructor(ee){let{data:et,elements:ei}=ee,en=!!(et.titleObj?.str||et.contentsObj?.str||et.richText?.str);super(ee,{isRenderable:en}),this.elements=ei}render(){this.container.classList.add("popupAnnotation");let ee=new eS({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),et=[];for(let ei of this.elements)ei.popup=ee,et.push(ei.data.id),ei.addHighlightArea();return this.container.setAttribute("aria-controls",et.join(",")),this.container}}class eS{#tu=null;#tp=this.#tf.bind(this);#tg=this.#tm.bind(this);#tv=this.#ty.bind(this);#e9=null;#ei=null;#tb=null;#t_=null;#tA=null;#tw=null;#tk=!1;#tC=null;#tE=null;#tx=null;#tS=null;#tM=!1;constructor({container:ee,color:et,elements:ei,titleObj:en,modificationDate:er,contentsObj:eo,richText:eh,parent:ed,rect:ec,parentRect:eu,open:ep}){this.#ei=ee,this.#tS=en,this.#tb=eo,this.#tx=eh,this.#tA=ed,this.#e9=et,this.#tE=ec,this.#tw=eu,this.#t_=ei;let ef=es.PDFDateString.toDateObject(er);for(let ee of(ef&&(this.#tu=ed.l10n.get("annotation_date_string",{date:ef.toLocaleDateString(),time:ef.toLocaleTimeString()})),this.trigger=ei.flatMap(ee=>ee.getElementsToTriggerPopup()),this.trigger))ee.addEventListener("click",this.#tv),ee.addEventListener("mouseenter",this.#tg),ee.addEventListener("mouseleave",this.#tp);this.#ei.hidden=!0,ep&&this.#ty()}render(){if(this.#tC)return;let{page:{view:ee},viewport:{rawDims:{pageWidth:et,pageHeight:ei,pageX:es,pageY:er}}}=this.#tA,eo=this.#tC=document.createElement("div");if(eo.className="popup",this.#e9){let ee=eo.style.outlineColor=en.Util.makeHexColor(...this.#e9);if(CSS.supports("background-color","color-mix(in srgb, red 30%, white)"))eo.style.backgroundColor=`color-mix(in srgb, ${ee} 30%, white)`;else{let ee=.7;eo.style.backgroundColor=en.Util.makeHexColor(...this.#e9.map(et=>Math.floor(ee*(255-et)+et)))}}let ed=document.createElement("span");ed.className="header";let ec=document.createElement("h1");if(ed.append(ec),{dir:ec.dir,str:ec.textContent}=this.#tS,eo.append(ed),this.#tu){let ee=document.createElement("span");ee.classList.add("popupDate"),this.#tu.then(et=>{ee.textContent=et}),ed.append(ee)}let eu=this.#tb,ep=this.#tx;if(ep?.str&&(!eu?.str||eu.str===ep.str))eh.XfaLayer.render({xfaHtml:ep.html,intent:"richText",div:eo}),eo.lastChild.classList.add("richText","popupContent");else{let ee=this._formatContents(eu);eo.append(ee)}let ef=!!this.#tw,eg=ef?this.#tw:this.#tE;for(let ee of this.#t_)if(!eg||null!==en.Util.intersect(ee.data.rect,eg)){eg=ee.data.rect,ef=!0;break}let em=en.Util.normalizeRect([eg[0],ee[3]-eg[1]+ee[1],eg[2],ee[3]-eg[3]+ee[1]]),ey=5,eb=ef?eg[2]-eg[0]+ey:0,e_=em[0]+eb,eA=em[1],{style:ew}=this.#ei;ew.left=`${100*(e_-es)/et}%`,ew.top=`${100*(eA-er)/ei}%`,this.#ei.append(eo)}_formatContents({str:ee,dir:et}){let ei=document.createElement("p");ei.classList.add("popupContent"),ei.dir=et;let en=ee.split(/(?:\r\n?|\n)/);for(let ee=0,et=en.length;ee<et;++ee){let es=en[ee];ei.append(document.createTextNode(es)),ee<et-1&&ei.append(document.createElement("br"))}return ei}#ty(){this.#tk=!this.#tk,this.#tk?(this.#tm(),this.#ei.addEventListener("click",this.#tv)):(this.#tf(),this.#ei.removeEventListener("click",this.#tv))}#tm(){this.#tC||this.render(),this.isVisible?this.#tk&&this.#ei.classList.add("focused"):(this.#ei.hidden=!1,this.#ei.style.zIndex=parseInt(this.#ei.style.zIndex)+1e3)}#tf(){this.#ei.classList.remove("focused"),this.#tk||(this.#ei.hidden=!0,this.#ei.style.zIndex=parseInt(this.#ei.style.zIndex)-1e3)}forceHide(){this.#tM=this.isVisible,this.#tM&&(this.#ei.hidden=!0)}maybeShow(){this.#tM&&(this.#tM=!1,this.#ei.hidden=!1)}get isVisible(){return!1===this.#ei.hidden}}class eM extends eg{constructor(ee){let et=!!(ee.data.popupRef||ee.data.titleObj?.str||ee.data.contentsObj?.str||ee.data.richText?.str);super(ee,{isRenderable:et,ignoreBorder:!0}),this.textContent=ee.data.textContent,this.annotationEditorType=en.AnnotationEditorType.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){let ee=document.createElement("div");for(let et of(ee.classList.add("annotationTextContent"),ee.setAttribute("role","comment"),this.textContent)){let ei=document.createElement("span");ei.textContent=et,ee.append(ei)}this.container.append(ee)}return this.data.popupRef||this._createPopup(),this.container}}et.FreeTextAnnotationElement=eM;class eT extends eg{#tT=null;constructor(ee){let et=!!(ee.data.popupRef||ee.data.titleObj?.str||ee.data.contentsObj?.str||ee.data.richText?.str);super(ee,{isRenderable:et,ignoreBorder:!0})}render(){this.container.classList.add("lineAnnotation");let ee=this.data,{width:et,height:ei}=ep(ee.rect),en=this.svgFactory.create(et,ei,!0),es=this.#tT=this.svgFactory.createElement("svg:line");return es.setAttribute("x1",ee.rect[2]-ee.lineCoordinates[0]),es.setAttribute("y1",ee.rect[3]-ee.lineCoordinates[1]),es.setAttribute("x2",ee.rect[2]-ee.lineCoordinates[2]),es.setAttribute("y2",ee.rect[3]-ee.lineCoordinates[3]),es.setAttribute("stroke-width",ee.borderStyle.width||1),es.setAttribute("stroke","transparent"),es.setAttribute("fill","transparent"),en.append(es),this.container.append(en),ee.popupRef||this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#tT}addHighlightArea(){this.container.classList.add("highlightArea")}}class eO extends eg{#tO=null;constructor(ee){let et=!!(ee.data.popupRef||ee.data.titleObj?.str||ee.data.contentsObj?.str||ee.data.richText?.str);super(ee,{isRenderable:et,ignoreBorder:!0})}render(){this.container.classList.add("squareAnnotation");let ee=this.data,{width:et,height:ei}=ep(ee.rect),en=this.svgFactory.create(et,ei,!0),es=ee.borderStyle.width,er=this.#tO=this.svgFactory.createElement("svg:rect");return er.setAttribute("x",es/2),er.setAttribute("y",es/2),er.setAttribute("width",et-es),er.setAttribute("height",ei-es),er.setAttribute("stroke-width",es||1),er.setAttribute("stroke","transparent"),er.setAttribute("fill","transparent"),en.append(er),this.container.append(en),ee.popupRef||this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#tO}addHighlightArea(){this.container.classList.add("highlightArea")}}class eP extends eg{#tP=null;constructor(ee){let et=!!(ee.data.popupRef||ee.data.titleObj?.str||ee.data.contentsObj?.str||ee.data.richText?.str);super(ee,{isRenderable:et,ignoreBorder:!0})}render(){this.container.classList.add("circleAnnotation");let ee=this.data,{width:et,height:ei}=ep(ee.rect),en=this.svgFactory.create(et,ei,!0),es=ee.borderStyle.width,er=this.#tP=this.svgFactory.createElement("svg:ellipse");return er.setAttribute("cx",et/2),er.setAttribute("cy",ei/2),er.setAttribute("rx",et/2-es/2),er.setAttribute("ry",ei/2-es/2),er.setAttribute("stroke-width",es||1),er.setAttribute("stroke","transparent"),er.setAttribute("fill","transparent"),en.append(er),this.container.append(en),ee.popupRef||this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#tP}addHighlightArea(){this.container.classList.add("highlightArea")}}class eL extends eg{#tL=null;constructor(ee){let et=!!(ee.data.popupRef||ee.data.titleObj?.str||ee.data.contentsObj?.str||ee.data.richText?.str);super(ee,{isRenderable:et,ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);let ee=this.data,{width:et,height:ei}=ep(ee.rect),en=this.svgFactory.create(et,ei,!0),es=[];for(let et of ee.vertices){let ei=et.x-ee.rect[0],en=ee.rect[3]-et.y;es.push(ei+","+en)}es=es.join(" ");let er=this.#tL=this.svgFactory.createElement(this.svgElementName);return er.setAttribute("points",es),er.setAttribute("stroke-width",ee.borderStyle.width||1),er.setAttribute("stroke","transparent"),er.setAttribute("fill","transparent"),en.append(er),this.container.append(en),ee.popupRef||this._createPopup(er,ee),this.container}getElementsToTriggerPopup(){return this.#tL}addHighlightArea(){this.container.classList.add("highlightArea")}}class eR extends eL{constructor(ee){super(ee),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class eD extends eg{constructor(ee){let et=!!(ee.data.popupRef||ee.data.titleObj?.str||ee.data.contentsObj?.str||ee.data.richText?.str);super(ee,{isRenderable:et,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),this.data.popupRef||this._createPopup(),this.container}}class eI extends eg{#tR=[];constructor(ee){let et=!!(ee.data.popupRef||ee.data.titleObj?.str||ee.data.contentsObj?.str||ee.data.richText?.str);super(ee,{isRenderable:et,ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=en.AnnotationEditorType.INK}render(){this.container.classList.add(this.containerClassName);let ee=this.data,{width:et,height:ei}=ep(ee.rect),en=this.svgFactory.create(et,ei,!0);for(let et of ee.inkLists){let ei=[];for(let en of et){let et=en.x-ee.rect[0],es=ee.rect[3]-en.y;ei.push(`${et},${es}`)}ei=ei.join(" ");let es=this.svgFactory.createElement(this.svgElementName);this.#tR.push(es),es.setAttribute("points",ei),es.setAttribute("stroke-width",ee.borderStyle.width||1),es.setAttribute("stroke","transparent"),es.setAttribute("fill","transparent"),ee.popupRef||this._createPopup(es,ee),en.append(es)}return this.container.append(en),this.container}getElementsToTriggerPopup(){return this.#tR}addHighlightArea(){this.container.classList.add("highlightArea")}}et.InkAnnotationElement=eI;class eF extends eg{constructor(ee){let et=!!(ee.data.popupRef||ee.data.titleObj?.str||ee.data.contentsObj?.str||ee.data.richText?.str);super(ee,{isRenderable:et,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return(this.data.popupRef||this._createPopup(),this.quadrilaterals)?this._renderQuadrilaterals("highlightAnnotation"):(this.container.classList.add("highlightAnnotation"),this.container)}}class eB extends eg{constructor(ee){let et=!!(ee.data.popupRef||ee.data.titleObj?.str||ee.data.contentsObj?.str||ee.data.richText?.str);super(ee,{isRenderable:et,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return(this.data.popupRef||this._createPopup(),this.quadrilaterals)?this._renderQuadrilaterals("underlineAnnotation"):(this.container.classList.add("underlineAnnotation"),this.container)}}class eN extends eg{constructor(ee){let et=!!(ee.data.popupRef||ee.data.titleObj?.str||ee.data.contentsObj?.str||ee.data.richText?.str);super(ee,{isRenderable:et,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return(this.data.popupRef||this._createPopup(),this.quadrilaterals)?this._renderQuadrilaterals("squigglyAnnotation"):(this.container.classList.add("squigglyAnnotation"),this.container)}}class e$ extends eg{constructor(ee){let et=!!(ee.data.popupRef||ee.data.titleObj?.str||ee.data.contentsObj?.str||ee.data.richText?.str);super(ee,{isRenderable:et,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return(this.data.popupRef||this._createPopup(),this.quadrilaterals)?this._renderQuadrilaterals("strikeoutAnnotation"):(this.container.classList.add("strikeoutAnnotation"),this.container)}}class ej extends eg{constructor(ee){let et=!!(ee.data.popupRef||ee.data.titleObj?.str||ee.data.contentsObj?.str||ee.data.richText?.str);super(ee,{isRenderable:et,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),this.data.popupRef||this._createPopup(),this.container}}class eH extends eg{#tD=null;constructor(ee){super(ee,{isRenderable:!0});let{filename:et,content:ei}=this.data.file;this.filename=(0,es.getFilenameFromUrl)(et,!0),this.content=ei,this.linkService.eventBus?.dispatch("fileattachmentannotation",{source:this,filename:et,content:ei})}render(){let ee;return this.container.classList.add("fileAttachmentAnnotation"),this.data.hasAppearance?ee=document.createElement("div"):(ee=document.createElement("img")).src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(this.data.name)?"paperclip":"pushpin"}.svg`,ee.classList.add("popupTriggerArea"),ee.addEventListener("dblclick",this._download.bind(this)),this.#tD=ee,!this.data.popupRef&&(this.data.titleObj?.str||this.data.contentsObj?.str||this.data.richText)&&this._createPopup(),this.container.append(ee),this.container}getElementsToTriggerPopup(){return this.#tD}addHighlightArea(){this.container.classList.add("highlightArea")}_download(){this.downloadManager?.openOrDownloadData(this.container,this.content,this.filename)}}class eW{#eU=null;#tI=null;#tF=new Map;constructor({div:ee,accessibilityManager:et,annotationCanvasMap:en,l10n:es,page:er,viewport:eo}){this.div=ee,this.#eU=et,this.#tI=en,this.l10n=es,this.page=er,this.viewport=eo,this.zIndex=0;let{NullL10n:eh}=ei(32);this.l10n||=eh}#tB(ee,et){let ei=ee.firstChild||ee;ei.id=`${es.AnnotationPrefix}${et}`,this.div.append(ee),this.#eU?.moveElementInDOM(this.div,ee,ei,!1)}async render(ee){let{annotations:et}=ee,ei=this.div;(0,es.setLayerDimensions)(ei,this.viewport);let eo=new Map,eh={data:null,layer:ei,linkService:ee.linkService,downloadManager:ee.downloadManager,imageResourcesPath:ee.imageResourcesPath||"",renderForms:!1!==ee.renderForms,svgFactory:new es.DOMSVGFactory,annotationStorage:ee.annotationStorage||new er.AnnotationStorage,enableScripting:!0===ee.enableScripting,hasJSActions:ee.hasJSActions,fieldObjects:ee.fieldObjects,parent:this,elements:null};for(let ee of et){if(ee.noHTML)continue;let et=ee.annotationType===en.AnnotationType.POPUP;if(et){let et=eo.get(ee.id);if(!et)continue;eh.elements=et}else{let{width:et,height:ei}=ep(ee.rect);if(et<=0||ei<=0)continue}eh.data=ee;let ei=ef.create(eh);if(!ei.isRenderable)continue;if(!et&&ee.popupRef){let et=eo.get(ee.popupRef);et?et.push(ei):eo.set(ee.popupRef,[ei])}ei.annotationEditorType>0&&this.#tF.set(ei.data.id,ei);let es=ei.render();if(ee.hidden&&(es.style.visibility="hidden"),Array.isArray(es))for(let et of es)this.#tB(et,ee.id);else this.#tB(es,ee.id)}this.#tN(),await this.l10n.translate(ei)}update({viewport:ee}){let et=this.div;this.viewport=ee,(0,es.setLayerDimensions)(et,{rotation:ee.rotation}),this.#tN(),et.hidden=!1}#tN(){if(!this.#tI)return;let ee=this.div;for(let[et,ei]of this.#tI){let en=ee.querySelector(`[data-annotation-id="${et}"]`);if(!en)continue;let{firstChild:es}=en;es?"CANVAS"===es.nodeName?es.replaceWith(ei):es.before(ei):en.append(ei)}this.#tI.clear()}getEditableAnnotations(){return Array.from(this.#tF.values())}getEditableAnnotation(ee){return this.#tF.get(ee)}}et.AnnotationLayer=eW},(ee,et)=>{function ei(ee){return Math.floor(255*Math.max(0,Math.min(1,ee))).toString(16).padStart(2,"0")}Object.defineProperty(et,"__esModule",{value:!0}),et.ColorConverters=void 0;class en{static CMYK_G([ee,et,ei,en]){return["G",1-Math.min(1,.3*ee+.59*ei+.11*et+en)]}static G_CMYK([ee]){return["CMYK",0,0,0,1-ee]}static G_RGB([ee]){return["RGB",ee,ee,ee]}static G_HTML([ee]){let et=ei(ee);return`#${et}${et}${et}`}static RGB_G([ee,et,ei]){return["G",.3*ee+.59*et+.11*ei]}static RGB_HTML([ee,et,en]){let es=ei(ee),er=ei(et),eo=ei(en);return`#${es}${er}${eo}`}static T_HTML(){return"#00000000"}static CMYK_RGB([ee,et,ei,en]){return["RGB",1-Math.min(1,ee+en),1-Math.min(1,ei+en),1-Math.min(1,et+en)]}static CMYK_HTML(ee){let et=this.CMYK_RGB(ee).slice(1);return this.RGB_HTML(et)}static RGB_CMYK([ee,et,ei]){let en=1-ee,es=1-et,er=1-ei,eo=Math.min(en,es,er);return["CMYK",en,es,er,eo]}}et.ColorConverters=en},(ee,et,ei)=>{Object.defineProperty(et,"__esModule",{value:!0}),et.XfaLayer=void 0;var en=ei(19);class es{static setupStorage(ee,et,ei,en,es){let er=en.getValue(et,{value:null});switch(ei.name){case"textarea":if(null!==er.value&&(ee.textContent=er.value),"print"===es)break;ee.addEventListener("input",ee=>{en.setValue(et,{value:ee.target.value})});break;case"input":if("radio"===ei.attributes.type||"checkbox"===ei.attributes.type){if(er.value===ei.attributes.xfaOn?ee.setAttribute("checked",!0):er.value===ei.attributes.xfaOff&&ee.removeAttribute("checked"),"print"===es)break;ee.addEventListener("change",ee=>{en.setValue(et,{value:ee.target.checked?ee.target.getAttribute("xfaOn"):ee.target.getAttribute("xfaOff")})})}else{if(null!==er.value&&ee.setAttribute("value",er.value),"print"===es)break;ee.addEventListener("input",ee=>{en.setValue(et,{value:ee.target.value})})}break;case"select":if(null!==er.value)for(let ee of ei.children)ee.attributes.value===er.value&&(ee.attributes.selected=!0);ee.addEventListener("input",ee=>{let ei=ee.target.options,es=-1===ei.selectedIndex?"":ei[ei.selectedIndex].value;en.setValue(et,{value:es})})}}static setAttributes({html:ee,element:et,storage:ei=null,intent:en,linkService:es}){let{attributes:er}=et,eo=ee instanceof HTMLAnchorElement;for(let[et,ei]of("radio"===er.type&&(er.name=`${er.name}-${en}`),Object.entries(er)))if(null!=ei)switch(et){case"class":ei.length&&ee.setAttribute(et,ei.join(" "));break;case"dataId":break;case"id":ee.setAttribute("data-element-id",ei);break;case"style":Object.assign(ee.style,ei);break;case"textContent":ee.textContent=ei;break;default:eo&&("href"===et||"newWindow"===et)||ee.setAttribute(et,ei)}eo&&es.addLinkAttributes(ee,er.href,er.newWindow),ei&&er.dataId&&this.setupStorage(ee,er.dataId,et,ei)}static render(ee){let et=ee.annotationStorage,ei=ee.linkService,es=ee.xfaHtml,er=ee.intent||"display",eo=document.createElement(es.name);es.attributes&&this.setAttributes({html:eo,element:es,intent:er,linkService:ei});let eh=[[es,-1,eo]],ed=ee.div;if(ed.append(eo),ee.viewport){let et=`matrix(${ee.viewport.transform.join(",")})`;ed.style.transform=et}"richText"!==er&&ed.setAttribute("class","xfaLayer xfaFont");let ec=[];for(;eh.length>0;){let ee;let[es,eo,ed]=eh.at(-1);if(eo+1===es.children.length){eh.pop();continue}let eu=es.children[++eh.at(-1)[1]];if(null===eu)continue;let{name:ep}=eu;if("#text"===ep){let ee=document.createTextNode(eu.value);ec.push(ee),ed.append(ee);continue}if(ee=eu?.attributes?.xmlns?document.createElementNS(eu.attributes.xmlns,ep):document.createElement(ep),ed.append(ee),eu.attributes&&this.setAttributes({html:ee,element:eu,storage:et,intent:er,linkService:ei}),eu.children&&eu.children.length>0)eh.push([eu,-1,ee]);else if(eu.value){let et=document.createTextNode(eu.value);en.XfaText.shouldBuildText(ep)&&ec.push(et),ee.append(et)}}for(let ee of ed.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))ee.setAttribute("readOnly",!0);return{textDivs:ec}}static update(ee){let et=`matrix(${ee.viewport.transform.join(",")})`;ee.div.style.transform=et,ee.div.hidden=!1}}et.XfaLayer=es},(ee,et)=>{Object.defineProperty(et,"__esModule",{value:!0}),et.NullL10n=void 0,et.getL10nFallback=en;let ei={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}} \xd7 {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}} \xd7 {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",rendering_error:"An error occurred while rendering the page.",annotation_date_string:"{{date}}, {{time}}",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts.",free_text2_default_content:"Start typing…",editor_free_text2_aria_label:"Text Editor",editor_ink2_aria_label:"Draw Editor",editor_ink_canvas_aria_label:"User-created image"};function en(ee,et){switch(ee){case"find_match_count":ee=`find_match_count[${1===et.total?"one":"other"}]`;break;case"find_match_count_limit":ee=`find_match_count_limit[${1===et.limit?"one":"other"}]`}return ei[ee]||""}function es(ee,et){return et?ee.replaceAll(/\{\{\s*(\w+)\s*\}\}/g,(ee,ei)=>ei in et?et[ei]:"{{"+ei+"}}"):ee}ei.print_progress_percent="{{progress}}%";let er={getLanguage:async()=>"en-us",getDirection:async()=>"ltr",get:async(ee,et=null,ei=en(ee,et))=>es(ei,et),async translate(ee){}};et.NullL10n=er},(ee,et,ei)=>{Object.defineProperty(et,"__esModule",{value:!0}),et.InkEditor=void 0;var en=ei(1),es=ei(4),er=ei(29),eo=ei(5);let eh=16;class ed extends es.AnnotationEditor{#t$=0;#tj=0;#tH=0;#tW=this.canvasContextMenu.bind(this);#tz=this.canvasPointermove.bind(this);#tU=this.canvasPointerleave.bind(this);#tq=this.canvasPointerup.bind(this);#tV=this.canvasPointerdown.bind(this);#tX=new Path2D;#tG=!1;#tY=!1;#tK=!1;#tQ=null;#tJ=0;#tZ=0;#t0=null;static _defaultColor=null;static _defaultOpacity=1;static _defaultThickness=1;static _l10nPromise;static _type="ink";constructor(ee){super({...ee,name:"inkEditor"}),this.color=ee.color||null,this.thickness=ee.thickness||null,this.opacity=ee.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0}static initialize(ee){this._l10nPromise=new Map(["editor_ink_canvas_aria_label","editor_ink2_aria_label"].map(et=>[et,ee.get(et)]))}static updateDefaultParams(ee,et){switch(ee){case en.AnnotationEditorParamsType.INK_THICKNESS:ed._defaultThickness=et;break;case en.AnnotationEditorParamsType.INK_COLOR:ed._defaultColor=et;break;case en.AnnotationEditorParamsType.INK_OPACITY:ed._defaultOpacity=et/100}}updateParams(ee,et){switch(ee){case en.AnnotationEditorParamsType.INK_THICKNESS:this.#t1(et);break;case en.AnnotationEditorParamsType.INK_COLOR:this.#ts(et);break;case en.AnnotationEditorParamsType.INK_OPACITY:this.#t2(et)}}static get defaultPropertiesToUpdate(){return[[en.AnnotationEditorParamsType.INK_THICKNESS,ed._defaultThickness],[en.AnnotationEditorParamsType.INK_COLOR,ed._defaultColor||es.AnnotationEditor._defaultLineColor],[en.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*ed._defaultOpacity)]]}get propertiesToUpdate(){return[[en.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||ed._defaultThickness],[en.AnnotationEditorParamsType.INK_COLOR,this.color||ed._defaultColor||es.AnnotationEditor._defaultLineColor],[en.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*(this.opacity??ed._defaultOpacity))]]}#t1(ee){let et=this.thickness;this.addCommands({cmd:()=>{this.thickness=ee,this.#t3()},undo:()=>{this.thickness=et,this.#t3()},mustExec:!0,type:en.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})}#ts(ee){let et=this.color;this.addCommands({cmd:()=>{this.color=ee,this.#t5()},undo:()=>{this.color=et,this.#t5()},mustExec:!0,type:en.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})}#t2(ee){ee/=100;let et=this.opacity;this.addCommands({cmd:()=>{this.opacity=ee,this.#t5()},undo:()=>{this.opacity=et,this.#t5()},mustExec:!0,type:en.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})}rebuild(){super.rebuild(),null!==this.div&&(this.canvas||(this.#t4(),this.#t6()),this.isAttachedToDOM||(this.parent.add(this),this.#t8()),this.#t3())}remove(){null!==this.canvas&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,this.#tQ.disconnect(),this.#tQ=null,super.remove())}setParent(ee){!this.parent&&ee?this._uiManager.removeShouldRescale(this):this.parent&&null===ee&&this._uiManager.addShouldRescale(this),super.setParent(ee)}onScaleChanging(){let[ee,et]=this.parentDimensions,ei=this.width*ee,en=this.height*et;this.setDimensions(ei,en)}enableEditMode(){this.#tG||null===this.canvas||(super.enableEditMode(),this.div.draggable=!1,this.canvas.addEventListener("pointerdown",this.#tV))}disableEditMode(){this.isInEditMode()&&null!==this.canvas&&(super.disableEditMode(),this.div.draggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",this.#tV))}onceAdded(){this.div.draggable=!this.isEmpty()}isEmpty(){return 0===this.paths.length||1===this.paths.length&&0===this.paths[0].length}#t9(){let{parentRotation:ee,parentDimensions:[et,ei]}=this;switch(ee){case 90:return[0,ei,ei,et];case 180:return[et,ei,et,ei];case 270:return[et,0,ei,et];default:return[0,0,et,ei]}}#t7(){let{ctx:ee,color:et,opacity:ei,thickness:en,parentScale:es,scaleFactor:er}=this;ee.lineWidth=en*es/er,ee.lineCap="round",ee.lineJoin="round",ee.miterLimit=10,ee.strokeStyle=`${et}${(0,eo.opacityToHex)(ei)}`}#ie(ee,et){this.canvas.addEventListener("contextmenu",this.#tW),this.canvas.addEventListener("pointerleave",this.#tU),this.canvas.addEventListener("pointermove",this.#tz),this.canvas.addEventListener("pointerup",this.#tq),this.canvas.removeEventListener("pointerdown",this.#tV),this.isEditing=!0,this.#tK||(this.#tK=!0,this.#t8(),this.thickness||=ed._defaultThickness,this.color||=ed._defaultColor||es.AnnotationEditor._defaultLineColor,this.opacity??=ed._defaultOpacity),this.currentPath.push([ee,et]),this.#tY=!1,this.#t7(),this.#t0=()=>{this.#it(),this.#t0&&window.requestAnimationFrame(this.#t0)},window.requestAnimationFrame(this.#t0)}#ii(ee,et){let[ei,en]=this.currentPath.at(-1);if(this.currentPath.length>1&&ee===ei&&et===en)return;let es=this.currentPath,er=this.#tX;if(es.push([ee,et]),this.#tY=!0,es.length<=2){er.moveTo(...es[0]),er.lineTo(ee,et);return}3===es.length&&(this.#tX=er=new Path2D,er.moveTo(...es[0])),this.#is(er,...es.at(-3),...es.at(-2),ee,et)}#ia(){if(0===this.currentPath.length)return;let ee=this.currentPath.at(-1);this.#tX.lineTo(...ee)}#ir(ee,et){let ei;if(this.#t0=null,ee=Math.min(Math.max(ee,0),this.canvas.width),et=Math.min(Math.max(et,0),this.canvas.height),this.#ii(ee,et),this.#ia(),1!==this.currentPath.length)ei=this.#io();else{let en=[ee,et];ei=[[en,en.slice(),en.slice(),en]]}let en=this.#tX,es=this.currentPath;this.currentPath=[],this.#tX=new Path2D;let er=()=>{this.allRawPaths.push(es),this.paths.push(ei),this.bezierPath2D.push(en),this.rebuild()},eo=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),0===this.paths.length?this.remove():(this.canvas||(this.#t4(),this.#t6()),this.#t3())};this.addCommands({cmd:er,undo:eo,mustExec:!0})}#it(){if(!this.#tY)return;this.#tY=!1,this.thickness,this.parentScale;let ee=this.currentPath.slice(-3),{ctx:et}=(ee.map(ee=>ee[0]),ee.map(ee=>ee[1]),this);for(let ee of(et.save(),et.clearRect(0,0,this.canvas.width,this.canvas.height),this.bezierPath2D))et.stroke(ee);et.stroke(this.#tX),et.restore()}#is(ee,et,ei,en,es,er,eo){let eh=(et+en)/2,ed=(ei+es)/2,ec=(en+er)/2,eu=(es+eo)/2;ee.bezierCurveTo(eh+2*(en-eh)/3,ed+2*(es-ed)/3,ec+2*(en-ec)/3,eu+2*(es-eu)/3,ec,eu)}#io(){let ee;let et=this.currentPath;if(et.length<=2)return[[et[0],et[0],et.at(-1),et.at(-1)]];let ei=[],[en,es]=et[0];for(ee=1;ee<et.length-2;ee++){let[er,eo]=et[ee],[eh,ed]=et[ee+1],ec=(er+eh)/2,eu=(eo+ed)/2,ep=[en+2*(er-en)/3,es+2*(eo-es)/3],ef=[ec+2*(er-ec)/3,eu+2*(eo-eu)/3];ei.push([[en,es],ep,ef,[ec,eu]]),[en,es]=[ec,eu]}let[er,eo]=et[ee],[eh,ed]=et[ee+1],ec=[en+2*(er-en)/3,es+2*(eo-es)/3],eu=[eh+2*(er-eh)/3,ed+2*(eo-ed)/3];return ei.push([[en,es],ec,eu,[eh,ed]]),ei}#t5(){if(this.isEmpty()){this.#il();return}this.#t7();let{canvas:ee,ctx:et}=this;for(let ei of(et.setTransform(1,0,0,1,0,0),et.clearRect(0,0,ee.width,ee.height),this.#il(),this.bezierPath2D))et.stroke(ei)}commit(){this.#tG||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),this.#tG=!0,this.div.classList.add("disabled"),this.#t3(!0),this.parent.addInkEditorIfNeeded(!0),this.parent.moveEditorInDOM(this),this.div.focus({preventScroll:!0}))}focusin(ee){super.focusin(ee),this.enableEditMode()}canvasPointerdown(ee){0===ee.button&&this.isInEditMode()&&!this.#tG&&(this.setInForeground(),ee.preventDefault(),"mouse"!==ee.type&&this.div.focus(),this.#ie(ee.offsetX,ee.offsetY))}canvasContextMenu(ee){ee.preventDefault()}canvasPointermove(ee){ee.preventDefault(),this.#ii(ee.offsetX,ee.offsetY)}canvasPointerup(ee){ee.preventDefault(),this.#ih(ee)}canvasPointerleave(ee){this.#ih(ee)}#ih(ee){this.canvas.removeEventListener("pointerleave",this.#tU),this.canvas.removeEventListener("pointermove",this.#tz),this.canvas.removeEventListener("pointerup",this.#tq),this.canvas.addEventListener("pointerdown",this.#tV),setTimeout(()=>{this.canvas.removeEventListener("contextmenu",this.#tW)},10),this.#ir(ee.offsetX,ee.offsetY),this.addToAnnotationStorage(),this.setInBackground()}#t4(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",ed._l10nPromise.get("editor_ink_canvas_aria_label").then(ee=>this.canvas?.setAttribute("aria-label",ee)),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")}#t6(){this.#tQ=new ResizeObserver(ee=>{let et=ee[0].contentRect;et.width&&et.height&&this.setDimensions(et.width,et.height)}),this.#tQ.observe(this.div)}render(){let ee,et;if(this.div)return this.div;this.width&&(ee=this.x,et=this.y),super.render(),ed._l10nPromise.get("editor_ink2_aria_label").then(ee=>this.div?.setAttribute("aria-label",ee));let[ei,en,es,er]=this.#t9();if(this.setAt(ei,en,0,0),this.setDims(es,er),this.#t4(),this.width){let[ei,en]=this.parentDimensions;this.setAt(ee*ei,et*en,this.width*ei,this.height*en),this.#tK=!0,this.#t8(),this.setDims(this.width*ei,this.height*en),this.#t5(),this.#id(),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return this.#t6(),this.div}#t8(){if(!this.#tK)return;let[ee,et]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*ee),this.canvas.height=Math.ceil(this.height*et),this.#il()}setDimensions(ee,et){let ei=Math.round(ee),en=Math.round(et);if(this.#tJ===ei&&this.#tZ===en)return;this.#tJ=ei,this.#tZ=en,this.canvas.style.visibility="hidden",this.#t$&&Math.abs(this.#t$-ee/et)>.01&&(et=Math.ceil(ee/this.#t$),this.setDims(ee,et));let[es,er]=this.parentDimensions;this.width=ee/es,this.height=et/er,this.#tG&&this.#ic(ee,et),this.#t8(),this.#t5(),this.canvas.style.visibility="visible",this.fixDims()}#ic(ee,et){let ei=this.#iu(),en=(ee-ei)/this.#tH,es=(et-ei)/this.#tj;this.scaleFactor=Math.min(en,es)}#il(){let ee=this.#iu()/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+ee,this.translationY*this.scaleFactor+ee)}static #ip(ee){let et=new Path2D;for(let ei=0,en=ee.length;ei<en;ei++){let[en,es,er,eo]=ee[ei];0===ei&&et.moveTo(...en),et.bezierCurveTo(es[0],es[1],er[0],er[1],eo[0],eo[1])}return et}static #ig(ee,et,ei){let[en,es,er,eo]=et;switch(ei){case 0:for(let et=0,ei=ee.length;et<ei;et+=2)ee[et]+=en,ee[et+1]=eo-ee[et+1];break;case 90:for(let et=0,ei=ee.length;et<ei;et+=2){let ei=ee[et];ee[et]=ee[et+1]+en,ee[et+1]=ei+es}break;case 180:for(let et=0,ei=ee.length;et<ei;et+=2)ee[et]=er-ee[et],ee[et+1]+=es;break;case 270:for(let et=0,ei=ee.length;et<ei;et+=2){let ei=ee[et];ee[et]=er-ee[et+1],ee[et+1]=eo-ei}break;default:throw Error("Invalid rotation")}return ee}static #im(ee,et,ei){let[en,es,er,eo]=et;switch(ei){case 0:for(let et=0,ei=ee.length;et<ei;et+=2)ee[et]-=en,ee[et+1]=eo-ee[et+1];break;case 90:for(let et=0,ei=ee.length;et<ei;et+=2){let ei=ee[et];ee[et]=ee[et+1]-es,ee[et+1]=ei-en}break;case 180:for(let et=0,ei=ee.length;et<ei;et+=2)ee[et]=er-ee[et],ee[et+1]-=es;break;case 270:for(let et=0,ei=ee.length;et<ei;et+=2){let ei=ee[et];ee[et]=eo-ee[et+1],ee[et+1]=er-ei}break;default:throw Error("Invalid rotation")}return ee}#iv(ee,et,ei,en){let es=[],er=this.thickness/2,eo=ee*et+er,eh=ee*ei+er;for(let et of this.paths){let ei=[],er=[];for(let en=0,es=et.length;en<es;en++){let[ed,ec,eu,ep]=et[en],ef=ee*ed[0]+eo,eg=ee*ed[1]+eh,em=ee*ec[0]+eo,ey=ee*ec[1]+eh,eb=ee*eu[0]+eo,e_=ee*eu[1]+eh,eA=ee*ep[0]+eo,ew=ee*ep[1]+eh;0===en&&(ei.push(ef,eg),er.push(ef,eg)),ei.push(em,ey,eb,e_,eA,ew),er.push(em,ey),en===es-1&&er.push(eA,ew)}es.push({bezier:ed.#ig(ei,en,this.rotation),points:ed.#ig(er,en,this.rotation)})}return es}#iy(){let ee=1/0,et=-1/0,ei=1/0,es=-1/0;for(let er of this.paths)for(let[eo,eh,ed,ec]of er){let er=en.Util.bezierBoundingBox(...eo,...eh,...ed,...ec);ee=Math.min(ee,er[0]),ei=Math.min(ei,er[1]),et=Math.max(et,er[2]),es=Math.max(es,er[3])}return[ee,ei,et,es]}#iu(){return this.#tG?Math.ceil(this.thickness*this.parentScale):0}#t3(ee=!1){if(this.isEmpty())return;if(!this.#tG){this.#t5();return}let et=this.#iy(),ei=this.#iu();this.#tH=Math.max(eh,et[2]-et[0]),this.#tj=Math.max(eh,et[3]-et[1]);let en=Math.ceil(ei+this.#tH*this.scaleFactor),es=Math.ceil(ei+this.#tj*this.scaleFactor),[er,eo]=this.parentDimensions;this.width=en/er,this.height=es/eo,this.#t$=en/es,this.#id();let ed=this.translationX,ec=this.translationY;this.translationX=-et[0],this.translationY=-et[1],this.#t8(),this.#t5(),this.#tJ=en,this.#tZ=es,this.setDims(en,es);let eu=ee?ei/this.scaleFactor/2:0;this.translate(ed-this.translationX-eu,ec-this.translationY-eu)}#id(){let{style:ee}=this.div;this.#t$>=1?(ee.minHeight=`${eh}px`,ee.minWidth=`${Math.round(this.#t$*eh)}px`):(ee.minWidth=`${eh}px`,ee.minHeight=`${Math.round(eh/this.#t$)}px`)}static deserialize(ee,et,ei){if(ee instanceof er.InkAnnotationElement)return null;let es=super.deserialize(ee,et,ei);es.thickness=ee.thickness,es.color=en.Util.makeHexColor(...ee.color),es.opacity=ee.opacity;let[eo,ec]=es.pageDimensions,eu=es.width*eo,ep=es.height*ec,ef=es.parentScale,eg=ee.thickness/2;es.#t$=eu/ep,es.#tG=!0,es.#tJ=Math.round(eu),es.#tZ=Math.round(ep);let{paths:em,rect:ey,rotation:eb}=ee;for(let{bezier:ee}of em){ee=ed.#im(ee,ey,eb);let et=[];es.paths.push(et);let ei=ef*(ee[0]-eg),en=ef*(ee[1]-eg);for(let es=2,er=ee.length;es<er;es+=6){let er=ef*(ee[es]-eg),eo=ef*(ee[es+1]-eg),eh=ef*(ee[es+2]-eg),ed=ef*(ee[es+3]-eg),ec=ef*(ee[es+4]-eg),eu=ef*(ee[es+5]-eg);et.push([[ei,en],[er,eo],[eh,ed],[ec,eu]]),ei=ec,en=eu}let er=this.#ip(et);es.bezierPath2D.push(er)}let e_=es.#iy();return es.#tH=Math.max(eh,e_[2]-e_[0]),es.#tj=Math.max(eh,e_[3]-e_[1]),es.#ic(eu,ep),es}serialize(){if(this.isEmpty())return null;let ee=this.getRect(0,0),et=es.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:en.AnnotationEditorType.INK,color:et,thickness:this.thickness,opacity:this.opacity,paths:this.#iv(this.scaleFactor/this.parentScale,this.translationX,this.translationY,ee),pageIndex:this.pageIndex,rect:ee,rotation:this.rotation}}}et.InkEditor=ed},(ee,et,ei)=>{Object.defineProperty(et,"__esModule",{value:!0}),et.SVGGraphics=void 0;var en=ei(6),es=ei(1),er=ei(10);let eo={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},eh="http://www.w3.org/XML/1998/namespace",ed="http://www.w3.org/1999/xlink",ec=["butt","round","square"],eu=["miter","round","bevel"],ep=function(ee,et="",ei=!1){if(URL.createObjectURL&&"undefined"!=typeof Blob&&!ei)return URL.createObjectURL(new Blob([ee],{type:et}));let en="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",es=`data:${et};base64,`;for(let et=0,ei=ee.length;et<ei;et+=3){let er=255&ee[et],eo=255&ee[et+1],eh=255&ee[et+2],ed=er>>2,ec=(3&er)<<4|eo>>4,eu=et+1<ei?(15&eo)<<2|eh>>6:64,ep=et+2<ei?63&eh:64;es+=en[ed]+en[ec]+en[eu]+en[ep]}return es},ef=function(){let ee=new Uint8Array([137,80,78,71,13,10,26,10]),et=12,ei=new Int32Array(256);for(let ee=0;ee<256;ee++){let et=ee;for(let ee=0;ee<8;ee++)et=1&et?3988292384^et>>1&2147483647:et>>1&2147483647;ei[ee]=et}function en(ee,et,en){let es=-1;for(let er=et;er<en;er++){let et=(es^ee[er])&255,en=ei[et];es=es>>>8^en}return -1^es}function eo(ee,et,ei,es){let er=es,eo=et.length;ei[er]=eo>>24&255,ei[er+1]=eo>>16&255,ei[er+2]=eo>>8&255,ei[er+3]=255&eo,ei[er+=4]=255&ee.charCodeAt(0),ei[er+1]=255&ee.charCodeAt(1),ei[er+2]=255&ee.charCodeAt(2),ei[er+3]=255&ee.charCodeAt(3),er+=4,ei.set(et,er),er+=et.length;let eh=en(ei,es+4,er);ei[er]=eh>>24&255,ei[er+1]=eh>>16&255,ei[er+2]=eh>>8&255,ei[er+3]=255&eh}function eh(ee,et,ei){let en=1,es=0;for(let er=et;er<ei;++er)es=(es+(en=(en+(255&ee[er]))%65521))%65521;return es<<16|en}function ed(ee){if(!er.isNodeJS)return ec(ee);try{let et;et=parseInt(process.versions.node)>=8?ee:Buffer.from(ee);let ei=__webpack_require__("1817").deflateSync(et,{level:9});return ei instanceof Uint8Array?ei:new Uint8Array(ei)}catch(ee){(0,es.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+ee)}return ec(ee)}function ec(ee){let et=ee.length,ei=65535,en=Math.ceil(et/ei),es=new Uint8Array(2+et+5*en+4),er=0;es[er++]=120,es[er++]=156;let eo=0;for(;et>ei;)es[er++]=0,es[er++]=255,es[er++]=255,es[er++]=0,es[er++]=0,es.set(ee.subarray(eo,eo+ei),er),er+=ei,eo+=ei,et-=ei;es[er++]=1,es[er++]=255&et,es[er++]=et>>8&255,es[er++]=255&~et,es[er++]=(65535&~et)>>8&255,es.set(ee.subarray(eo),er),er+=ee.length-eo;let ed=eh(ee,0,ee.length);return es[er++]=ed>>24&255,es[er++]=ed>>16&255,es[er++]=ed>>8&255,es[er++]=255&ed,es}function eu(ei,en,er,eh){let ec,eu,ef;let eg=ei.width,em=ei.height,ey=ei.data;switch(en){case es.ImageKind.GRAYSCALE_1BPP:eu=0,ec=1,ef=eg+7>>3;break;case es.ImageKind.RGB_24BPP:eu=2,ec=8,ef=3*eg;break;case es.ImageKind.RGBA_32BPP:eu=6,ec=8,ef=4*eg;break;default:throw Error("invalid format")}let eb=new Uint8Array((1+ef)*em),e_=0,eA=0;for(let ee=0;ee<em;++ee)eb[e_++]=0,eb.set(ey.subarray(eA,eA+ef),e_),eA+=ef,e_+=ef;if(en===es.ImageKind.GRAYSCALE_1BPP&&eh){e_=0;for(let ee=0;ee<em;ee++){e_++;for(let ee=0;ee<ef;ee++)eb[e_++]^=255}}let ew=new Uint8Array([eg>>24&255,eg>>16&255,eg>>8&255,255&eg,em>>24&255,em>>16&255,em>>8&255,255&em,ec,eu,0,0,0]),ek=ed(eb),eC=ee.length+3*et+ew.length+ek.length,eE=new Uint8Array(eC),ex=0;return eE.set(ee,ex),eo("IHDR",ew,eE,ex+=ee.length),eo("IDATA",ek,eE,ex+=et+ew.length),ex+=et+ek.length,eo("IEND",new Uint8Array(0),eE,ex),ep(eE,"image/png",er)}return function(ee,et,ei){let en=void 0===ee.kind?es.ImageKind.GRAYSCALE_1BPP:ee.kind;return eu(ee,en,et,ei)}}();class eg{constructor(){this.fontSizeScale=1,this.fontWeight=eo.fontWeight,this.fontSize=0,this.textMatrix=es.IDENTITY_MATRIX,this.fontMatrix=es.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=es.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=eo.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(ee,et){this.x=ee,this.y=et}}function em(ee){let et=[],ei=[];for(let en of ee){if("save"===en.fn){et.push({fnId:92,fn:"group",items:[]}),ei.push(et),et=et.at(-1).items;continue}"restore"===en.fn?et=ei.pop():et.push(en)}return et}function ey(ee){if(Number.isInteger(ee))return ee.toString();let et=ee.toFixed(10),ei=et.length-1;if("0"!==et[ei])return et;do ei--;while("0"===et[ei]);return et.substring(0,"."===et[ei]?ei:ei+1)}function eb(ee){if(0===ee[4]&&0===ee[5]){if(0===ee[1]&&0===ee[2])return 1===ee[0]&&1===ee[3]?"":`scale(${ey(ee[0])} ${ey(ee[3])})`;if(ee[0]===ee[3]&&ee[1]===-ee[2]){let et=180*Math.acos(ee[0])/Math.PI;return`rotate(${ey(et)})`}}else if(1===ee[0]&&0===ee[1]&&0===ee[2]&&1===ee[3])return`translate(${ey(ee[4])} ${ey(ee[5])})`;return`matrix(${ey(ee[0])} ${ey(ee[1])} ${ey(ee[2])} ${ey(ee[3])} ${ey(ee[4])} ${ey(ee[5])})`}let e_=0,eA=0,ew=0;class ek{constructor(ee,et,ei=!1){for(let er in(0,en.deprecated)("The SVG back-end is no longer maintained and *may* be removed in the future."),this.svgFactory=new en.DOMSVGFactory,this.current=new eg,this.transformMatrix=es.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=ee,this.objs=et,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!ei,this._operatorIdMapping=[],es.OPS)this._operatorIdMapping[es.OPS[er]]=er}getObject(ee,et=null){return"string"==typeof ee?ee.startsWith("g_")?this.commonObjs.get(ee):this.objs.get(ee):et}save(){this.transformStack.push(this.transformMatrix);let ee=this.current;this.extraStack.push(ee),this.current=ee.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(ee){this.save(),this.executeOpTree(ee),this.restore()}loadDependencies(ee){let et=ee.fnArray,ei=ee.argsArray;for(let ee=0,en=et.length;ee<en;ee++)if(et[ee]===es.OPS.dependency)for(let et of ei[ee]){let ee=et.startsWith("g_")?this.commonObjs:this.objs,ei=new Promise(ei=>{ee.get(et,ei)});this.current.dependencies.push(ei)}return Promise.all(this.current.dependencies)}transform(ee,et,ei,en,er,eo){let eh=[ee,et,ei,en,er,eo];this.transformMatrix=es.Util.transform(this.transformMatrix,eh),this.tgrp=null}getSVG(ee,et){this.viewport=et;let ei=this._initialize(et);return this.loadDependencies(ee).then(()=>(this.transformMatrix=es.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(ee)),ei))}convertOpList(ee){let et=this._operatorIdMapping,ei=ee.argsArray,en=ee.fnArray,es=[];for(let ee=0,er=en.length;ee<er;ee++){let er=en[ee];es.push({fnId:er,fn:et[er],args:ei[ee]})}return em(es)}executeOpTree(ee){for(let et of ee){let ee=et.fn,ei=et.fnId,en=et.args;switch(0|ei){case es.OPS.beginText:this.beginText();break;case es.OPS.dependency:break;case es.OPS.setLeading:this.setLeading(en);break;case es.OPS.setLeadingMoveText:this.setLeadingMoveText(en[0],en[1]);break;case es.OPS.setFont:this.setFont(en);break;case es.OPS.showText:case es.OPS.showSpacedText:this.showText(en[0]);break;case es.OPS.endText:this.endText();break;case es.OPS.moveText:this.moveText(en[0],en[1]);break;case es.OPS.setCharSpacing:this.setCharSpacing(en[0]);break;case es.OPS.setWordSpacing:this.setWordSpacing(en[0]);break;case es.OPS.setHScale:this.setHScale(en[0]);break;case es.OPS.setTextMatrix:this.setTextMatrix(en[0],en[1],en[2],en[3],en[4],en[5]);break;case es.OPS.setTextRise:this.setTextRise(en[0]);break;case es.OPS.setTextRenderingMode:this.setTextRenderingMode(en[0]);break;case es.OPS.setLineWidth:this.setLineWidth(en[0]);break;case es.OPS.setLineJoin:this.setLineJoin(en[0]);break;case es.OPS.setLineCap:this.setLineCap(en[0]);break;case es.OPS.setMiterLimit:this.setMiterLimit(en[0]);break;case es.OPS.setFillRGBColor:this.setFillRGBColor(en[0],en[1],en[2]);break;case es.OPS.setStrokeRGBColor:this.setStrokeRGBColor(en[0],en[1],en[2]);break;case es.OPS.setStrokeColorN:this.setStrokeColorN(en);break;case es.OPS.setFillColorN:this.setFillColorN(en);break;case es.OPS.shadingFill:this.shadingFill(en[0]);break;case es.OPS.setDash:this.setDash(en[0],en[1]);break;case es.OPS.setRenderingIntent:this.setRenderingIntent(en[0]);break;case es.OPS.setFlatness:this.setFlatness(en[0]);break;case es.OPS.setGState:this.setGState(en[0]);break;case es.OPS.fill:this.fill();break;case es.OPS.eoFill:this.eoFill();break;case es.OPS.stroke:this.stroke();break;case es.OPS.fillStroke:this.fillStroke();break;case es.OPS.eoFillStroke:this.eoFillStroke();break;case es.OPS.clip:this.clip("nonzero");break;case es.OPS.eoClip:this.clip("evenodd");break;case es.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case es.OPS.paintImageXObject:this.paintImageXObject(en[0]);break;case es.OPS.paintInlineImageXObject:this.paintInlineImageXObject(en[0]);break;case es.OPS.paintImageMaskXObject:this.paintImageMaskXObject(en[0]);break;case es.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(en[0],en[1]);break;case es.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case es.OPS.closePath:this.closePath();break;case es.OPS.closeStroke:this.closeStroke();break;case es.OPS.closeFillStroke:this.closeFillStroke();break;case es.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case es.OPS.nextLine:this.nextLine();break;case es.OPS.transform:this.transform(en[0],en[1],en[2],en[3],en[4],en[5]);break;case es.OPS.constructPath:this.constructPath(en[0],en[1]);break;case es.OPS.endPath:this.endPath();break;case 92:this.group(et.items);break;default:(0,es.warn)(`Unimplemented operator ${ee}`)}}}setWordSpacing(ee){this.current.wordSpacing=ee}setCharSpacing(ee){this.current.charSpacing=ee}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(ee,et,ei,en,es,er){let eo=this.current;eo.textMatrix=eo.lineMatrix=[ee,et,ei,en,es,er],eo.textMatrixScale=Math.hypot(ee,et),eo.x=eo.lineX=0,eo.y=eo.lineY=0,eo.xcoords=[],eo.ycoords=[],eo.tspan=this.svgFactory.createElement("svg:tspan"),eo.tspan.setAttributeNS(null,"font-family",eo.fontFamily),eo.tspan.setAttributeNS(null,"font-size",`${ey(eo.fontSize)}px`),eo.tspan.setAttributeNS(null,"y",ey(-eo.y)),eo.txtElement=this.svgFactory.createElement("svg:text"),eo.txtElement.append(eo.tspan)}beginText(){let ee=this.current;ee.x=ee.lineX=0,ee.y=ee.lineY=0,ee.textMatrix=es.IDENTITY_MATRIX,ee.lineMatrix=es.IDENTITY_MATRIX,ee.textMatrixScale=1,ee.tspan=this.svgFactory.createElement("svg:tspan"),ee.txtElement=this.svgFactory.createElement("svg:text"),ee.txtgrp=this.svgFactory.createElement("svg:g"),ee.xcoords=[],ee.ycoords=[]}moveText(ee,et){let ei=this.current;ei.x=ei.lineX+=ee,ei.y=ei.lineY+=et,ei.xcoords=[],ei.ycoords=[],ei.tspan=this.svgFactory.createElement("svg:tspan"),ei.tspan.setAttributeNS(null,"font-family",ei.fontFamily),ei.tspan.setAttributeNS(null,"font-size",`${ey(ei.fontSize)}px`),ei.tspan.setAttributeNS(null,"y",ey(-ei.y))}showText(ee){let et=this.current,ei=et.font,en=et.fontSize;if(0===en)return;let er=et.fontSizeScale,ed=et.charSpacing,ec=et.wordSpacing,eu=et.fontDirection,ep=et.textHScale*eu,ef=ei.vertical,eg=ef?1:-1,em=ei.defaultVMetrics,e_=en*et.fontMatrix[0],eA=0;for(let es of ee){let ee,eo,eh;if(null===es){eA+=eu*ec;continue}if("number"==typeof es){eA+=eg*es*en/1e3;continue}let ep=(es.isSpace?ec:0)+ed,ey=es.fontChar,eb=es.width;if(ef){let et;let ei=es.vmetric||em;et=-(et=es.vmetric?ei[1]:.5*eb)*e_;let en=ei[2]*e_;eb=ei?-ei[0]:eb,ee=et/er,eo=(eA+en)/er}else ee=eA/er,eo=0;(es.isInFont||ei.missingFile)&&(et.xcoords.push(et.x+ee),ef&&et.ycoords.push(-et.y+eo),et.tspan.textContent+=ey),eA+=eh=ef?eb*e_-ep*eu:eb*e_+ep*eu}et.tspan.setAttributeNS(null,"x",et.xcoords.map(ey).join(" ")),ef?et.tspan.setAttributeNS(null,"y",et.ycoords.map(ey).join(" ")):et.tspan.setAttributeNS(null,"y",ey(-et.y)),ef?et.y-=eA:et.x+=eA*ep,et.tspan.setAttributeNS(null,"font-family",et.fontFamily),et.tspan.setAttributeNS(null,"font-size",`${ey(et.fontSize)}px`),et.fontStyle!==eo.fontStyle&&et.tspan.setAttributeNS(null,"font-style",et.fontStyle),et.fontWeight!==eo.fontWeight&&et.tspan.setAttributeNS(null,"font-weight",et.fontWeight);let ew=et.textRenderingMode&es.TextRenderingMode.FILL_STROKE_MASK;if(ew===es.TextRenderingMode.FILL||ew===es.TextRenderingMode.FILL_STROKE?(et.fillColor!==eo.fillColor&&et.tspan.setAttributeNS(null,"fill",et.fillColor),et.fillAlpha<1&&et.tspan.setAttributeNS(null,"fill-opacity",et.fillAlpha)):et.textRenderingMode===es.TextRenderingMode.ADD_TO_PATH?et.tspan.setAttributeNS(null,"fill","transparent"):et.tspan.setAttributeNS(null,"fill","none"),ew===es.TextRenderingMode.STROKE||ew===es.TextRenderingMode.FILL_STROKE){let ee=1/(et.textMatrixScale||1);this._setStrokeAttributes(et.tspan,ee)}let ek=et.textMatrix;0!==et.textRise&&(ek=ek.slice(),ek[5]+=et.textRise),et.txtElement.setAttributeNS(null,"transform",`${eb(ek)} scale(${ey(ep)}, -1)`),et.txtElement.setAttributeNS(eh,"xml:space","preserve"),et.txtElement.append(et.tspan),et.txtgrp.append(et.txtElement),this._ensureTransformGroup().append(et.txtElement)}setLeadingMoveText(ee,et){this.setLeading(-et),this.moveText(ee,et)}addFontStyle(ee){if(!ee.data)throw Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.append(this.cssStyle));let et=ep(ee.data,ee.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${ee.loadedName}"; src: url(${et}); }
`}setFont(ee){let et=this.current,ei=this.commonObjs.get(ee[0]),en=ee[1];et.font=ei,!this.embedFonts||ei.missingFile||this.embeddedFonts[ei.loadedName]||(this.addFontStyle(ei),this.embeddedFonts[ei.loadedName]=ei),et.fontMatrix=ei.fontMatrix||es.FONT_IDENTITY_MATRIX;let er="normal";ei.black?er="900":ei.bold&&(er="bold");let eo=ei.italic?"italic":"normal";en<0?(en=-en,et.fontDirection=-1):et.fontDirection=1,et.fontSize=en,et.fontFamily=ei.loadedName,et.fontWeight=er,et.fontStyle=eo,et.tspan=this.svgFactory.createElement("svg:tspan"),et.tspan.setAttributeNS(null,"y",ey(-et.y)),et.xcoords=[],et.ycoords=[]}endText(){let ee=this.current;ee.textRenderingMode&es.TextRenderingMode.ADD_TO_PATH_FLAG&&ee.txtElement?.hasChildNodes()&&(ee.element=ee.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(ee){ee>0&&(this.current.lineWidth=ee)}setLineCap(ee){this.current.lineCap=ec[ee]}setLineJoin(ee){this.current.lineJoin=eu[ee]}setMiterLimit(ee){this.current.miterLimit=ee}setStrokeAlpha(ee){this.current.strokeAlpha=ee}setStrokeRGBColor(ee,et,ei){this.current.strokeColor=es.Util.makeHexColor(ee,et,ei)}setFillAlpha(ee){this.current.fillAlpha=ee}setFillRGBColor(ee,et,ei){this.current.fillColor=es.Util.makeHexColor(ee,et,ei),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(ee){this.current.strokeColor=this._makeColorN_Pattern(ee)}setFillColorN(ee){this.current.fillColor=this._makeColorN_Pattern(ee)}shadingFill(ee){let{width:et,height:ei}=this.viewport,en=es.Util.inverseTransform(this.transformMatrix),[er,eo,eh,ed]=es.Util.getAxialAlignedBoundingBox([0,0,et,ei],en),ec=this.svgFactory.createElement("svg:rect");ec.setAttributeNS(null,"x",er),ec.setAttributeNS(null,"y",eo),ec.setAttributeNS(null,"width",eh-er),ec.setAttributeNS(null,"height",ed-eo),ec.setAttributeNS(null,"fill",this._makeShadingPattern(ee)),this.current.fillAlpha<1&&ec.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().append(ec)}_makeColorN_Pattern(ee){return"TilingPattern"===ee[0]?this._makeTilingPattern(ee):this._makeShadingPattern(ee)}_makeTilingPattern(ee){let et=ee[1],ei=ee[2],en=ee[3]||es.IDENTITY_MATRIX,[er,eo,eh,ed]=ee[4],ec=ee[5],eu=ee[6],ep=ee[7],ef=`shading${ew++}`,[eg,em,ey,eb]=es.Util.normalizeRect([...es.Util.applyTransform([er,eo],en),...es.Util.applyTransform([eh,ed],en)]),[e_,eA]=es.Util.singularValueDecompose2dScale(en),ek=ec*e_,eC=eu*eA,eE=this.svgFactory.createElement("svg:pattern");eE.setAttributeNS(null,"id",ef),eE.setAttributeNS(null,"patternUnits","userSpaceOnUse"),eE.setAttributeNS(null,"width",ek),eE.setAttributeNS(null,"height",eC),eE.setAttributeNS(null,"x",`${eg}`),eE.setAttributeNS(null,"y",`${em}`);let ex=this.svg,eS=this.transformMatrix,eM=this.current.fillColor,eT=this.current.strokeColor,eO=this.svgFactory.create(ey-eg,eb-em);if(this.svg=eO,this.transformMatrix=en,2===ep){let ee=es.Util.makeHexColor(...et);this.current.fillColor=ee,this.current.strokeColor=ee}return this.executeOpTree(this.convertOpList(ei)),this.svg=ex,this.transformMatrix=eS,this.current.fillColor=eM,this.current.strokeColor=eT,eE.append(eO.childNodes[0]),this.defs.append(eE),`url(#${ef})`}_makeShadingPattern(ee){switch("string"==typeof ee&&(ee=this.objs.get(ee)),ee[0]){case"RadialAxial":let et;let ei=`shading${ew++}`,en=ee[3];switch(ee[1]){case"axial":let er=ee[4],eo=ee[5];(et=this.svgFactory.createElement("svg:linearGradient")).setAttributeNS(null,"id",ei),et.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),et.setAttributeNS(null,"x1",er[0]),et.setAttributeNS(null,"y1",er[1]),et.setAttributeNS(null,"x2",eo[0]),et.setAttributeNS(null,"y2",eo[1]);break;case"radial":let eh=ee[4],ed=ee[5],ec=ee[6],eu=ee[7];(et=this.svgFactory.createElement("svg:radialGradient")).setAttributeNS(null,"id",ei),et.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),et.setAttributeNS(null,"cx",ed[0]),et.setAttributeNS(null,"cy",ed[1]),et.setAttributeNS(null,"r",eu),et.setAttributeNS(null,"fx",eh[0]),et.setAttributeNS(null,"fy",eh[1]),et.setAttributeNS(null,"fr",ec);break;default:throw Error(`Unknown RadialAxial type: ${ee[1]}`)}for(let ee of en){let ei=this.svgFactory.createElement("svg:stop");ei.setAttributeNS(null,"offset",ee[0]),ei.setAttributeNS(null,"stop-color",ee[1]),et.append(ei)}return this.defs.append(et),`url(#${ei})`;case"Mesh":return(0,es.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw Error(`Unknown IR type: ${ee[0]}`)}}setDash(ee,et){this.current.dashArray=ee,this.current.dashPhase=et}constructPath(ee,et){let ei=this.current,en=ei.x,er=ei.y,eo=[],eh=0;for(let ei of ee)switch(0|ei){case es.OPS.rectangle:en=et[eh++],er=et[eh++];let ee=et[eh++],ed=et[eh++],ec=en+ee,eu=er+ed;eo.push("M",ey(en),ey(er),"L",ey(ec),ey(er),"L",ey(ec),ey(eu),"L",ey(en),ey(eu),"Z");break;case es.OPS.moveTo:en=et[eh++],er=et[eh++],eo.push("M",ey(en),ey(er));break;case es.OPS.lineTo:en=et[eh++],er=et[eh++],eo.push("L",ey(en),ey(er));break;case es.OPS.curveTo:en=et[eh+4],er=et[eh+5],eo.push("C",ey(et[eh]),ey(et[eh+1]),ey(et[eh+2]),ey(et[eh+3]),ey(en),ey(er)),eh+=6;break;case es.OPS.curveTo2:eo.push("C",ey(en),ey(er),ey(et[eh]),ey(et[eh+1]),ey(et[eh+2]),ey(et[eh+3])),en=et[eh+2],er=et[eh+3],eh+=4;break;case es.OPS.curveTo3:en=et[eh+2],er=et[eh+3],eo.push("C",ey(et[eh]),ey(et[eh+1]),ey(en),ey(er),ey(en),ey(er)),eh+=4;break;case es.OPS.closePath:eo.push("Z")}eo=eo.join(" "),ei.path&&ee.length>0&&ee[0]!==es.OPS.rectangle&&ee[0]!==es.OPS.moveTo?eo=ei.path.getAttributeNS(null,"d")+eo:(ei.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().append(ei.path)),ei.path.setAttributeNS(null,"d",eo),ei.path.setAttributeNS(null,"fill","none"),ei.element=ei.path,ei.setCurrentPoint(en,er)}endPath(){let ee=this.current;if(ee.path=null,!this.pendingClip)return;if(!ee.element){this.pendingClip=null;return}let et=`clippath${e_++}`,ei=this.svgFactory.createElement("svg:clipPath");ei.setAttributeNS(null,"id",et),ei.setAttributeNS(null,"transform",eb(this.transformMatrix));let en=ee.element.cloneNode(!0);if("evenodd"===this.pendingClip?en.setAttributeNS(null,"clip-rule","evenodd"):en.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,ei.append(en),this.defs.append(ei),ee.activeClipUrl){for(let et of(ee.clipGroup=null,this.extraStack))et.clipGroup=null;ei.setAttributeNS(null,"clip-path",ee.activeClipUrl)}ee.activeClipUrl=`url(#${et})`,this.tgrp=null}clip(ee){this.pendingClip=ee}closePath(){let ee=this.current;if(ee.path){let et=`${ee.path.getAttributeNS(null,"d")}Z`;ee.path.setAttributeNS(null,"d",et)}}setLeading(ee){this.current.leading=-ee}setTextRise(ee){this.current.textRise=ee}setTextRenderingMode(ee){this.current.textRenderingMode=ee}setHScale(ee){this.current.textHScale=ee/100}setRenderingIntent(ee){}setFlatness(ee){}setGState(ee){for(let[et,ei]of ee)switch(et){case"LW":this.setLineWidth(ei);break;case"LC":this.setLineCap(ei);break;case"LJ":this.setLineJoin(ei);break;case"ML":this.setMiterLimit(ei);break;case"D":this.setDash(ei[0],ei[1]);break;case"RI":this.setRenderingIntent(ei);break;case"FL":this.setFlatness(ei);break;case"Font":this.setFont(ei);break;case"CA":this.setStrokeAlpha(ei);break;case"ca":this.setFillAlpha(ei);break;default:(0,es.warn)(`Unimplemented graphic state operator ${et}`)}}fill(){let ee=this.current;ee.element&&(ee.element.setAttributeNS(null,"fill",ee.fillColor),ee.element.setAttributeNS(null,"fill-opacity",ee.fillAlpha),this.endPath())}stroke(){let ee=this.current;ee.element&&(this._setStrokeAttributes(ee.element),ee.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(ee,et=1){let ei=this.current,en=ei.dashArray;1!==et&&en.length>0&&(en=en.map(function(ee){return et*ee})),ee.setAttributeNS(null,"stroke",ei.strokeColor),ee.setAttributeNS(null,"stroke-opacity",ei.strokeAlpha),ee.setAttributeNS(null,"stroke-miterlimit",ey(ei.miterLimit)),ee.setAttributeNS(null,"stroke-linecap",ei.lineCap),ee.setAttributeNS(null,"stroke-linejoin",ei.lineJoin),ee.setAttributeNS(null,"stroke-width",ey(et*ei.lineWidth)+"px"),ee.setAttributeNS(null,"stroke-dasharray",en.map(ey).join(" ")),ee.setAttributeNS(null,"stroke-dashoffset",ey(et*ei.dashPhase)+"px")}eoFill(){this.current.element?.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){this.current.element?.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){let ee=this.svgFactory.createElement("svg:rect");ee.setAttributeNS(null,"x","0"),ee.setAttributeNS(null,"y","0"),ee.setAttributeNS(null,"width","1px"),ee.setAttributeNS(null,"height","1px"),ee.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().append(ee)}paintImageXObject(ee){let et=this.getObject(ee);if(!et){(0,es.warn)(`Dependent image with object ID ${ee} is not ready yet`);return}this.paintInlineImageXObject(et)}paintInlineImageXObject(ee,et){let ei=ee.width,en=ee.height,es=ef(ee,this.forceDataSchema,!!et),er=this.svgFactory.createElement("svg:rect");er.setAttributeNS(null,"x","0"),er.setAttributeNS(null,"y","0"),er.setAttributeNS(null,"width",ey(ei)),er.setAttributeNS(null,"height",ey(en)),this.current.element=er,this.clip("nonzero");let eo=this.svgFactory.createElement("svg:image");eo.setAttributeNS(ed,"xlink:href",es),eo.setAttributeNS(null,"x","0"),eo.setAttributeNS(null,"y",ey(-en)),eo.setAttributeNS(null,"width",ey(ei)+"px"),eo.setAttributeNS(null,"height",ey(en)+"px"),eo.setAttributeNS(null,"transform",`scale(${ey(1/ei)} ${ey(-1/en)})`),et?et.append(eo):this._ensureTransformGroup().append(eo)}paintImageMaskXObject(ee){let et=this.getObject(ee.data,ee);if(et.bitmap){(0,es.warn)("paintImageMaskXObject: ImageBitmap support is not implemented, ensure that the `isOffscreenCanvasSupported` API parameter is disabled.");return}let ei=this.current,en=et.width,er=et.height,eo=ei.fillColor;ei.maskId=`mask${eA++}`;let eh=this.svgFactory.createElement("svg:mask");eh.setAttributeNS(null,"id",ei.maskId);let ed=this.svgFactory.createElement("svg:rect");ed.setAttributeNS(null,"x","0"),ed.setAttributeNS(null,"y","0"),ed.setAttributeNS(null,"width",ey(en)),ed.setAttributeNS(null,"height",ey(er)),ed.setAttributeNS(null,"fill",eo),ed.setAttributeNS(null,"mask",`url(#${ei.maskId})`),this.defs.append(eh),this._ensureTransformGroup().append(ed),this.paintInlineImageXObject(et,eh)}paintFormXObjectBegin(ee,et){if(Array.isArray(ee)&&6===ee.length&&this.transform(ee[0],ee[1],ee[2],ee[3],ee[4],ee[5]),et){let ee=et[2]-et[0],ei=et[3]-et[1],en=this.svgFactory.createElement("svg:rect");en.setAttributeNS(null,"x",et[0]),en.setAttributeNS(null,"y",et[1]),en.setAttributeNS(null,"width",ey(ee)),en.setAttributeNS(null,"height",ey(ei)),this.current.element=en,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(ee){let et=this.svgFactory.create(ee.width,ee.height),ei=this.svgFactory.createElement("svg:defs");et.append(ei),this.defs=ei;let en=this.svgFactory.createElement("svg:g");return en.setAttributeNS(null,"transform",eb(ee.transform)),et.append(en),this.svg=en,et}_ensureClipGroup(){if(!this.current.clipGroup){let ee=this.svgFactory.createElement("svg:g");ee.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.append(ee),this.current.clipGroup=ee}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",eb(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().append(this.tgrp):this.svg.append(this.tgrp)),this.tgrp}}et.SVGGraphics=ek}],__webpack_module_cache__={};function __w_pdfjs_require__(ee){var et=__webpack_module_cache__[ee];if(void 0!==et)return et.exports;var ei=__webpack_module_cache__[ee]={exports:{}};return __webpack_modules__[ee](ei,ei.exports,__w_pdfjs_require__),ei.exports}var __webpack_exports__={};return(()=>{var ee=__webpack_exports__;Object.defineProperty(ee,"__esModule",{value:!0}),Object.defineProperty(ee,"AbortException",{enumerable:!0,get:function(){return et.AbortException}}),Object.defineProperty(ee,"AnnotationEditorLayer",{enumerable:!0,get:function(){return er.AnnotationEditorLayer}}),Object.defineProperty(ee,"AnnotationEditorParamsType",{enumerable:!0,get:function(){return et.AnnotationEditorParamsType}}),Object.defineProperty(ee,"AnnotationEditorType",{enumerable:!0,get:function(){return et.AnnotationEditorType}}),Object.defineProperty(ee,"AnnotationEditorUIManager",{enumerable:!0,get:function(){return eo.AnnotationEditorUIManager}}),Object.defineProperty(ee,"AnnotationLayer",{enumerable:!0,get:function(){return eh.AnnotationLayer}}),Object.defineProperty(ee,"AnnotationMode",{enumerable:!0,get:function(){return et.AnnotationMode}}),Object.defineProperty(ee,"CMapCompressionType",{enumerable:!0,get:function(){return et.CMapCompressionType}}),Object.defineProperty(ee,"FeatureTest",{enumerable:!0,get:function(){return et.FeatureTest}}),Object.defineProperty(ee,"GlobalWorkerOptions",{enumerable:!0,get:function(){return ed.GlobalWorkerOptions}}),Object.defineProperty(ee,"ImageKind",{enumerable:!0,get:function(){return et.ImageKind}}),Object.defineProperty(ee,"InvalidPDFException",{enumerable:!0,get:function(){return et.InvalidPDFException}}),Object.defineProperty(ee,"MissingPDFException",{enumerable:!0,get:function(){return et.MissingPDFException}}),Object.defineProperty(ee,"OPS",{enumerable:!0,get:function(){return et.OPS}}),Object.defineProperty(ee,"PDFDataRangeTransport",{enumerable:!0,get:function(){return ei.PDFDataRangeTransport}}),Object.defineProperty(ee,"PDFDateString",{enumerable:!0,get:function(){return en.PDFDateString}}),Object.defineProperty(ee,"PDFWorker",{enumerable:!0,get:function(){return ei.PDFWorker}}),Object.defineProperty(ee,"PasswordResponses",{enumerable:!0,get:function(){return et.PasswordResponses}}),Object.defineProperty(ee,"PermissionFlag",{enumerable:!0,get:function(){return et.PermissionFlag}}),Object.defineProperty(ee,"PixelsPerInch",{enumerable:!0,get:function(){return en.PixelsPerInch}}),Object.defineProperty(ee,"PromiseCapability",{enumerable:!0,get:function(){return et.PromiseCapability}}),Object.defineProperty(ee,"RenderingCancelledException",{enumerable:!0,get:function(){return en.RenderingCancelledException}}),ee.SVGGraphics=void 0,Object.defineProperty(ee,"UnexpectedResponseException",{enumerable:!0,get:function(){return et.UnexpectedResponseException}}),Object.defineProperty(ee,"Util",{enumerable:!0,get:function(){return et.Util}}),Object.defineProperty(ee,"VerbosityLevel",{enumerable:!0,get:function(){return et.VerbosityLevel}}),Object.defineProperty(ee,"XfaLayer",{enumerable:!0,get:function(){return ec.XfaLayer}}),Object.defineProperty(ee,"build",{enumerable:!0,get:function(){return ei.build}}),Object.defineProperty(ee,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return et.createValidAbsoluteUrl}}),Object.defineProperty(ee,"getDocument",{enumerable:!0,get:function(){return ei.getDocument}}),Object.defineProperty(ee,"getFilenameFromUrl",{enumerable:!0,get:function(){return en.getFilenameFromUrl}}),Object.defineProperty(ee,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return en.getPdfFilenameFromUrl}}),Object.defineProperty(ee,"getXfaPageViewport",{enumerable:!0,get:function(){return en.getXfaPageViewport}}),Object.defineProperty(ee,"isDataScheme",{enumerable:!0,get:function(){return en.isDataScheme}}),Object.defineProperty(ee,"isPdfFile",{enumerable:!0,get:function(){return en.isPdfFile}}),Object.defineProperty(ee,"loadScript",{enumerable:!0,get:function(){return en.loadScript}}),Object.defineProperty(ee,"normalizeUnicode",{enumerable:!0,get:function(){return et.normalizeUnicode}}),Object.defineProperty(ee,"renderTextLayer",{enumerable:!0,get:function(){return es.renderTextLayer}}),Object.defineProperty(ee,"setLayerDimensions",{enumerable:!0,get:function(){return en.setLayerDimensions}}),Object.defineProperty(ee,"shadow",{enumerable:!0,get:function(){return et.shadow}}),Object.defineProperty(ee,"updateTextLayer",{enumerable:!0,get:function(){return es.updateTextLayer}}),Object.defineProperty(ee,"version",{enumerable:!0,get:function(){return ei.version}});var et=__w_pdfjs_require__(1),ei=__w_pdfjs_require__(2),en=__w_pdfjs_require__(6),es=__w_pdfjs_require__(26),er=__w_pdfjs_require__(27),eo=__w_pdfjs_require__(5),eh=__w_pdfjs_require__(29),ed=__w_pdfjs_require__(14),ec=__w_pdfjs_require__(31);let eu=__w_pdfjs_require__(34).SVGGraphics;ee.SVGGraphics=eu})(),__webpack_exports__})())},9007:function(ee,et,ei){ee.exports=ei.p+"4ed6c00b854de7b3d813.woff"},8392:function(ee,et,ei){ee.exports=ei.p+"2103a87af3c3ca46d3e3.woff2"},6072:function(ee,et,ei){ee.exports=ei.p+"6f2d9d77c7d9051250b5.woff"},5298:function(ee,et,ei){ee.exports=ei.p+"30969d5a40f3252b3dbd.woff2"},7472:function(ee,et,ei){ee.exports=ei.p+"50b86b07a28832e7f937.woff"},8960:function(ee,et,ei){ee.exports=ei.p+"777897621203a9947963.woff2"},9953:function(ee,et,ei){ee.exports=ei.p+"dfde0ba0db308ed4a597.woff"},7562:function(ee,et,ei){ee.exports=ei.p+"af1ae750f346c10259e3.woff2"},1904:function(ee,et,ei){ee.exports=ei.p+"7bb319f77eb3d8150de6.woff"},1606:function(ee,et,ei){ee.exports=ei.p+"f239d1cbbe7400305599.woff2"},7634:function(ee,et,ei){ee.exports=ei.p+"18b1f005d0357ecfc925.png"},2801:function(ee,et,ei){ee.exports=ei.p+"15376ace11766c17f240.svg"},698:function(ee,et,ei){},2299:function(ee,et,ei){},175:function(ee,et,ei){},2878:function(ee,et,ei){},9495:function(ee,et,ei){},1975:function(ee,et,ei){},5266:function(ee,et,ei){},4898:function(ee,et,ei){},1817:function(ee,et,ei){},956:function(ee,et,ei){"use strict";ei.r(et),ei.d(et,{render:function(){return es}});let en=[[/\r\n/g,"\n"],[/\n(#+)(.*)/g,(ee,et,ei="")=>{let en=et.length;return`<h${en}>${ei.trim()}</h${en}>`}],[/!\[([^\[]+)\]\((?:javascript:)?([^\)]+)\)/g,'<img src="$2" alt="$1">'],[/\[([^\[]+)\]\((?:javascript:)?([^\)]+)\)/g,'<a href="$2">$1</a>'],[/(\*\*|__)(.*?)\1/g,"<strong>$2</strong>"],[/\\_/g,"&#95;"],[/(\*|_)(.*?)\1/g,"<em>$2</em>"],[/\~\~(.*?)\~\~/g,"<del>$1</del>"],[/\:\"(.*?)\"\:/g,"<q>$1</q>"],[/\n\s*```\n([^]*?)\n\s*```\s*\n/g,"\n<pre>$1</pre>"],[/`(.*?)`/g,(ee,et)=>`<code>${(ee=>{ee=ee.replace(/\&/g,"&amp;");let et="'#<>`*-~_=:\"![]()nt",ei=et.length;for(let en=0;en<ei;en++)ee=ee.replace(RegExp("\\"+et[en],"g"),ee=>`&#${ee.charCodeAt(0)};`);return ee})(et)}</code>`],[/\n(\*|\-|\+)(.*)/g,(ee,et,ei="")=>`<ul>
	<li>${ei.trim()}</li>
</ul>`],[/\n[0-9]+\.(.*)/g,(ee,et="")=>`<ol>
	<li>${et.trim()}</li>
</ol>`],[/\n(&gt;|\>)(.*)/g,(ee,et,ei="")=>`
<blockquote>${ei.trim()}</blockquote>`],[/(\^)(.*?)\1/g,"<sup>$2</sup>"],[/(\~)(.*?)\1/g,"<sub>$2</sub>"],[/\n-{5,}/g,"\n<hr />"],[/( *\|[^\n]+\|\r?\n)((?: *\|:?[ -]+:?)+ *\|)(\n(?: *\|[^\n]+\|\r?\n?)*)?/g,(ee,et,ei,en)=>{let es=ei.split("|").filter((ee,et,ei)=>et>0&&et<ei.length-1).map(ee=>/:-+:/g.test(ee)?"center":/-+:/g.test(ee)?"right":/:-+/.test(ee)?"left":""),er=ee=>{let et=es[ee];return et?` align="${et}"`:""};return`
<table><tbody><tr>${et.split("|").map(ee=>ee.trim()).filter(ee=>ee&&ee.length).map((ee,et)=>`<th${er(et)}>${ee}</th>`).join("")}</tr>${en.split("\n").map(ee=>ee.trim()).filter(ee=>ee&&ee.length).map(ee=>`<tr>${ee.split("|").filter((ee,et,ei)=>et>0&&et<ei.length-1).map((ee,et)=>`<td${er(et)}>${ee.trim()}</td>`).join("")}</tr>`).join("")}</tbody></table>
`}],[/\n([^\n]+)\n/g,(ee,et)=>{let ei=et.trim();return/^<\/?(ul|ol|li|h|p|bl|table|tr|td)/i.test(ei)?`
${et}
`:`
<p>
${ei}
</p>
`}],[/\s?<\/ul>\s?<ul>/g,""],[/\s?<\/ol>\s?<ol>/g,""],[/<\/blockquote>\n<blockquote>/g,"<br>\n"],[/https?:\/\/[^"']*/g,ee=>ee.replace(/<\/?em>/g,"_")],[/&#95;/g,"_"]],es=(ee,et=!1,ei=!1)=>(ee=`
${ee}
`,en.forEach(([et,ei])=>{ee=ee.replace(et,ei)}),et?ei?ee.trim().replace(/^<p>([\s\S]*)<\/p>$/,"$1").replace(/<a href="/,'<a target="_blank" href="'):ee.trim().replace(/^<p>([\s\S]*)<\/p>$/,"$1"):ei?ee.trim().replace(/<a href="/,'<a target="_blank" href="'):ee.trim())},1027:function(ee,et,ei){"use strict";ei.r(et);var en=ei("7339"),es=ei.n(en);ei("698"),ei("2299"),ei("175");var er=ei("8421");document.documentElement.setAttribute("lang","nl"),es.route(document.body,er.routingSvc.defaultRoute,(0,er.routingSvc).routingTable())},2992:function(ee,et,ei){"use strict";ei.r(et),ei.d(et,{AboutPage:function(){return ed}});var en=ei("7339"),es=ei.n(en),er=ei("956"),eo=ei("2797");let eh=`#### Over deze applicatie

Deze EXPERIMENTELE LCMS viewer stelt je in staat om een LCMS log, als PDF document, in te laden. Vervolgens kan het incident nogmaals doorlopen worden in de tijd. 
Op dit moment zijn er nog een aantal beperkingen:

- Doorgestreepte tekst wordt niet als dusdanig weergegeven. Dus als 1 slachtoffer wordt verandert in 2 slachtoffers, dan staat er 12 slachtoffers.
- Tabellen worden nog niet goed weergegeven. Dit is een groot nadeel, vooral in de besluitvorming.
`,ed=()=>({oninit:({attrs:{actions:{setPage:ee}}})=>ee(eo.Dashboards.ABOUT),view:({})=>[es(".row",[]),es(".row.markdown",es.trust((0,er.render)(eh)))]})},7259:function(ee,et,ei){"use strict";ei.r(et),ei.d(et,{HomePage:function(){return eu}});var en=ei("7339"),es=ei.n(en),er=ei("1704"),eo=ei("7634"),eh=ei("6750"),ed=ei("2797"),ec=ei("2426");let eu=()=>{let ee=window.File&&window.FileReader&&window.FileList&&window.Blob;return{oninit:({attrs:{actions:{setPage:ee}}})=>{ee(ed.Dashboards.HOME)},view:({attrs:{actions:{saveModel:et,saveLog:ei,changePage:en}}})=>{let eu=!1;return[es("div",{style:"position: relative;"},[es("img.responsive-img.center",{src:eo}),es(".buttons.center",{style:"margin: 10px auto;"},[es(er.Button,{iconName:"clear",disabled:eu,className:"btn-large",label:"Clear",modalId:"clearAll"}),es("input#selectFiles[type=file][accept=.pdf]",{style:"display:none"}),ee&&es(er.Button,{iconName:"upload",className:"btn-large",label:"Upload",onclick:()=>{let ee=document.getElementById("selectFiles");ee.onchange=()=>{if(!ee)return;let es=ee.files;if(!es||es&&es.length<=0)return;let er=es&&es.item(0),eo=er&&/json$/i.test(er.name),eh=new FileReader;eh.onload=async ee=>{if(eo){let ei=ee&&ee.target&&ee.target.result,es=JSON.parse(ei.toString());es&&es.version&&et(es),en(ed.Dashboards.LOG)}else{let ee=new Uint8Array(eh.result),et=async(ee,et)=>{let en=(0,ec.onFinish)(et);await ei(ee,en)};await (0,ec.pdfToText)(ee,et),en(ed.Dashboards.LOG)}},er&&(eo?eh.readAsText(er):eh.readAsArrayBuffer(er))},ee.click()}})]),es(".section.white",es(".row.container.center",[es(".row",es(".col.s12.align-center","Deze EXPERIMENTELE viewer staat je toe om een LCMS log (PDF) in te laden, en het incident nog eens na te lopen.")),es(".row",[es(".col.s12.m4",es(".icon-block",[es(".center",es(er.Icon,{iconName:"visibility"})),es("h5.center","Beeldvorming"),es("p","Lees nog eens na hoe het allemaal verlopen is.")])),es(".col.s12.m4",es(".icon-block",[es(".center",es(er.Icon,{iconName:"balance"})),es("h5.center","Beoordeel"),es("p","Liep het incident lekker, of kan het nog beter.")])),es(".col.s12.m4",es(".icon-block",[es(".center",es(er.Icon,{iconName:"edit_note"})),es("h5.center","Beslis"),es("p","Valt hier iets uit te leren? Zo ja, misschien goed om deze lessen op te nemen in de Lessons Learned Library...")]))])])),es(er.ModalPanel,{id:"clearAll",title:"Do you really want to delete everything?",description:"Are you sure that you want to delete your model?",buttons:[{label:"Yes",iconName:"delete",onclick:()=>{et(ed.defaultModel),(0,eh.routingSvc).switchTo(ed.Dashboards.LOG)}},{label:"No",iconName:"cancel"}]})])]}}}},3138:function(ee,et,ei){"use strict";ei.r(et);var en=ei("2992");ei.es(en,et);var es=ei("7259");ei.es(es,et);var er=ei("6455");ei.es(er,et);var eo=ei("8361");ei.es(eo,et)},8361:function(ee,et,ei){"use strict";ei.r(et),ei.d(et,{Layout:function(){return ec}});var en=ei("7339"),es=ei.n(en),er=ei("1704"),eo=ei("2801"),eh=ei("2797"),ed=ei("8421");let ec=()=>({view:({children:ee,attrs:{state:{page:et,curUser:ei},actions:{changePage:en}}})=>{let ec=ee=>et===ee.id?".active":"",eu=(0,ed.routingSvc).getList().filter(ee=>"admin"===ei||ee.id!==eh.Dashboards.SETTINGS).filter(ee=>("boolean"==typeof ee.visible?ee.visible:ee.visible())||ec(ee));return es(".main",{style:"overflow-x: hidden"},[es(".navbar-fixed",{style:"z-index: 1001"},es("nav",es(".nav-wrapper",[es("a.brand-logo[href=#].show-on-large",{style:"margin-left: 20px"},[es(`img[width=60][height=60][src=${eo}]`,{style:"margin-top: 5px; margin-left: -5px;"})]),es(es.route.Link,{className:"sidenav-trigger","data-target":"slide-out",href:es.route.get()},es(er.Icon,{iconName:"menu",className:"hide-on-med-and-up black-text",style:"margin-left: 5px;"})),es("ul#slide-out.sidenav.hide-on-med-and-up",{oncreate:()=>{let ee=document.querySelectorAll(".sidenav");M.Sidenav.init(ee)}},eu.map(ee=>es(`li.tooltip${ec(ee)}.unselectable`,[es("a",{href:(0,ed.routingSvc).href(ee.id)},es(er.Icon,{className:ee.iconClass?` ${ee.iconClass}`:"",iconName:"string"==typeof ee.icon?ee.icon:ee.icon()}),("string"==typeof ee.title?ee.title:ee.title()).toUpperCase())]))),es("ul.right.hide-on-med-and-down",eu.map(ee=>es(`li.tooltip${ec(ee)}.unselectable`,[es(er.Icon,{className:"hoverable"+(ee.iconClass?` ${ee.iconClass}`:""),style:"font-size: 2.2rem; width: 4rem;",iconName:"string"==typeof ee.icon?ee.icon:ee.icon(),onclick:()=>en(ee.id)}),es("span.tooltiptext",("string"==typeof ee.title?ee.title:ee.title()).toUpperCase())])))]))),es(".container",{style:"padding-top: 1rem"},ee)])}})},6455:function(ee,et,ei){"use strict";ei.r(et),ei.d(et,{LogPage:function(){return ep}});var en=ei("7339"),es=ei.n(en),er=ei("2797"),eo=ei("2426"),eh=ei("956"),ed=ei("1704"),ec=ei("8984");let eu=()=>{let ee=ee=>ee.blocks.map(eo.toMarkdown).join("\n");return{view:({attrs:{logs:et}})=>{console.log(et);let{beeld:ei,oordeel:en,besluit:er}=et.reduce((et,ei)=>{let en=ei.blocks&&ei.blocks.length&&ei.blocks[0].line||"";return/beeld/i.test(en)?et.beeld+=ee(ei):/oordeel/i.test(en)?et.oordeel+=ee(ei):/besluit/i.test(en)&&(et.besluit+=ee(ei)),et},{beeld:"",oordeel:"",besluit:""});return es(".log-view.markdown.row",[es(".beeld.col.s6",es.trust((0,eh.render)(ei))),es(".ob.col.s6",es(".row",[es(".oordeel.col.s12",es.trust((0,eh.render)(en))),es(".oordeel.col.s12",es.trust((0,eh.render)(er)))]))])}}},ep=()=>{let ee=(ee,et)=>{if(ee>=0&&ee<et.length){let ei=et[ee].grip;if(ei&&1<=ei&&ei<6)return["one","two",3,4,5,6][ei-1]}},et=(ee,et)=>{if(ee>=0&&ee<et.length)return et[ee].timestamp},ei=1;return{oninit:({attrs:{actions:{setPage:ee}}})=>{ee(er.Dashboards.LOG)},view:({attrs:{state:en,actions:er}})=>{let{curLogIndex:eo,title:eh,model:{logs:ep,timelineEvents:ef,locations:eg,organisations:em}}=en,{setLogIndex:ey}=er,eb=ee(eo,ep),e_=et(eo,ep),eA=e_&&ep.filter(ee=>!ee.timestamp||ee.timestamp<=e_).reduce((ee,et)=>{let ei;return et.blocks.forEach(en=>{"h4"===en.style?ee[ei=en.line]={...et,blocks:[en]}:ee[ei]&&ee[ei].blocks.push(en)}),ee},{}),ew=eA&&Object.keys(eA).reduce((ee,et)=>(/meldkamer/i.test(et)?ee.MELDKAMER.push(eA[et]):/copi/i.test(et)&&ee.CoPI.push(eA[et]),ee),{CoPI:[],MELDKAMER:[]});return es(".log-viewer",[es(".row",[ew&&es(ed.Select,{initialValue:ei,options:[ew.MELDKAMER.length&&{id:2,label:"Meldkamer"},ew.CoPI.length&&{id:3,label:"COPI"},{id:1,label:"Overig"}].filter(Boolean),onchange:ee=>{ei=ee[0]},className:"col s4"}),e_&&es(".col.s5",[es(ed.Icon,{iconName:"access_time",className:"left medium"}),es(ed.Icon,{iconName:"chevron_left",className:"left medium clickable",disable:eo<=0,onclick:()=>ey(eo-1)}),es("h5.left",new Date(e_).toLocaleString("nl-NL")),es(ed.Icon,{iconName:"chevron_right",className:"right medium clickable",disable:eo>=ep.length-1,onclick:()=>ey(eo+1)})]),eb&&es(".col.s3",[es(ed.Icon,{className:"medium right",iconName:`looks_${eb}`}),es("h5.right","GRIP")]),ew&&es(".col.s12",1===ei?[eg.length>0&&es(".row",es(".col.s12",[es("h5","Locaties"),es("p",eg)])),em.length>0&&es(".row",es(".col.s12",[es("h5","Organisaties"),es("p",em)]))]:2===ei?es(eu,{logs:ew.MELDKAMER}):3===ei?es(eu,{logs:ew.CoPI}):[])]),ef&&ef.length>0&&es(".row",es(".col.s12",{key:eh},es(ec.Timeline,{state:en,actions:er})))])}}}},8984:function(ee,et,ei){"use strict";ei.r(et);var en=ei("1916");ei.es(en,et);var es=ei("3805");ei.es(es,et);var er=ei("3810");ei.es(er,et)},1916:function(ee,et,ei){"use strict";ei.r(et),ei("7339")},3810:function(ee,et,ei){"use strict";ei.r(et),ei("7339"),ei("1704"),ei("2426")},3805:function(ee,et,ei){"use strict";ei.r(et),ei.d(et,{Timeline:function(){return eo}});var en=ei("7339"),es=ei.n(en),er=ei("2426");let eo=()=>{let ee,et;let ei=20,en=60,eo=4,eh=10,ed=eh+eo/2,ec=0,eu=1;return{oninit:async({attrs:{state:{model:{timelineEvents:ei}}}})=>{if(!ei)return;let en=ei.map(ee=>ee.timestamp),es=new Date(Math.min(...en));ee=new Date(es.getFullYear(),es.getMonth(),es.getDate(),es.getHours(),0,0).valueOf();let er=new Date(Math.max(...en));et=new Date(er.getFullYear(),er.getMonth(),er.getDate(),er.getHours()+1,0,0).valueOf()},oncreate:({dom:en})=>{ec=en.clientWidth-2*ei,eu=(et.valueOf()-ee.valueOf())/(1e3*ec),es.redraw()},view:({attrs:{state:{curLogIndex:ep,model:{timelineEvents:ef}},actions:{setLogIndex:eg}}})=>{if(0===ec)return es(".timeline");let em=ef.map(et=>{let{timestamp:en,author:es}=et,er=new Date(en).toLocaleTimeString("nl-NL"),eo=ei+ +((en-ee)/(1e3*eu)).toFixed(1),eh=es;return{ts:er,cx:eo,title:eh}}).filter(Boolean),ey=(0,er.generateNumbers)(ee,et,36e5).map(et=>({timestamp:et,x:ei+ +((et-ee)/(1e3*eu)).toFixed(1)}));return ec>0&&es(".timeline",es("svg",{style:"margin: 0px;",width:`${ec+2*ei}px`,height:`${en}px`},[es("rect",{x:ei,y:eh,width:ec,height:eo,color:"fill: black"}),ey.map(({timestamp:ee,x:et})=>[es("line",{x1:et,y1:eh,x2:et,y2:eh+15,stroke:"black","stroke-width":eo}),es("text[text-anchor=middle]",{x:et,y:eh+35},ee&&new Date(ee).toLocaleTimeString("nl-NL").replace(/:\d{2}$/,""))]),em.length>0&&em.map((ee,et)=>{let{ts:ei,cx:en,title:er}=ee||{},eo=et===ep?"red":"black";return es("circle",{cx:en,cy:ed,r:6,stroke:eo,"stroke-width":3,fill:eo,onclick:()=>{eg(et)}},es("title",er?`${ei}: ${er}`:ei))}).reverse()]))}}}},9686:function(ee,et,ei){"use strict";var en;ei.r(et),ei.d(et,{Dashboards:function(){return en}}),function(ee){ee.HOME="HOME",ee.TAXONOMY="TAXONOMY",ee.INTERVENTIONS="INTERVENTIONS",ee.INTERVENTION="INTERVENTION",ee.ABOUT="ABOUT",ee.SETTINGS="SETTINGS",ee.LOG="OVERVIEW",ee.COMPARE="COMPARE",ee.HELP="HELP"}(en||(en={}))},1118:function(ee,et,ei){"use strict";ei.r(et),ei.d(et,{defaultModel:function(){return en}});let en={version:1,lastUpdate:new Date().valueOf(),users:[],logs:[],timelineEvents:[],organisations:[],locations:[]}},2797:function(ee,et,ei){"use strict";ei.r(et);var en=ei("9686");ei.es(en,et);var es=ei("1118");ei.es(es,et)},6750:function(ee,et,ei){"use strict";ei.r(et);var en=ei("1795");ei.es(en,et);var es=ei("8421");ei.es(es,et)},1795:function(ee,et,ei){"use strict";ei.r(et),ei.d(et,{appActions:function(){return em},cells:function(){return e_}});var en=ei("7339"),es=ei.n(en),er=ei("8233"),eo=ei("6750"),eh=ei("2797"),ed=ei("9463");let ec="LLV_MODEL",eu="LLV_JOURNAL_TITLE",ep="LLV_PAGES",ef=ee=>{document.title=`LCMS LOG VIEWER: ${ee}`},eg=ee=>{let et,ei=!1,en=0,es=[],er=[],eo=ee.reduce((eo,eh,ed)=>{if(en>0)return en--,eo;if(["h1","h2"].indexOf(eh.style)>=0)return ei=!1,eo;if("h4"===eh.style&&ed+1<ee.length){let ei="body"===ee[ed+1].style;if(ei&&/algemeen\s+-\s+grip-status/i.test(eh.line)){let ei=/grip\s+.*(\d)\s*$/i.exec(ee[ed+1].line);return ei&&ei.length>=2&&(et=+ei[1]),en=1,eo}if(ei&&/algemeen\s+-\s+locatie/i.test(eh.line)){let et=ed+1;do er.push(ee[et].line),et++,en++;while(et<ee.length&&"body"===ee[et].style);return en=1,eo}if(ei&&/algemeen\s+-\s+betrokken organisaties/i.test(eh.line)){let et=ed+1;do es.push(ee[et].line),et++,en++;while(et<ee.length&&"body"===ee[et].style);return en=1,eo}if(!/beeldvorming|oordeel|besluitvorming/i.test(eh.line)){let et=ed+1;do et++,en++;while(et<ee.length&&"body"===ee[et].style);return eo}}return"h3"===eh.style?(ei=!0,eo.push({grip:et,timestamp:eh.timestamp,author:eh.line,blocks:[]})):ei&&eo.length>0&&eo[eo.length-1].blocks.push(eh),eo},[]).filter(ee=>ee.blocks.length>0),eh=eo.map((ee,et)=>({timestamp:ee.timestamp||0,logIndex:et,author:ee.author}));return{logs:eo,organisations:es,timelineEvents:eh,locations:er}},em=({update:ee})=>({setPage:et=>ee({page:et}),changePage:(et,ei,en)=>{eo.routingSvc&&(0,eo.routingSvc).switchTo(et,ei,en),ee({page:et})},saveModel:et=>{et.lastUpdate=Date.now(),et.version=et.version?++et.version:1,(0,ed.ldb).set(ec,JSON.stringify(et)),ee({model:()=>et,curLogIndex:-1,pageEntries:()=>[],timeline:()=>[]})},saveLog:async(et,ei)=>{ef(et),await (0,ed.ldb).set(eu,et),await (0,ed.ldb).set(ep,JSON.stringify(ei)),ee({title:et,curLogIndex:ei.length>0?0:-1,pageEntries:()=>ei,model:ee=>({...ee,...eg(ei)})})},setLogIndex:et=>ee({curLogIndex:et})}),ey=async ee=>{let et=await (0,ed.ldb).get(ec),ei=et?JSON.parse(et):eh.defaultModel,en=await (0,ed.ldb).get(ep),es=en?JSON.parse(en):[],er=await (0,ed.ldb).get(eu),eo=er||"";ef(eo),ee({model:()=>({...ei,...eg(es)}),pageEntries:()=>es,curLogIndex:es.length>0?0:-1,title:eo})},eb={initial:{title:"",page:eh.Dashboards.HOME,model:eh.defaultModel,curLogIndex:-1,pageEntries:[],timeline:[]}},e_=(0,er.meiosisSetup)({app:eb});ey(e_().update),e_.map(()=>{es.redraw()})},8421:function(ee,et,ei){"use strict";ei.r(et),ei.d(et,{routingSvc:function(){return eu}});var en=ei("7339"),es=ei.n(en),er=ei("2797"),eo=ei("1795"),eh=ei("8361"),ed=ei("3138");class ec{dashboards;constructor(ee){this.setList(ee)}getList(){return this.dashboards}setList(ee){this.dashboards=Object.freeze(ee)}get defaultRoute(){let ee=this.dashboards.filter(ee=>ee.default).shift();return ee?ee.route:this.dashboards[0].route}route(ee,et){let ei=this.dashboards.filter(et=>et.id===ee).shift();return ei?"#!"+ei.route+(et?"?"+es.buildQueryString(et):""):this.defaultRoute}href(ee,et=""){let ei=this.dashboards.filter(et=>et.id===ee).shift();return ei?`#!${ei.route.replace(/:\w*/,"")}${et}`:this.defaultRoute}switchTo(ee,et,ei){let en=this.dashboards.filter(et=>et.id===ee).shift();if(en){let ee=en.route+(ei?"?"+es.buildQueryString(ei):"");es.route.set(ee,et)}}routingTable(){return this.dashboards.reduce((ee,et)=>(ee[et.route]=!1===et.hasNavBar?{render:()=>{let ee=(0,eo.cells)(),ei=(0,eo.appActions)(ee);return es(et.component,{...ee,actions:ei})}}:{render:()=>{let ee=(0,eo.cells)(),ei=(0,eo.appActions)(ee);return es(eh.Layout,{...ee,actions:ei,options:{}},es(et.component,{...ee,actions:ei}))}},ee),{})}}let eu=new ec([{id:er.Dashboards.HOME,title:"HOME",icon:"home",route:"/",visible:!0,component:ed.HomePage},{id:er.Dashboards.LOG,title:"Journaal",icon:"menu_book",route:"/journaal",visible:!0,component:ed.LogPage},{id:er.Dashboards.ABOUT,title:"About",icon:"info",route:"/about",visible:!0,component:ed.AboutPage}])},2426:function(ee,et,ei){"use strict";ei.r(et),ei.d(et,{generateNumbers:function(){return es}}),ei("7339"),ei("1704");var en=ei("6134");ei.es(en,et);let es=(ee,et,ei=1)=>{if(ee>et)throw Error("Start number must be less than or equal to the end number.");if(ei<=0)throw Error("Step size must be a positive number.");let en=Math.floor((et-ee)/ei)+1;return Array.from({length:en},(et,en)=>ee+en*ei)}},9463:function(ee,et,ei){"use strict";ei.r(et),ei.d(et,{ldb:function(){return es}});let en=()=>{{let ee;let et="undefined"!=typeof window?window:void 0;if(!et)throw Error("indexedDB cannot get window");let ei=et.indexedDB||et.mozIndexedDB||et.webkitIndexedDB||et.msIndexedDB;if("undefined"!=typeof window&&!ei)throw Error("indexDB not supported");let en=ei.open("ldb",1);en.onsuccess=function(){ee=this.result},en.onerror=ee=>{console.error("indexedDB request error"),console.log(ee)},en.onupgradeneeded=function(et){ee=null;let ei=et&&et.target&&et.target.result.createObjectStore("s",{keyPath:"k"});ei.transaction.oncomplete=function(et){ee=et.target.db}};let es={get:et=>new Promise(ei=>{if(!ee){setTimeout(async()=>ei(await es.get(et)),50);return}ee.transaction("s").objectStore("s").get(et).onsuccess=function(ee){let et=ee.target.result&&ee.target.result.v||null;ei(et)}}),set:(et,ei)=>new Promise(en=>{if(!ee){setTimeout(async()=>en(await es.set(et,ei)),50);return}let er=ee.transaction("s","readwrite");er.oncomplete=()=>en(),er.objectStore("s").put({k:et,v:ei}),er.commit()}),delete:et=>new Promise(ei=>{if(!ee){setTimeout(async()=>ei(await es.delete(et)),50);return}ee.transaction("s","readwrite").objectStore("s").delete(et).onsuccess=function(){ei()}}),list:()=>new Promise(et=>{if(!ee){setTimeout(async()=>et(await es.list()),50);return}ee.transaction("s").objectStore("s").getAllKeys().onsuccess=ee=>{let ei=ee.target.result||null;et(ei)}}),getAll:()=>new Promise(et=>{if(!ee){setTimeout(async()=>et(await es.getAll()),50);return}ee.transaction("s").objectStore("s").getAll().onsuccess=ee=>{let ei=ee.target.result||null;et(ei)}}),clear:()=>new Promise(et=>{if(!ee){setTimeout(async()=>et(await es.clear()),50);return}ee.transaction("s","readwrite").objectStore("s").clear().onsuccess=()=>{et()}})};return es}},es=en()},6134:function(ee,et,ei){"use strict";ei.r(et),ei.d(et,{pdfToText:function(){return es},toMarkdown:function(){return ef},onFinish:function(){return eg}});var en=ei("7690");let es=async(ee,et,ei)=>{let es=0,er=await (0,en.getDocument)(ee).promise,eo=er.numPages,eh=await er.getMetadata(),ed=eh&&eh.info&&eh.info.Title||"";ei&&ei(0,eo);let ec=[];for(let ee=1;ee<=eo;ee++){let en=await er.getPage(ee),eh=en.pageNumber,eu=await en.getTextContent();if(null!==eu.items){let ee=[],et="",ei=-1,en=-1,es=null;for(let er of eu.items.filter(ee=>ee.str).sort((ee,et)=>ee.transform[5]>et.transform[5]?-1:1)){if(ei<0&&(ei=er.transform[4]),en<0&&(en=er.transform[5]),null!==es&&" "!==es.str[es.str.length-1]){let eo=er.transform[4],eh=es.transform[4],ed=er.transform[5],ec=es.transform[5];ed<ec?(ee.push({offsetX:ei,offsetY:en,fontHeight:es.transform[3],line:et}),ei=eo,en=ed,et=""):eo===eh||/^(\s?[a-zA-Z0-9])$|^(.+\s[a-zA-Z0-9])$/.test(es.str)||(et+=" ")}et+=er.str,es=er}ee.push({offsetX:ei,offsetY:en,fontHeight:es?.transform[3],line:et}),ec.push({pageNumber:eh,pageInfo:ee})}++es,ei&&ei(es,eo,en),es===eo&&setTimeout(function(){et(ed,ec)},1e3)}},er=ee=>12!==ee.fontHeight&&50<=ee.offsetY&&ee.offsetY<790,eo=ee=>{let et=ee.map((et,ei)=>ei+1<ee.length?`h${ei+1}`:"body");return ei=>et[ee.indexOf(ei)]},eh=()=>{let ee=0,et="";return(ei,en)=>{let es=ei===et&&en>ee+20;return es||(ee=en),et=ei,es}},ed=(ee=0)=>{let et=2*ee,ei=0,en="";return(ee,es=!1,er=0)=>{let eo="body"===ee&&!1===es&&("body"!==en||er<ei-et);return ei=er,en=ee,eo}},ec=()=>{let ee=0,et="";return(ei,en=0,es="")=>{let er=ei===et&&en===ee&&es.length>0&&!/\d/.test(es[0])&&es[0]===es[0].toLowerCase();return et=ei,ee=en,er}},eu=(ee="h1")=>{let et=/h(\d+)/.exec(ee);return et&&2===et.length?`

${Array(+et[1]).fill("#").join("")} `:""},ep=()=>{let ee;let et=/(\d{2})-(\d{2})-(\d{4})\s+(\d{2}):(\d{2})/i;return ei=>{if(!et.test(ei))return ee;let en=et.exec(ei);return!en||en.length<6?ee:(ee=new Date(+en[3],+en[2]-1,+en[1],+en[4],+en[5],0,0)).valueOf()}},ef=({style:ee,indented:et,startParagraph:ei,line:en})=>{let es="body"===ee?ei?"\n\n":et?"\n- ":"":`${eu(ee)}`;return`${es}${en}`},eg=ee=>{let et=Array.from(ee.reduce((ee,{pageInfo:et})=>(et.filter(er).map(({fontHeight:ee})=>ee).forEach(et=>ee.add(et)),ee),new Set)).sort((ee,et)=>ee>et?-1:1),ei=eo(et),en=eh(),es=ed(et[et.length-1]),eu=ec(),ef=ep(),eg=[];return ee.sort((ee,et)=>ee.pageNumber>et.pageNumber?1:-1).map(({pageInfo:ee})=>{let et=ee.filter(er).map(({fontHeight:ee,offsetX:et,offsetY:er,line:eo})=>{let eh=ei(ee),ed=en(eh,et),ec=eu(eh,et,eo),ep=es(eh,ed,er),eg=ef(eo);return{style:eh,indented:ed,join:ec,startParagraph:ep,fontHeight:ee,offsetX:et,offsetY:er,line:eo,timestamp:eg}}).reduce((ee,et)=>(et.join&&ee.length?ee[ee.length-1].line+=" "+et.line:ee.push(et),ee),[]);eg.push(...et)}),eg}}},__webpack_module_cache__={};function __webpack_require__(ee){var et=__webpack_module_cache__[ee];if(void 0!==et)return et.exports;var ei=__webpack_module_cache__[ee]={id:ee,loaded:!1,exports:{}};return __webpack_modules__[ee](ei,ei.exports,__webpack_require__),ei.loaded=!0,ei.exports}!function(){__webpack_require__.es=function(ee,et){return Object.keys(ee).forEach(function(ei){"default"===ei||Object.prototype.hasOwnProperty.call(et,ei)||Object.defineProperty(et,ei,{enumerable:!0,get:function(){return ee[ei]}})}),ee}}(),function(){__webpack_require__.p="https://tno.github.io/lcms_log_viewer"}(),function(){__webpack_require__.o=function(ee,et){return Object.prototype.hasOwnProperty.call(ee,et)}}(),function(){__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||Function("return this")()}catch(ee){if("object"==typeof window)return window}}()}(),function(){__webpack_require__.d=function(ee,et){for(var ei in et)__webpack_require__.o(et,ei)&&!__webpack_require__.o(ee,ei)&&Object.defineProperty(ee,ei,{enumerable:!0,get:et[ei]})}}(),function(){__webpack_require__.r=function(ee){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(ee,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(ee,"__esModule",{value:!0})}}(),function(){__webpack_require__.n=function(ee){return ee&&ee.__esModule?ee.default:ee}}(),function(){__webpack_require__.nmd=function(ee){return ee.paths=[],ee.children||(ee.children=[]),ee}}();var __webpack_exports__=__webpack_require__("1027")}();
//# sourceMappingURL=main.js.map